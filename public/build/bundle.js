var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function u(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function l(){return f(" ")}function p(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function y(t,e){t.value=null==e?"":e}let g;function m(t){g=t}const b=[],w=[],I=[],E=[],_=Promise.resolve();let T=!1;function A(t){I.push(t)}let N=!1;const S=new Set;function k(){if(!N){N=!0;do{for(let t=0;t<b.length;t+=1){const e=b[t];m(e),O(e.$$)}for(m(null),b.length=0;w.length;)w.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];S.has(e)||(S.add(e),e())}I.length=0}while(b.length);for(;E.length;)E.pop()();T=!1,N=!1,S.clear()}}function O(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(A)}}const D=new Set;function P(t,e){t&&t.i&&(D.delete(t),t.i(e))}function C(t,n,o){const{fragment:s,on_mount:u,on_destroy:a,after_update:c}=t.$$;s&&s.m(n,o),A((()=>{const n=u.map(e).filter(i);a?a.push(...n):r(n),t.$$.on_mount=[]})),c.forEach(A)}function x(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function R(t,e){-1===t.$$.dirty[0]&&(b.push(t),T||(T=!0,_.then(k)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function L(e,i,o,s,u,a,h=[-1]){const f=g;m(e);const l=i.props||{},p=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:h,skip_bound:!1};let d=!1;if(p.ctx=o?o(e,l,((t,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&u(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),d&&R(e,t)),n})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();i.intro&&P(e.$$.fragment),C(e,i.target,i.anchor),k()}m(f)}class M{$destroy(){x(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var j=function(t,e){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function V(t,e){function n(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var U=function(){return(U=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function F(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((r=r.apply(t,e||[])).next())}))}function q(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function B(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function G(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function z(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(G(arguments[e]));return t}function K(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function H(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=H(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var W=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function X(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var $=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,J.prototype.create),o}return V(e,t),e}(Error),J=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?Q(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new $(i,u,r);return a},t}();function Q(t,e){return t.replace(Z,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Z=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function tt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function et(t,e){var n=new nt(t,e);return n.subscribe.bind(n)}var nt=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=rt),void 0===r.error&&(r.error=rt),void 0===r.complete&&(r.complete=rt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function rt(){}var it=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),ot="[DEFAULT]",st=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=ot);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new W;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=U({identifier:ot,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService(ot)}catch(t){}try{for(var r=B(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=G(i.value,2),s=o[0],u=o[1],a=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(a);u.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=ot),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return F(this,void 0,void 0,(function(){var t;return q(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(z(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===ot?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:ot:t},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ut,at=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new st(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function ct(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ht,ft=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(ht||(ht={}));var lt,pt={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},dt=ht.INFO,vt=((ut={})[ht.DEBUG]="log",ut[ht.VERBOSE]="log",ut[ht.INFO]="info",ut[ht.WARN]="warn",ut[ht.ERROR]="error",ut),yt=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=vt[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,ct(["["+i+"]  "+t.name+":"],n))}},gt=function(){function t(t){this.name=t,this._logLevel=dt,this._logHandler=yt,this._userLogHandler=null,ft.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ht))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?pt[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ct([this,ht.DEBUG],t)),this._logHandler.apply(this,ct([this,ht.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ct([this,ht.VERBOSE],t)),this._logHandler.apply(this,ct([this,ht.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ct([this,ht.INFO],t)),this._logHandler.apply(this,ct([this,ht.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ct([this,ht.WARN],t)),this._logHandler.apply(this,ct([this,ht.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ct([this,ht.ERROR],t)),this._logHandler.apply(this,ct([this,ht.ERROR],t))},t}();function mt(t){ft.forEach((function(e){e.setLogLevel(t)}))}var bt,wt=((lt={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",lt["bad-app-name"]="Illegal App name: '{$appName}",lt["duplicate-app"]="Firebase App named '{$appName}' already exists",lt["app-deleted"]="Firebase App named '{$appName}' already deleted",lt["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",lt["invalid-log-argument"]="First argument to `onLog` must be null or a function.",lt),It=new J("app","Firebase",wt),Et="@firebase/app",_t="[DEFAULT]",Tt=((bt={})[Et]="fire-core",bt["@firebase/analytics"]="fire-analytics",bt["@firebase/auth"]="fire-auth",bt["@firebase/database"]="fire-rtdb",bt["@firebase/functions"]="fire-fn",bt["@firebase/installations"]="fire-iid",bt["@firebase/messaging"]="fire-fcm",bt["@firebase/performance"]="fire-perf",bt["@firebase/remote-config"]="fire-rc",bt["@firebase/storage"]="fire-gcs",bt["@firebase/firestore"]="fire-fst",bt["fire-js"]="fire-js",bt["firebase-wrapper"]="fire-js-all",bt),At=new gt("@firebase/app"),Nt=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=H(void 0,t),this.container=new at(e.name),this._addComponent(new it("app",(function(){return o}),"PUBLIC"));try{for(var s=B(this.firebase_.INTERNAL.components.values()),u=s.next();!u.done;u=s.next()){var a=u.value;this._addComponent(a)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=_t),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=_t),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){At.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw It.create("app-deleted",{appName:this.name_})},t}();Nt.prototype.name&&Nt.prototype.options||Nt.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function St(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=_t);var s=o.name;if("string"!=typeof s||!s)throw It.create("bad-app-name",{appName:String(s)});if(tt(e,s))throw It.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Tt[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&a.push("and"),u&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void At.warn(a.join(" "))}o(new it(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:mt,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw It.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=pt[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:ht[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=ft;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!tt(e,t=t||_t))throw It.create("no-app",{appName:t});return e[t]}function o(o){var s,u,a=o.name;if(n.has(a))return At.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw It.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&H(c,o.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}try{for(var h=B(Object.keys(e)),f=h.next();!f.done;f=h.next()){var l=f.value;e[l]._addComponent(o)}}catch(t){s={error:t}}finally{try{f&&!f.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var kt=function t(){var e=St(Nt);return e.INTERNAL=U(U({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){H(e,t)},createSubscribe:et,ErrorFactory:J,deepExtend:H}),e}(),Ot=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){At.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Dt=self.firebase.SDK_VERSION;Dt&&Dt.indexOf("LITE")>=0&&At.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Pt=kt.initializeApp;kt.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Y()&&At.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Pt.apply(void 0,t)};var Ct=kt;!function(t,e){t.INTERNAL.registerComponent(new it("platform-logger",(function(t){return new Ot(t)}),"PRIVATE")),t.registerVersion(Et,"0.6.13",e),t.registerVersion("fire-js","")}(Ct);
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
Ct.registerVersion("firebase","8.1.1","app"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.v),reject:t(this.g)}},e.prototype.v=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.m(t):this.h(t)}},e.prototype.m=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)u.b(this.a[t]);this.a=null}};var u=new r;return e.prototype.o=function(t){var e=this.f();t.Pa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Pa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Pa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?u.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Pa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--u&&t(s)}}var s=[],u=0;do{s.push(void 0),u++,o(r.value).Pa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,a=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function l(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.$a=e.prototype,t.prototype=new n,t.prototype.constructor=t}function _(t){return t}function T(t,e,n){this.code=S+t,this.message=e||k[t]||"",this.a=n||null}function A(t){var e=t&&t.code;return e?new T(e.substring(S.length),t.message,t.serverResponse):null}E(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var N,S="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Sa,secureTokenEndpoint:t.Ya,identityPlatformEndpoint:t.Va};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function C(t){if(Error.captureStackTrace)Error.captureStackTrace(this,C);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");C.call(this,n+t[r])}function R(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function j(){this.b=this.a=null}N=D("__EID__")?"__EID__":void 0,E(C,Error),C.prototype.name="CustomError",E(x,C),x.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new L((function(){return new F}),(function(t){t.reset()}));function U(){var t=be,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function F(){this.next=this.b=this.a=null}j.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var G=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var u=o[s];e.call(void 0,u,s,t)&&(r[i++]=u)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e){return 0<=q(t,e)}function W(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function Y(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,tt=/</g,et=/>/g,nt=/"/g,rt=/'/g,it=/\x00/g,ot=/[\x00&<>"']/;function st(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var at=s.navigator;if(at){var ct=at.userAgent;if(ct){J=ct;break t}}J=""}function ht(t){return st(J,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===It&&e||"",this.b=wt}function mt(t){return t instanceof gt&&t.constructor===gt&&t.b===wt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.sa=!0,gt.prototype.ra=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var bt,wt={},It={};function Et(){if(void 0===bt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:_,createScript:_,createScriptURL:_})}catch(t){s.console&&s.console.error(t.message)}bt=t}else bt=t}return bt}function _t(t,e){this.a=e===kt?t:""}function Tt(t){return t instanceof _t&&t.constructor===_t?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function At(t,e){var n=mt(t);if(!St.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Et();return new _t(t=e?e.createScriptURL(t):t,kt)}(t=n.replace(Nt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof gt?mt(t):encodeURIComponent(String(t))})))}_t.prototype.sa=!0,_t.prototype.ra=function(){return this.a.toString()},_t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Nt=/%{(\w+)}/g,St=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,kt={};function Ot(t,e){this.a=e===jt?t:""}function Dt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,xt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Ot)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t))t=new Ot(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(xt);t=e&&Pt.test(e[1])?new Ot(t,jt):null}return t}function Mt(t){return t instanceof Ot?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,jt))}var jt={},Vt=new Ot("about:invalid#zClosurez",jt);function Ut(t,e,n){this.a=n===Ft?t:""}Ut.prototype.sa=!0,Ut.prototype.ra=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ft={};function qt(t,e,n,r){return t=t instanceof Ot?t:Mt(t),e=e||s,n=n instanceof gt?mt(n):n||"",e.open(Dt(t),n,r,void 0)}function Bt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Gt(t){return ot.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(tt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(et,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(nt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(rt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(it,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=h;var Kt,Ht,Wt=ht("Opera"),Xt=ht("Trident")||ht("MSIE"),Yt=ht("Edge"),$t=Yt||Xt,Jt=ht("Gecko")&&!(st(J.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Qt=st(J.toLowerCase(),"webkit")&&!ht("Edge");function Zt(){var t=s.document;return t?t.documentMode:void 0}t:{var te="",ee=(Ht=J,Jt?/rv:([^\);]+)(\)|;)/.exec(Ht):Yt?/Edge\/([\d\.]+)/.exec(Ht):Xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Qt?/WebKit\/(\S+)/.exec(Ht):Wt?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if(ee&&(te=ee?ee[1]:""),Xt){var ne=Zt();if(null!=ne&&ne>parseFloat(te)){Kt=String(ne);break t}}Kt=te}var re,ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Q(String(Kt)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||ut(0==s[2].length,0==u[2].length)||ut(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e}))}if(s.document&&Xt){var se=Zt();re=se||(parseInt(Kt,10)||void 0)}else re=void 0;var ue=re;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ht){}var ae=!Xt||9<=Number(ue);function ce(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function he(t,e){ft(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:pe.hasOwnProperty(n)?t.setAttribute(pe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var fe,le,pe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!l(o)||d(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(d(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}B(s?$(o):o,r)}}}function ve(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ye(t){s.setTimeout((function(){throw t}),0)}function ge(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(we)}}else le=function(){var t=we;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ht("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(fe||(fe=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=ve(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Fb;n.Fb=null,t()}},function(t){r.next={Fb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),fe(t)):s.setImmediate(t)}}(),me||(le(),me=!0),be.add(t,e)}var me=!1,be=new j;function we(){for(var t;t=U();){try{t.a.call(t.b)}catch(t){ye(t)}M(V,t)}me=!1}function Ie(t,e){if(this.a=Ee,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Le(n,_e,t)}),(function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Le(n,Te,t)}))}catch(t){Le(this,Te,t)}}var Ee=0,_e=2,Te=3;function Ae(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ae.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ne=new L((function(){return new Ae}),(function(t){t.reset()}));function Se(t,e,n){var r=Ne.get();return r.g=t,r.b=e,r.f=n,r}function ke(t){if(t instanceof Ie)return t;var e=new Ie(h);return Le(e,_e,t),e}function Oe(t){return new Ie((function(e,n){n(t)}))}function De(t,e,n){Me(t,e,n,null)||ge(w(e,t))}function Pe(t){return new Ie((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)De(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function Ce(t,e){if(t.a==Ee)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==Ee&&1==r?Ce(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ve(n),Ue(n,i,Te,e)))}t.c=null}else Le(t,Te,e)}function xe(t,e){t.b||t.a!=_e&&t.a!=Te||je(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=Se(null,null,null);return i.a=new Ie((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,xe(t,i),i.a}function Le(t,e,n){t.a==Ee&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.Zc,t.$c,t)||(t.i=n,t.a=e,t.c=null,je(t),e!=Te||n instanceof Be||function(t,e){t.g=!0,ge((function(){t.g&&qe.call(null,e)}))}(t,n)))}function Me(t,e,n,r){if(t instanceof Ie)return xe(t,Se(e||h,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){u||(u=!0,r.call(i,t))}function s(t){u||(u=!0,n.call(i,t))}var u=!1;try{e.call(t,s,o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function je(t){t.h||(t.h=!0,ge(t.fc,t))}function Ve(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ue(t,e,n,r){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Fe(e,n,r);else try{e.c?e.g.call(e.f):Fe(e,n,r)}catch(t){qe.call(null,t)}M(Ne,e)}function Fe(t,e,n){e==_e?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ie.prototype.then=function(t,e,n){return Re(this,p(t)?t:null,p(e)?e:null,n)},Ie.prototype.$goog_Thenable=!0,(t=Ie.prototype).na=function(t,e){return(t=Se(t,t,e)).c=!0,xe(this,t),this},t.s=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==Ee){var e=new Be(t);ge((function(){Ce(this,e)}),this)}},t.Zc=function(t){this.a=Ee,Le(this,_e,t)},t.$c=function(t){this.a=Ee,Le(this,Te,t)},t.fc=function(){for(var t;t=Ve(this);)Ue(this,t,this.a,this.i);this.h=!1};var qe=ye;function Be(t){C.call(this,t)}function Ge(){this.xa=this.xa,this.oa=this.oa}E(Be,C),Be.prototype.name="cancel";function ze(t){if(!t.xa&&(t.xa=!0,t.Da(),0))(function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)})(t)}Ge.prototype.xa=!1,Ge.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var Ke=Object.freeze||function(t){return t},He=!Xt||9<=Number(ue),We=Xt&&!oe("9"),Xe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(t){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function $e(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{zt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},E($e,Ye);var Je=Ke({2:"touch",3:"pen",4:"mouse"});$e.prototype.preventDefault=function(){$e.$a.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,We)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},$e.prototype.g=function(){return this.a};var Qe="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Ze,this.va=this.Oa=!1}function en(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Ua=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Ua==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=on(t,e,r,i);return-1<s?(e=t[s],n||(e.Oa=!1)):((e=new tn(e,this.src,o,!!r,i)).Oa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),un={};function an(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)an(t,e[o],n,r,i);else n=bn(n),t&&t[Qe]?In(t,e,n,d(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i,u=gn(t);if(u||(t[sn]=u=new nn(t)),!(n=u.add(e,n,r,s,o)).proxy)if(r=function(){var t=yn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=bn(n),t&&t[Qe]?En(t,e,n,d(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=bn(n),t&&t[Qe]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=gn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&ln(n))}function ln(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Qe])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gn(e))?(rn(n,t),0==n.b&&(n.src=null,e[sn]=null)):en(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=gn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(t,e){var n=t.listener,r=t.Ua||t.src;return t.Oa&&ln(t),n.call(r,e)}function yn(t,e){if(t.va)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new $e(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return vn(t,new $e(e,this))}function gn(t){return(t=t[sn])instanceof nn?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return p(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function wn(){Ge.call(this),this.v=new nn(this),this.$b=this,this.fb=null}function In(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function En(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function _n(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var u=s.listener,a=s.Ua||s.src;s.Oa&&rn(t.v,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}function Tn(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function An(t){var e=null;return new Ie((function(n,r){-1==(e=Tn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw s.clearTimeout(e),t}))}function Nn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Sn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.V||"function"!=typeof t.V){if(l(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function On(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Dn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Dn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Dn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(wn,Ge),wn.prototype[Qe]=!0,wn.prototype.addEventListener=function(t,e,n,r){an(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.fb;if(n)for(e=[];n;n=n.fb)e.push(n);n=this.$b;var r=t.type||t;if("string"==typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var i=t;vt(t=new Ye(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=_n(s,r,!0,t)&&i}if(i=_n(s=t.b=n,r,!0,t)&&i,i=_n(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=_n(s=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.$a.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.fb=null},(t=kn.prototype).V=function(){On(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return On(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Dn(this.b,t)?this.b[t]:e},t.set=function(t,e){Dn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cn(t,e){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,t instanceof Cn?(this.i=void 0!==e?e:t.i,xn(this,t.f),this.l=t.l,this.a=t.a,Rn(this,t.g),this.c=t.c,Ln(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(Pn))?(this.i=!!e,xn(this,n[1]||"",!0),this.l=Fn(n[2]||""),this.a=Fn(n[3]||"",!0),Rn(this,n[4]),this.c=Fn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Fn(n[7]||"")):(this.i=!!e,this.b=new Xn(null,this.i))}function xn(t,e,n){t.f=n?Fn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Xn?(t.b=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),Zn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,Hn)),t.b=new Xn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function jn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Cn?new Cn(t):new Cn(t,void 0)}function Un(t,e,n,r){var i=new Cn(null,void 0);return t&&xn(i,t),e&&(i.a=e),n&&Rn(i,n),r&&(i.c=r),i}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Cn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qn(e,Gn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,Gn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Kn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,Wn)),t.join("")},Cn.prototype.resolve=function(t){var e=new Cn(this),n=!!t.f;n?xn(e,t.f):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.c;if(n)Rn(e,t.g);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(st(i,"./")||st(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var u=i[s++];"."==u?r&&s==i.length&&o.push(""):".."==u?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(u),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.b.toString(),n?Ln(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Gn=/[#\/\?@]/g,zn=/[#\?:]/g,Kn=/[#\?]/g,Hn=/[#\?@]/g,Wn=/#/g;function Xn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $n(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Xn(null,void 0);t=Nn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Jn(t,e){Yn(t),e=er(t,e),Dn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Dn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&On(t)))}function Qn(t,e){return Yn(t),e=er(t,e),Dn(t.a.b,e)}function Zn(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),$(n)),t.b+=n.length)}function tr(t){var e=new Xn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return ir(new rr,t,e),e.join("")}function rr(){}function ir(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ir(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),ur(r,n),n.push(":"),ir(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ur(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Xn.prototype).add=function(t,e){Yn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Yn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Yn(this);for(var t=this.a.V(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Yn(this);var e=[];if("string"==typeof t)Qn(this,t)&&(e=Y(e,this.a.get(er(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Yn(this),this.c=null,Qn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(sr,(function(t){var e=or[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),or[t]=e),e})),'"')}function ar(){var t=kr();return Xt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function cr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||s.window;var n="about:blank";t&&(n=Dt(Lt(t)||Vt)),e.location.href=n}function fr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<fr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function lr(t){return!!((t=(t||kr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||s.window;try{t.close()}catch(t){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=kr().toLowerCase(),r&&(e.target=r,st(n,"crios/")&&(e.target="_blank")),Ar(kr())==_r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Lt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(s=ve(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:Mt(e),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",r,n,s),t=Dt(e),s&&($t&&st(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Gt(t)+'">',t=new Ut(t=(r=Et())?r.createHTML(t):t,null,Ft),r=s.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(s=qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function gr(){var t=null;return new Ie((function(e){"complete"==s.document.readyState?e():(t=function(){e()},hn(window,"load",t))})).s((function(e){throw fn(window,"load",t),e}))}function mr(t){return t=t||kr(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function wr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function Ir(){return Ct.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ct.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Er(){var t=Ir();return"ReactNative"===t||"Node"===t}var _r="Firefox",Tr="Chrome";function Ar(t){var e=t.toLowerCase();return st(e,"opera/")||st(e,"opr/")||st(e,"opios/")?"Opera":st(e,"iemobile")?"IEMobile":st(e,"msie")||st(e,"trident/")?"IE":st(e,"edge/")?"Edge":st(e,"firefox/")?_r:st(e,"silk/")?"Silk":st(e,"blackberry")?"Blackberry":st(e,"webos")?"Webos":!st(e,"safari/")||st(e,"chrome/")||st(e,"crios/")||st(e,"android")?!st(e,"chrome/")&&!st(e,"crios/")||st(e,"edge/")?st(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Tr:"Safari"}var Nr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Nr)i[Nr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=Ar(i=kr()):"Worker"===r&&(r=Ar(i=kr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function kr(){return s.navigator&&s.navigator.userAgent||""}function Or(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Dr(){try{var t=s.localStorage,e=Vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ar()||!!s.indexedDB}catch(t){return wr()&&!!s.indexedDB}return!1}function Pr(){return(Cr()||"chrome-extension:"===xr()||mr())&&!Er()&&Dr()&&!wr()}function Cr(){return"http:"===xr()||"https:"===xr()}function xr(){return s.location&&s.location.protocol||null}function Rr(t){return!lr(t=t||kr())&&Ar(t)!=_r}function Lr(t){return void 0===t?null:nr(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function jr(t){if(null!==t)return JSON.parse(t)}function Vr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ur(t){return"Safari"!=Ar(t=t||kr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function qr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=kr(),e=Ir(),this.b=lr(t)||"ReactNative"===e}function Br(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Gr(t){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t)}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Kr(){return!(!Or("fireauth.oauthhelper",s)&&!Or("fireauth.iframe",s))}qr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Cr()&&"chrome-extension:"!==xr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Hr,Wr={};function Xr(t){Wr[t]||(Wr[t]=!0,Gr(t))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),Hr=2==Yr.abcd}catch(Ht){Hr=!1}function $r(t,e,n){Hr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Jr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&$r(t,n,e[n])}function Qr(t){var e={};return Jr(e,t),e}function Zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)$r(e,n,Zr(t[n]));return e}function ti(t){var e=t&&(t[oi]?"phone":null);if(!(e&&t&&t[ii]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");$r(this,"uid",t[ii]),$r(this,"displayName",t[ni]||null);var n=null;t[ri]&&(n=new Date(t[ri]).toUTCString()),$r(this,"enrollmentTime",n),$r(this,"factorId",e)}function ei(t){try{var e=new si(t)}catch(t){e=null}return e}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function si(t){ti.call(this,t),$r(this,"phoneNumber",t[oi])}function ui(t){var e={},n=t[fi],r=t[pi],i=t[di];if(t=ei(t[li]),!i||i!=ci&&i!=hi&&!n||i==hi&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==hi?(e[yi]=n||null,e[mi]=n||null,e[vi]=r):(e[yi]=r||null,e[mi]=r||null,e[vi]=n||null),e[gi]=t||null,$r(this,wi,i),$r(this,bi,Zr(e))}E(si,ti),si.prototype.w=function(){var t=si.$a.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",fi="email",li="mfaInfo",pi="newEmail",di="requestType",vi="email",yi="fromEmail",gi="multiFactorInfo",mi="previousEmail",bi="data",wi="operation";function Ii(t){var e=jn(t=Vn(t),Ei)||null,n=jn(t,_i)||null,r=jn(t,Ni)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new T("argument-error",Ei+", "+_i+"and "+Ni+" are required in a valid action code URL.");Jr(this,{apiKey:e,operation:r,code:n,continueUrl:jn(t,Ti)||null,languageCode:jn(t,Ai)||null,tenantId:jn(t,Si)||null})}var Ei="apiKey",_i="oobCode",Ti="continueUrl",Ai="languageCode",Ni="mode",Si="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:ci,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function Oi(t){try{return new Ii(t)}catch(t){return null}}function Di(t){var e=t[Li];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Pi];if(n&&"object"==typeof n){e=n[Vi];var r=n[Mi];if(n=n[ji],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",ji+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Vi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Pi+" property must be a non null object when specified.");if(this.f=null,(e=t[Ri])&&"object"==typeof e){if("string"==typeof(e=e[Ui])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Ui+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(e=t[xi])&&"boolean"!=typeof e)throw new T("argument-error",xi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ci])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Ci+" property must be a non empty string when specified.");this.i=t||null}var Pi="android",Ci="dynamicLinkDomain",xi="handleCodeInApp",Ri="iOS",Li="url",Mi="installApp",ji="minimumVersion",Vi="packageName",Ui="bundleId";function Fi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var qi=null;function Bi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=qi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qi){qi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===qi[o]&&(qi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),u=n(64);if(64===u&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=u&&e(s<<6&192|u))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Gi(t){var e=Ki(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function zi(t){try{return new Gi(t)}catch(t){return null}}function Ki(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Bi(t))}catch(t){}return null}Gi.prototype.S=function(){return this.f},Gi.prototype.i=function(){return this.b},Gi.prototype.toString=function(){return this.g};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wi=["client_id","response_type","scope","redirect_uri","state"],Xi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Wi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Wi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Wi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Hi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Yi(t){for(var e in Xi)if(Xi[e].fa==t)return Xi[e];return null}function $i(t){var e={};e["facebook.com"]=eo,e["google.com"]=ro,e["github.com"]=no,e["twitter.com"]=io;var n=t&&t[Qi];try{if(n)return e[n]?new e[n](t):new to(t);if(void 0!==t[Ji])return new Zi(t)}catch(t){}return null}var Ji="idToken",Qi="providerId";function Zi(t){var e=t[Qi];if(!e&&t[Ji]){var n=zi(t[Ji]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),$r(this,"providerId",e),$r(this,"isNewUser",n)}function to(t){Zi.call(this,t),$r(this,"profile",Zr((t=jr(t.rawUserInfo||"{}"))||{}))}function eo(t){if(to.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(to.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",this.profile&&this.profile.login||null)}function ro(t){if(to.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(to.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",t.screenName||null)}function oo(t){var e=Vn(t),n=jn(e,"link"),r=jn(Vn(n),"link");return e=jn(e,"deep_link_id"),jn(Vn(e),"link")||e||r||n||t}function so(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?uo:ao}E(to,Zi),E(eo,to),E(no,to),E(ro,to),E(io,to);var uo="enroll",ao="signin";function co(){}function ho(t,e){return t.then((function(t){if(t[Zs]){var n=zi(t[Zs]);if(!n||e!=n.h)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==S+"user-not-found"?new T("user-mismatch"):t}))}function fo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,$r(this,"providerId",t),$r(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function po(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new fo(t.providerId,t.pendingToken)}catch(t){}return null}function vo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&$r(this,"idToken",e.idToken),e.accessToken&&$r(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&$r(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");$r(this,"accessToken",e.oauthToken),$r(this,"secret",e.oauthTokenSecret)}$r(this,"providerId",t),$r(this,"signInMethod",n)}function yo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:$n(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new vo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function mo(t,e){this.Pc=e||[],Jr(this,{providerId:t,isOAuthProvider:!0}),this.Hb={},this.ob=(Yi(t)||{}).Ja||null,this.nb=null}function bo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function wo(t){mo.call(this,t,Wi),this.a=[]}function Io(){wo.call(this,"facebook.com")}function Eo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new Io).credential({accessToken:e})}function _o(){wo.call(this,"github.com")}function To(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function Ao(){wo.call(this,"google.com"),this.Ca("profile")}function No(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new Ao).credential({idToken:n,accessToken:e})}function So(){mo.call(this,"twitter.com",Hi)}function ko(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new vo("twitter.com",n,"twitter.com")}function Oo(t,e,n){this.a=t,this.f=e,$r(this,"providerId","password"),$r(this,"signInMethod",n===Po.EMAIL_LINK_SIGN_IN_METHOD?Po.EMAIL_LINK_SIGN_IN_METHOD:Po.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(t){return t&&t.email&&t.password?new Oo(t.email,t.password,t.signInMethod):null}function Po(){Jr(this,{providerId:"password",isOAuthProvider:!1})}function Co(t,e){if(!(e=xo(e)))throw new T("argument-error","Invalid email link!");return new Oo(t,e.code,Po.EMAIL_LINK_SIGN_IN_METHOD)}function xo(t){return(t=Oi(t=oo(t)))&&t.operation===ci?t:null}function Ro(t){if(!(t.cb&&t.bb||t.La&&t.ea))throw new T("internal-error");this.a=t,$r(this,"providerId","phone"),this.fa="phone",$r(this,"signInMethod","phone")}function Lo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Ro(e)}return null}function Mo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.cb,code:t.a.bb}}function jo(t){try{this.a=t||Ct.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Jr(this,{providerId:"phone",isOAuthProvider:!1})}function Vo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new Ro({cb:t,bb:e})}function Uo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return No(o,n);case"facebook.com":return Eo(n);case"github.com":return To(n);case"twitter.com":return ko(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new fo(e,s):new vo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new wo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Fo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function qo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Bo(t){return(t=t||{}).type?new qo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&A(t.error),t.postBody,t.tenantId):null}function Go(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?ke(this.a):ke(this.b)},so.prototype.w=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},co.prototype.ja=function(){},co.prototype.b=function(){},co.prototype.c=function(){},co.prototype.w=function(){},fo.prototype.ja=function(t){return Iu(t,lo(this))},fo.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,Eu(t,n)},fo.prototype.c=function(t,e){return ho(_u(t,lo(this)),e)},fo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},vo.prototype.ja=function(t){return Iu(t,yo(this))},vo.prototype.b=function(t,e){var n=yo(this);return n.idToken=e,Eu(t,n)},vo.prototype.c=function(t,e){return ho(_u(t,yo(this)),e)},vo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Hb=pt(t),this},E(bo,mo),E(wo,mo),wo.prototype.Ca=function(t){return H(this.a,t)||this.a.push(t),this},wo.prototype.Pb=function(){return $(this.a)},wo.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new vo(this.providerId,n,this.providerId)},E(Io,wo),$r(Io,"PROVIDER_ID","facebook.com"),$r(Io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(_o,wo),$r(_o,"PROVIDER_ID","github.com"),$r(_o,"GITHUB_SIGN_IN_METHOD","github.com"),E(Ao,wo),$r(Ao,"PROVIDER_ID","google.com"),$r(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),E(So,mo),$r(So,"PROVIDER_ID","twitter.com"),$r(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Oo.prototype.ja=function(t){return this.signInMethod==Po.EMAIL_LINK_SIGN_IN_METHOD?ia(t,Pu,{email:this.a,oobCode:this.f}):ia(t,Zu,{email:this.a,password:this.f})},Oo.prototype.b=function(t,e){return this.signInMethod==Po.EMAIL_LINK_SIGN_IN_METHOD?ia(t,Cu,{idToken:e,email:this.a,oobCode:this.f}):ia(t,Ku,{idToken:e,email:this.a,password:this.f})},Oo.prototype.c=function(t,e){return ho(this.ja(t),e)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Jr(Po,{PROVIDER_ID:"password"}),Jr(Po,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Jr(Po,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ja=function(t){return t.eb(Mo(this))},Ro.prototype.b=function(t,e){var n=Mo(this);return n.idToken=e,ia(t,ea,n)},Ro.prototype.c=function(t,e){var n=Mo(this);return n.operation="REAUTH",ho(t=ia(t,na,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.cb&&(t.verificationId=this.a.cb),this.a.bb&&(t.verificationCode=this.a.bb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},jo.prototype.eb=function(t,e){var n=this.a.a;return ke(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==uo?i.Ha().then((function(t){return function(t,e){return ia(t,Wu,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ao?i.Ha().then((function(e){return function(t,e){return ia(t,Xu,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return ia(t,Gu,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Jr(jo,{PROVIDER_ID:"phone"}),Jr(jo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},qo.prototype.S=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var zo,Ko=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.f)?n=Bt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Bt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Wo(t,e,n){T.call(this,t,n),(t=e||{}).Ib&&$r(this,"email",t.Ib),t.ea&&$r(this,"phoneNumber",t.ea),t.credential&&$r(this,"credential",t.credential),t.Yb&&$r(this,"tenantId",t.Yb)}function Xo(t){if(t.code){var e=t.code||"";0==e.indexOf(S)&&(e=e.substring(S.length));var n={credential:Uo(t),Yb:t.tenantId};if(t.email)n.Ib=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Wo(e,n,t.message)}return null}function Yo(){}function $o(t){return t.c||(t.c=t.b())}function Jo(){}function Qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Zo(){}function ts(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.pc,this),this.a.onerror=b(this.Rb,this),this.a.onprogress=b(this.qc,this),this.a.ontimeout=b(this.uc,this)}function es(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ns(t,e,n){this.reset(t,e,n,void 0,void 0)}function rs(t){this.f=t,this.b=this.c=this.a=null}function is(t,e){this.name=t,this.value=e}E(Ho,T),E(Wo,T),Wo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Wo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,E(Jo,Yo),Jo.prototype.a=function(){var t=Qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Jo.prototype.b=function(){var t={};return Qo(this)&&(t[0]=!0,t[1]=!0),t},zo=new Jo,E(Zo,Yo),Zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ts;throw Error("Unsupported browser")},Zo.prototype.b=function(){return{}},(t=ts.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,es(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",es(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,es(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ns.prototype.a=null,ns.prototype.reset=function(t,e,n,r,i){delete this.a},is.prototype.toString=function(){return this.name};var os=new is("SEVERE",1e3),ss=new is("WARNING",900),us=new is("CONFIG",700),as=new is("FINE",500);function cs(t){return t.c?t.c:t.a?cs(t.a):(R("Root logger has no level set."),null)}rs.prototype.log=function(t,e,n){if(t.value>=cs(this).value)for(p(e)&&(e=e()),t=new ns(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var hs={},fs=null;function ls(t){var e;if(fs||(fs=new rs(""),hs[""]=fs,fs.c=us),!(e=hs[t])){e=new rs(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,hs[t]=e}return e}function ps(t,e){t&&t.log(as,e,void 0)}function ds(t){this.f=t}function vs(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=ys,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.o="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(ds,Yo),ds.prototype.a=function(){return new vs(this.f)},ds.prototype.b=function(t){return function(){return t}}({}),E(vs,wn);var ys=0;function gs(t){t.c.read().then(t.oc.bind(t)).catch(t.Ta.bind(t))}function ms(t){t.readyState=4,t.g=null,t.c=null,t.m=null,bs(t)}function bs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ws(t){wn.call(this),this.headers=new kn,this.O=t||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=Is,this.u=this.R=!1}(t=vs.prototype).open=function(t,e){if(this.readyState!=ys)throw this.abort(),Error("Error reopening a connection");this.o=t,this.f=e,this.readyState=1,bs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.o,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this)),this.readyState=ys},t.tc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,bs(this)),this.a&&(this.readyState=3,bs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,gs(this)):t.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this):bs(this),3==this.readyState&&gs(this)}},t.sc=function(t){this.a&&(this.response=this.responseText=t,ms(this))},t.rc=function(t){this.a&&(this.response=t,ms(this))},t.Ta=function(t){var e=this.i;e&&e.log(ss,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ms(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ss,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ss,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),E(ws,wn);var Is="";ws.prototype.b=ls("goog.net.XhrIo");var Es=/^https?$/i,_s=["POST","PUT"];function Ts(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.G=!1,t.c=!0,t.a=t.O?t.O.a():zo.a(),t.A=t.O?$o(t.O):$o(zo),t.a.onreadystatechange=b(t.Ub,t);try{ps(t.b,xs(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(e){return ps(t.b,xs(t,"Error opening Xhr: "+e.message)),void Ns(t,e)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)B(t,e,void 0);else for(var n=Sn(t),r=Nn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=As,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!H(_s,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ds(t),0<t.g&&(t.u=function(t){return Xt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ps(t.b,xs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.o=Tn(t.Ma,t.g,t)),ps(t.b,xs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ps(t.b,xs(t,"Send error: "+e.message)),Ns(t,e)}}function As(t){return"content-type"==t.toLowerCase()}function Ns(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ss(t),Os(t)}function Ss(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ks(t){if(t.c&&void 0!==o)if(t.A[1]&&4==Ps(t)&&2==Cs(t))ps(t.b,xs(t,"Local request error detected and ignored"));else if(t.i&&4==Ps(t))Tn(t.Ub,0,t);else if(t.dispatchEvent("readystatechange"),4==Ps(t)){ps(t.b,xs(t,"Request complete")),t.c=!1;try{var e,n=Cs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var u=String(t.l).match(Pn)[1]||null;if(!u&&s.self&&s.self.location){var a=s.self.location.protocol;u=a.substr(0,a.length-1)}i=!Es.test(u?u.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ps(t)?t.a.statusText:""}catch(e){ps(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Cs(t)+"]",Ss(t)}}finally{Os(t)}}}function Os(t,e){if(t.a){Ds(t);var n=t.a,r=t.A[0]?h:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(os,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ds(t){t.a&&t.u&&(t.a.ontimeout=null),t.o&&(s.clearTimeout(t.o),t.o=null)}function Ps(t){return t.a?t.a.readyState:0}function Cs(t){try{return 2<Ps(t)?t.a.status:-1}catch(t){return-1}}function xs(t,e){return e+" ["+t.P+" "+t.l+" "+Cs(t)+"]"}function Rs(t){var e=Ks;this.g=[],this.u=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Ls(t,e,n){t.a=!0,t.c=n,t.f=!e,Us(t)}function Ms(t){if(t.a){if(!t.m)throw new Fs(t);t.m=!1}}function js(t,e,n,r){t.g.push([e,n,r]),t.a&&Us(t)}function Vs(t){return K(t.g,(function(t){return p(t[1])}))}function Us(t){if(t.h&&t.a&&Vs(t)){var e=t.h,n=Gs[e];n&&(s.clearTimeout(n.a),delete Gs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],u=i[1];if(i=i[2],o=t.f?u:o)try{var a=o.call(i||t.o,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(P(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Vs(t)||(n=!0)}}t.c=e,r&&(a=b(t.v,t,!0),r=b(t.v,t,!1),e instanceof Rs?(js(e,a,r),e.A=!0):e.then(a,r)),n&&(e=new Bs(e),Gs[e.a]=e,t.h=e.a)}function Fs(){C.call(this)}function qs(){C.call(this)}function Bs(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=ws.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ps(this.b,xs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ps(this.b,xs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Os(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Os(this,!0)),ws.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?ks(this):this.Ic())},t.Ic=function(){ks(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Is:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(os,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ps(this.b,"Can not get response: "+t.message),null}},Rs.prototype.cancel=function(t){if(this.a)this.c instanceof Rs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(t=new qs(this),Ms(this),Ls(this,!1,t))}},Rs.prototype.v=function(t,e){this.i=!1,Ls(this,t,e)},Rs.prototype.then=function(t,e,n){var r,i,o=new Ie((function(t,e){r=t,i=e}));return js(this,r,(function(t){t instanceof qs?o.cancel():i(t)})),o.then(t,e,n)},Rs.prototype.$goog_Thenable=!0,E(Fs,C),Fs.prototype.message="Deferred has already fired",Fs.prototype.name="AlreadyCalledError",E(qs,C),qs.prototype.message="Deferred was canceled",qs.prototype.name="CanceledError",Bs.prototype.c=function(){throw delete Gs[this.a],this.b};var Gs={};function zs(t){var e,n=document,r=Tt(t).toString(),i=ve(document,"SCRIPT"),o={Vb:i,Ma:void 0},u=new Rs(o);return e=window.setTimeout((function(){Hs(i,!0);var t=new Ys(Xs,"Timeout reached for loading script "+r);Ms(u),Ls(u,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Hs(i,!1,e),Ms(u),Ls(u,!0,null))},i.onerror=function(){Hs(i,!0,e);var t=new Ys(Ws,"Error while loading script "+r);Ms(u),Ls(u,!1,t)},vt(o={},{type:"text/javascript",charset:"UTF-8"}),he(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===a&&(a=c(s.document)),e=a),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),u}function Ks(){if(this&&this.Vb){var t=this.Vb;t&&"SCRIPT"==t.tagName&&Hs(t,!0,this.Ma)}}function Hs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ws=0,Xs=1;function Ys(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),C.call(this,n),this.code=t}function $s(t){this.f=t}function Js(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=t.secureTokenTimeout||tu,this.g=pt(t.secureTokenHeaders||eu),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=t.firebaseTimeout||nu,this.a=pt(t.firebaseHeaders||ru),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=s.XMLHttpRequest||n&&Ct.INTERNAL.node&&Ct.INTERNAL.node.XMLHttpRequest)&&!wr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new ds(self):Er()?this.f=new $s(n):this.f=new Zo,this.b=null}E(Ys,C),E($s,Yo),$s.prototype.a=function(){return new this.f},$s.prototype.b=function(){return{}};var Qs,Zs="idToken",tu=new qr(3e4,6e4),eu={"Content-Type":"application/x-www-form-urlencoded"},nu=new qr(3e4,6e4),ru={"Content-Type":"application/json"};function iu(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ou(t,e){e&&(t.l=su("https://securetoken.googleapis.com/v1/token",e),t.h=su("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=su("https://identitytoolkit.googleapis.com/v2/",e))}function su(t,e){return t=Vn(t),e=Vn(e.url),t.c=t.a+t.c,xn(t,e.f),t.a=e.a,Rn(t,e.g),t.toString()}function uu(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function au(t,e,n,r,i,o,u){(function(){var t=kr();return!((t=Ar(t)!=Tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Xt&&ue&&!(9<ue))})()||wr()?t=b(t.u,t):(Qs||(Qs=new Ie((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[hu]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){js(t,null,e,void 0)}(zs(At(cu,{onload:hu})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.o,t)),t(e,n,r,i,o,u)}Js.prototype.S=function(){return this.b},Js.prototype.u=function(t,e,n,r,i,o){if(wr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new ws(this.f);if(o){u.g=Math.max(0,o);var a=setTimeout((function(){u.dispatchEvent("timeout")}),o)}In(u,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ps(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),En(u,"ready",(function(){a&&clearTimeout(a),ze(this)})),En(u,"timeout",(function(){a&&clearTimeout(a),ze(this),e&&e(null)})),Ts(u,t,n,r,i)};var cu=new gt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),hu="__fcb"+Math.floor(1e6*Math.random()).toString();function fu(t,e,n,r,i,o,s){var u=Vn(e+n);Mn(u,"key",t.c),s&&Mn(u,"cb",I().toString());var a="GET"==r;if(a)for(var c in i)i.hasOwnProperty(c)&&Mn(u,c,i[c]);return new Ie((function(e,n){au(t,u.toString(),(function(t){t?t.error?n(sa(t,o||{})):e(t):n(new T("network-request-failed"))}),r,a?void 0:nr(Mr(i)),t.a,t.m.get())}))}function lu(t){if("string"!=typeof(t=t.email)||!yr.test(t))throw new T("invalid-email")}function pu(t){"email"in t&&lu(t)}function du(t){if(!t[Zs]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,pt(t));throw new T("internal-error")}}function vu(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Js.prototype.o=function(t,e,n,r,i){var o=this;Qs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Js.prototype.yb=function(){return ia(this,Hu,{})},Js.prototype.Ab=function(t,e){return ia(this,zu,{idToken:t,email:e})},Js.prototype.Bb=function(t,e){return ia(this,Ku,{idToken:t,password:e})};var yu={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function gu(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function mu(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function bu(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Qn(t=new Xn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function wu(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Xo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Xo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Xo(t)):t.errorMessage&&(e=oa(t.errorMessage)),e)throw e;du(t)}function Iu(t,e){return e.returnIdpCredential=!0,ia(t,Yu,e)}function Eu(t,e){return e.returnIdpCredential=!0,ia(t,Ju,e)}function _u(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ia(t,$u,e)}function Tu(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Js.prototype).Cb=function(t,e){var n={idToken:t},r=[];return ft(yu,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ia(this,zu,n)},t.ub=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),ia(this,Uu,t)},t.vb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),ia(this,Mu,t)},t.tb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),ia(this,ju,t)},t.Db=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),ia(this,Vu,t)},t.eb=function(t){return ia(this,ta,t)},t.mb=function(t,e){return ia(this,Bu,{oobCode:t,newPassword:e})},t.Qa=function(t){return ia(this,Nu,{oobCode:t})},t.ib=function(t){return ia(this,Au,{oobCode:t})};var Au={endpoint:"setAccountInfo",B:Tu,Z:"email",C:!0},Nu={endpoint:"resetPassword",B:Tu,F:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},C:!0},Su={endpoint:"signupNewUser",B:function(t){if(lu(t),!t.password)throw new T("weak-password")},F:du,U:!0,C:!0},ku={endpoint:"createAuthUri",C:!0},Ou={endpoint:"deleteAccount",M:["idToken"]},Du={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Pu={endpoint:"emailLinkSignin",M:["email","oobCode"],B:lu,F:du,U:!0,C:!0},Cu={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:lu,F:du,U:!0},xu={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:gu,F:du,C:!0,Na:!0},Ru={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:gu,F:du,C:!0,Na:!0},Lu={endpoint:"getAccountInfo"},Mu={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");lu(t)},Z:"email",C:!0},ju={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Vu={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",C:!0},Uu={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");lu(t)},Z:"email",C:!0},Fu={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},qu={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Bu={endpoint:"resetPassword",B:Tu,Z:"email",C:!0},Gu={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},zu={endpoint:"setAccountInfo",M:["idToken"],B:pu,U:!0},Ku={endpoint:"setAccountInfo",M:["idToken"],B:function(t){if(pu(t),!t.password)throw new T("weak-password")},F:du,U:!0},Hu={endpoint:"signupNewUser",F:du,U:!0,C:!0},Wu={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Xu={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},F:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},C:!0,Na:!0},Yu={endpoint:"verifyAssertion",B:mu,Xa:bu,F:wu,U:!0,C:!0},$u={endpoint:"verifyAssertion",B:mu,Xa:bu,F:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw oa(t.errorMessage);du(t)},U:!0,C:!0},Ju={endpoint:"verifyAssertion",B:function(t){if(mu(t),!t.idToken)throw new T("internal-error")},Xa:bu,F:wu,U:!0},Qu={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new T("invalid-custom-token")},F:du,U:!0,C:!0},Zu={endpoint:"verifyPassword",B:function(t){if(lu(t),!t.password)throw new T("wrong-password")},F:du,U:!0,C:!0},ta={endpoint:"verifyPhoneNumber",B:vu,F:du,C:!0},ea={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new T("internal-error");vu(t)},F:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Xo(t);du(t)}},na={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:vu,F:du,C:!0},ra={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(t){if(!!t[Zs]^!!t.refreshToken)throw new T("internal-error")},C:!0,Na:!0};function ia(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Oe(new T("internal-error"));var r,i=!!e.Na,o=e.Tb||"POST";return ke(n).then(e.B).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),fu(t,i?t.i:t.h,e.endpoint,o,n,e.Gb,e.kb||!1)})).then((function(t){return r=t,e.Xa?e.Xa(n,r):r})).then(e.F).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function oa(t){return sa({error:{errors:[{message:t}],code:400,message:t}})}function sa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Lr(t)),new T("internal-error",e)}function ua(t){this.b=t,this.a=null,this.qb=function(t){return(fa||(fa=new Ie((function(t,e){function n(){Fr(),Or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Fr(),e(Error("Network Error"))},timeout:ca.get()})}if(Or("gapi.iframes.Iframe"))t();else if(Or("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Or("gapi.load")?n():e(Error("Network Error"))},ke(zs(r=At(aa,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw fa=null,t})))).then((function(){return new Ie((function(e,n){Or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ha.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var aa=new gt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),ca=new qr(3e4,6e4),ha=new qr(5e3,15e3),fa=null;function la(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Un((t=Vn(this.g.url)).f,t.a,t.g,"/emulator/auth/iframe"):t=Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function pa(t,e,n,r,i,o){this.u=t,this.o=e,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function da(t){try{return Ct.app(t).auth().Ga()}catch(t){return[]}}function va(t,e,n,r,i,o){this.o=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function ya(t){var e=cr();return function(t){return ia(t,Fu,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Vn(e),r=n.f;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,u=r;if(0==o.indexOf("chrome-extension://")?s=Vn(o).a==s&&"chrome-extension"==u:"http"!=u&&"https"!=u?s=!1:vr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ho(cr())}))}function ga(t){return t.v||(t.v=gr().then((function(){if(!t.u){var e=t.c,n=t.i,r=da(t.b),i=new la(t.o,t.g,t.b,t.f);i.f=e,i.b=n,i.c=$(r||[]),t.u=i.toString()}t.m=new ua(t.u),function(t){if(!t.m)throw Error("IfcHandler must be initialized!");!function(t,e){t.qb.then((function(){t.a.register("authEvent",e,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.m,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Bo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",ke(n)}return n.status="ERROR",ke(n)}))}(t)}))),t.v}function ma(t){return t.l||(t.A=t.c?Sr(t.c,da(t.b)):null,t.l=new Js(t.g,D(t.i),t.A),t.f&&ou(t.l,t.f)),t.l}function ba(t,e,n,r,i,o,s,u,a,c,h,f){return(t=new pa(t,e,n,r,i,f)).l=o,t.g=s,t.i=u,t.b=pt(a||null),t.f=c,t.xb(h).toString()}function wa(t){if(this.a=t||Ct.INTERNAL.reactNative&&Ct.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ia(t){this.b=t,this.a={},this.f=b(this.c,this)}la.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},pa.prototype.xb=function(t){return this.h=t,this},pa.prototype.toString=function(){if(this.m){var t=Vn(this.m.url);t=Un(t.f,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.o),Mn(t,"appName",this.c),Mn(t,"authType",this.v),this.a.isOAuthProvider){var e=this.a;try{var n=Ct.app(this.c).auth().ka()}catch(t){n=null}for(var r in e.nb=n,Mn(t,"providerId",this.a.providerId),e=Mr((n=this.a).Hb))e[r]=e[r].toString();r=n.Pc,e=pt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.ob&&n.nb&&!e[n.ob]&&(e[n.ob]=n.nb),lt(e)||Mn(t,"customParameters",Lr(e))}if("function"==typeof this.a.Pb&&((n=this.a.Pb()).length&&Mn(t,"scopes",n.join(","))),this.l?Mn(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Jn(t.b,"eventId"),this.i?Mn(t,"v",this.i):Jn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!jn(t,s)&&Mn(t,s,this.b[s]);return this.h?Mn(t,"tid",this.h):Jn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Jn(t.b,"eid"),(s=da(this.c)).length&&Mn(t,"fw",s.join(",")),t.toString()},(t=va.prototype).Nb=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.la().then((function(){(function(t){var e={type:"webStorageSupport"};return ga(t).then((function(){return function(t,e){return t.qb.then((function(){return new Ie((function(n){t.a.send(e.type,e,n,Or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.m,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&pr(t),e(i),s=!0)}))})).s((function(){})).then((function(){if(!s)return function(t){return new Ie((function(e){return function n(){An(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return An(n).then((function(){e(r)}))}))},t.Wb=function(){var t=kr();return!Rr(t)&&!Ur(t)},t.Sb=function(){return!1},t.Lb=function(t,e,n,r,i,o,s,u){if(!t)return Oe(new T("popup-blocked"));if(s&&!Rr())return this.la().s((function(e){pr(t),i(e)})),r(),ke();this.a||(this.a=ya(ma(this)));var a=this;return this.a.then((function(){var e=a.la().s((function(e){throw pr(t),i(e),e}));return r(),e})).then((function(){(Fo(n),s)||hr(ba(a.o,a.g,a.b,e,n,null,o,a.c,void 0,a.i,u,a.f),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(a.a=null),t}))},t.Mb=function(t,e,n,r){this.a||(this.a=ya(ma(this)));var i=this;return this.a.then((function(){Fo(e),hr(ba(i.o,i.g,i.b,t,e,cr(),n,i.c,void 0,i.i,r,i.f))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.la=function(){var t=this;return ga(this).then((function(){return t.m.qb})).s((function(){throw t.a=null,new T("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ra=function(t){X(this.h,(function(e){return e==t}))},(t=wa.prototype).get=function(t){return ke(this.a.getItem(t)).then((function(t){return t&&jr(t)}))},t.set=function(t,e){return ke(this.a.setItem(t,Lr(e)))},t.T=function(t){return ke(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Ea,_a=[];function Ta(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Aa(t){this.a=t}function Na(t){this.c=t,this.b=!1,this.a=[]}function Sa(t,e,n,r){var i,o,s,u,a=n||{},c=null;if(t.b)return Oe(Error("connection_unavailable"));var h=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ie((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:f,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),u=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(u),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(u),r(Error("invalid_response"))))}},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:a},[f.port2])):r(Error("connection_unavailable"))})).then((function(e){return ka(t,c),e})).s((function(e){throw ka(t,c),e}))}function ka(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(t.a,(function(t){return t==e}))}}function Oa(){if(!xa())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.v=s.indexedDB,this.type="indexedDB",this.g=this.m=this.f=this.l=null,this.o=!1,this.h=null;var t=this;wr()&&self?(this.m=function(){var t=wr()?self:null;if(B(_a,(function(n){n.b==t&&(e=n)})),!e){var e=new Ia(t);_a.push(e)}return e}(),Ta(this.m,"keyChanged",(function(e,n){return Va(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:H(e,n.key)}}))})),Ta(this.m,"ping",(function(){return ke(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?ke().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):ke(null)}().then((function(e){(t.h=e)&&(t.g=new Na(new Aa(e)),Sa(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&H(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Da(t){return new Ie((function(e,n){var r=t.v.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ie((function(e,n){var r=t.v.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Da(t)})).then((function(t){e(t)})).s((function(t){n(t)}))}}))}function Pa(t){return t.i||(t.i=Da(t)),t.i}function Ca(t,e){var n=0;return new Ie((function r(i,o){Pa(t).then(e).then(i).s((function(e){if(!(3<++n))return Pa(t).then((function(e){return e.close(),t.i=void 0,r(i,o)}));o(e)}))}))}function xa(){try{return!!s.indexedDB}catch(t){return!1}}function Ra(t){return t.objectStore("firebaseLocalStorage")}function La(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ma(t){return new Ie((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function ja(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Sa(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):ke()}function Va(t){return Pa(t).then((function(t){var e=Ra(La(t,!1));return e.getAll?Ma(e.getAll()):new Ie((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=fr(t.c,n),t.c=n}return r}))}function Ua(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Fa(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=ke().then((function(){if(xa()){var t=Vr(),r="__sak"+t;return Ea||(Ea=new Oa),(n=Ea).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function qa(){this.a={},this.type="inMemory"}function Ba(){if(!function(){var t="Node"==Ir();if(!(t=Ga()||t&&Ct.INTERNAL.node&&Ct.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ir())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ga()||Ct.INTERNAL.node.localStorage,this.type="localStorage"}function Ga(){try{var t=s.localStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function za(){this.type="nullStorage"}function Ka(){if(!function(){var t="Node"==Ir();if(!(t=Ha()||t&&Ct.INTERNAL.node&&Ct.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ir())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ha()||Ct.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ha(){try{var t=s.sessionStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Wa(){var t={};t.Browser=$a,t.Node=Ja,t.ReactNative=Qa,t.Worker=Za,this.a=t[Ir()]}Ia.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(ke().then((function(){return e(t.origin,t.data.data)})))})),Pe(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Ob,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Aa.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Na.prototype.close=function(){for(;0<this.a.length;)ka(this,this.a[0]);this.b=!0},(t=Oa.prototype).set=function(t,e){var n=this,r=!1;return Ca(this,(function(e){return Ma((e=Ra(La(e,!0))).get(t))})).then((function(i){return Ca(n,(function(o){if(o=Ra(La(o,!0)),i)return i.value=e,Ma(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ma(o.add(s))}))})).then((function(){return n.c[t]=e,ja(n,t)})).na((function(){r&&n.b--}))},t.get=function(t){return Ca(this,(function(e){return Ma(Ra(La(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=this,n=!1;return Ca(this,(function(r){return n=!0,e.b++,Ma(Ra(La(r,!0)).delete(t))})).then((function(){return delete e.c[t],ja(e,t)})).na((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Va(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Ua(t),e()}(this),this.a.push(t)},t.ia=function(t){X(this.a,(function(e){return e==t})),0==this.a.length&&Ua(this)},(t=Fa.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){X(this.a,(function(e){return e==t}))},(t=qa.prototype).get=function(t){return ke(this.a[t])},t.set=function(t,e){return this.a[t]=e,ke()},t.T=function(t){return delete this.a[t],ke()},t.ca=function(){},t.ia=function(){},(t=Ba.prototype).get=function(t){var e=this;return ke().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Lr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&an(s.window,"storage",t)},t.ia=function(t){s.window&&fn(s.window,"storage",t)},(t=za.prototype).get=function(){return ke(null)},t.set=function(){return ke()},t.T=function(){return ke()},t.ca=function(){},t.ia=function(){},(t=Ka.prototype).get=function(t){var e=this;return ke().then((function(){return jr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return ke().then((function(){var r=Lr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return ke().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Xa,Ya,$a={D:Ba,ab:Ka},Ja={D:Ba,ab:Ka},Qa={D:wa,ab:za},Za={D:Ba,ab:za},tc={qd:"local",NONE:"none",sd:"session"};function ec(){var t=!(Ur(kr())||!br()),e=Rr(),n=Dr();this.v=t,this.h=e,this.l=n,this.a={},Xa||(Xa=new Wa),t=Xa;try{this.g=!ar()&&Kr()||!s.indexedDB?new t.a.D:new Fa(wr()?new qa:new t.a.D)}catch(t){this.g=new qa,this.h=!0}try{this.i=new t.a.ab}catch(t){this.i=new qa}this.m=new qa,this.f=b(this.Xb,this),this.b={}}function nc(){return Ya||(Ya=new ec),Ya}function rc(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function ic(t,e){return"firebase:"+t.name+(e?":"+e:"")}function oc(t,e,n){return n=ic(e,n),"local"==e.D&&(t.b[n]=null),rc(t,e.D).T(n)}function sc(t){t.c&&(clearInterval(t.c),t.c=null)}function uc(t){this.a=t,this.b=nc()}(t=ec.prototype).get=function(t,e){return rc(this,t.D).get(ic(t,e))},t.set=function(t,e,n){var r=ic(t,n),i=this,o=rc(this,t.D);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.D&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ic(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),lt(this.a)&&(rc(this,"local").ca(this.f),this.h||(ar()||!Kr())&&s.indexedDB||!this.l||function(t){sc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new $e({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Xb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ic(t,e),this.a[t]&&(X(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(rc(this,"local").ia(this.f),sc(this))},t.Xb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?rc(this,"local").ia(this.f):sc(this),this.v)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.lb(e))},Xt&&ue&&10==ue&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,b(this.lb,this))},t.lb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var ac,cc={name:"authEvent",D:"local"};function hc(){this.a=nc()}function fc(t,e){this.b=lc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=s.Int32Array?new Int32Array(bc):bc),this.reset()}E(fc,(function(){this.b=-1}));for(var lc=64,pc=lc-1,dc=[],vc=0;vc<pc;vc++)dc[vc]=0;var yc=Y(128,dc);function gc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var u=0|t.a[2],a=0|t.a[3],c=0|t.a[4],h=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var l=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&u^i&u)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&f)+(0|ac[e])|0)+(0|n[e])|0)|0,o=f,f=h,h=c,c=a+s|0,a=u,u=i,i=r,r=s+l|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+u|0,t.a[3]=t.a[3]+a|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gc(t),i=0);else{if(!l(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gc(t),i=0)}}t.c=i,t.g+=n}fc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):$(this.h)};var bc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wc(){fc.call(this,8,Ic)}E(wc,fc);var Ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ec(t,e,n,r,i,o){this.m=t,this.i=e,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=e+":"+n,this.A=new hc,this.g=new uc(this.h),this.f=null,this.b=[],this.a=this.c=null}function _c(t){return new T("invalid-cordova-configuration",t)}function Tc(t){var e=new wc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,yc,56-e.c):mc(e,yc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ac(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Nc(t){return t.f||(t.f=t.la().then((function(){return new Ie((function(e){t.Ea((function n(r){return e(r),t.Ra(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Sc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=oo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=jr(jn(o=Vn(i),"firebaseError")||null))?A(o):null)?new qo(r.c,r.b,null,null,o,null,r.S()):new qo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Ac(t,i)}))}var n=new qo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=An(500).then((function(){return Sc(t).then((function(){r||Ac(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Or("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Ko||(Ko=new Go),function(t){var e=Ko;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Or("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Sc(t){var e=null;return function(t){return t.b.get(cc,t.a).then((function(t){return Bo(t)}))}(t.g).then((function(n){return e=n,oc((n=t.g).b,cc,n.a)})).then((function(){return e}))}function kc(t){this.a=t,this.b=nc()}(t=Ec.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?gr().then((function(){return new Ie((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Oe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Or("universalLinks.subscribe",s))throw _c("cordova-universal-links-plugin-fix is not installed");if(void 0===Or("BuildInfo.packageName",s))throw _c("cordova-plugin-buildinfo is not installed");if("function"!=typeof Or("cordova.plugins.browsertab.openUrl",s))throw _c("cordova-plugin-browsertab is not installed");if("function"!=typeof Or("cordova.InAppBrowser.open",s))throw _c("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Nb=function(t,e){return e(new T("operation-not-supported-in-this-environment")),ke()},t.Lb=function(){return Oe(new T("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(t,e,n,r){if(this.c)return Oe(new T("redirect-operation-pending"));var i=this,o=s.document,u=null,a=null,c=null,h=null;return this.c=ke().then((function(){return Fo(e),Nc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),u=new qo(e,r,null,o,new T("no-auth-event"),null,i),a=Or("BuildInfo.packageName",s);if("string"!=typeof a)throw new T("invalid-cordova-configuration");var c=Or("BuildInfo.displayName",s),h={};if(kr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=a;else{if(!kr().toLowerCase().match(/android/))return Oe(new T("operation-not-supported-in-this-environment"));h.apn=a}c&&(h.appDisplayName=c),o=Tc(o),h.sessionId=o;var f=ba(t.m,t.i,t.l,e,n,null,r,t.v,h,t.u,i,t.o);return t.la().then((function(){var e=t.h;return t.A.a.set(cc,u.w(),e)})).then((function(){var e=Or("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Or("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=Or("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=kr(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ie((function(t,e){a=function(){var e=Or("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(a),c=function(){u||(u=An(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},h=function(){Br()&&c()},o.addEventListener("resume",c,!1),kr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).s((function(t){return Sc(i).then((function(){throw t}))}))})).na((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),u&&u.cancel(),a&&i.Ra(a),i.c=null}))},t.Ea=function(t){this.b.push(t),Nc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new qo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Ra=function(t){X(this.b,(function(e){return e==t}))};var Oc={name:"pendingRedirect",D:"session"};function Dc(t){return oc(t.b,Oc,t.a)}function Pc(t,e,n,r){this.i={},this.u=0,this.O=t,this.m=e,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=b(this.o,this),this.b=new Hc,this.A=new Jc,this.g=new kc(zc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Cc(this.O,this.m,this.v,N,this.G)}function Cc(t,e,n,r,i){var o=Ct.SDK_VERSION||null;return mr()?new Ec(t,e,n,o,r,i):new va(t,e,n,o,r,i)}function xc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.la().s((function(n){throw t.a==e&&t.reset(),n}))}function Rc(t){t.a.Wb()&&xc(t).s((function(e){var n=new qo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Fc(e)&&t.o(n)})),t.a.Sb()||Wc(t.b)}function Lc(t,e){H(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Oc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Dc(t.g).then((function(){xc(t).s((function(e){var n=new qo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Fc(e)&&t.o(n)}))})):Rc(t)})).s((function(){Rc(t)}))}function Mc(t,e){X(t.h,(function(t){return t==e}))}Pc.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Cc(this.O,this.m,this.v,null,this.G),this.i={}},Pc.prototype.o=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=I())),e=!0;break}}return Wc(this.b),e};var jc=new qr(2e3,1e4),Vc=new qr(3e4,6e4);function Uc(t,e,n,r,i,o,s){return t.a.Lb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Fc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function qc(t,e,n,r,i){var o;return function(t){return t.b.set(Oc,"pending",t.a)}(t.g).then((function(){return t.a.Mb(e,n,r,i).s((function(e){if(Fc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Dc(t.g).then((function(){throw o}))})).then((function(){return t.a.Zb()?new Ie((function(){})):Dc(t.g).then((function(){return t.qa()})).then((function(){})).s((function(){}))}))}))}function Bc(t,e,n,r,i){return t.a.Nb(r,(function(t){e.ma(n,null,t,i)}),jc.get())}Pc.prototype.qa=function(){return this.b.qa()};var Gc={};function zc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Kc(t,e,n,r){var i=zc(e,n,r);return Gc[i]||(Gc[i]=new Pc(t,e,n,r)),Gc[i]}function Hc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Wc(t){t.g||(t.g=!0,$c(t,!1,null,null))}function Xc(t){t.g&&!t.i&&$c(t,!1,null,null)}function Yc(t,e){if(t.b=function(){return ke(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function $c(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Oe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Yc(t,n):Yc(t,{user:null}),t.f=[],t.c=[]}function Jc(){}function Qc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(t){this.hb=t},enumerable:!1})}function Zc(t,e){this.a=e,$r(this,"verificationId",t)}function th(t,e,n,r){return new jo(t).eb(e,n).then((function(t){return new Zc(t,r)}))}function eh(t){var e=Ki(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Jr(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function nh(t,e,n){var r=e&&e[ih];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new so(null,r),this.b=[];var i=this;B(e[rh]||[],(function(t){(t=ei(t))&&i.b.push(t)})),$r(this,"auth",this.a),$r(this,"session",this.c),$r(this,"hints",this.b)}Hc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Hc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?($c(this,!0,null,t.a),ke()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),u=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){$c(t,u,e,null)})).s((function(e){$c(t,u,null,e)}))}(this,t,e):Oe(new T("invalid-auth-event")):($c(this,!1,null,null),ke())}else Oe(new T("invalid-auth-event"))},Hc.prototype.qa=function(){var t=this;return new Ie((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=An(Vc.get()).then((function(){t.b||(t.g=!0,$c(t,!0,null,e))}))}(t))}))},Jc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ma(t.c,null,t.a,t.b),ke()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.ma(r,t,null,n)})).s((function(t){e.ma(r,null,t,n)}))}(t,e):Oe(new T("invalid-auth-event"))}else Oe(new T("invalid-auth-event"))},Zc.prototype.confirm=function(t){return t=Vo(this.verificationId,t),this.a(t)};var rh="mfaInfo",ih="mfaPendingCredential";function oh(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new nh(t,e,n),$r(this,"resolver",this.b)}function sh(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new oh(e,t.serverResponse,n,t.message)}catch(t){}return null}function uh(){}function ah(t){$r(this,"factorId",t.fa),this.a=t}function ch(t){if(ah.call(this,t),this.a.fa!=jo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function hh(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function fh(t,e){this.a=t,this.b=[],this.c=b(this.xc,this),an(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ii]=t.uid),t.displayName&&(r[ni]=t.displayName),t.enrollmentTime&&(r[ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oi]=t.phoneNumber);try{e=new si(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),lh(this,n)}function lh(t,e){t.b=e,$r(t,"enrolledFactors",e)}function ph(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dh(t,e){t.stop(),t.b=An(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Br()||!t?ke():new Ie((function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){dh(t,!0)})).s((function(e){t.i(e)&&dh(t,!1)}))}function vh(t){this.c=t,this.b=this.a=null}function yh(t){return t.b&&1e3*t.b.c||0}function gh(t,e){var n=e.refreshToken;t.b=zi(e[Zs]||""),t.a=n}function mh(t,e){return function(t,e){return new Ie((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?au(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(sa(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",$n(e).toString(),t.g,t.v.get()):r(new T("internal-error"))}))}(t.c,e).then((function(e){return t.b=zi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function bh(t,e){this.a=t||null,this.b=e||null,Jr(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function wh(t,e,n,r,i,o){Jr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Ih(t,e,n){this.G=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null;var r=Ct.SDK_VERSION?Sr(Ct.SDK_VERSION):null;this.a=new Js(this.l,D(N),r),t.emulatorConfig&&ou(this.a,t.emulatorConfig),this.b=new vh(this.a),Oh(this,e[Zs]),gh(this.b,e),$r(this,"refreshToken",this.b.a),Ch(this,n||{}),wn.call(this),this.P=!1,this.o&&Pr()&&(this.i=Kc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(t){return new ph((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=yh(t.b)-I()-3e5;return 0<e?e:0}))}(this),this.$=b(this.gb,this);var i=this;this.pa=null,this.Ba=function(t){i.wa(t.h)},this.ba=null,this.za=function(t){ou(i.a,t.c)},this.W=null,this.X=[],this.Aa=function(t){Th(i,t.f)},this.aa=null,this.N=new fh(this,n),$r(this,"multiFactor",this.N)}function Eh(t,e){t.ba&&fn(t.ba,"languageCodeChanged",t.Ba),(t.ba=e)&&an(e,"languageCodeChanged",t.Ba)}function _h(t,e){t.W&&fn(t.W,"emulatorConfigChanged",t.za),(t.W=e)&&an(e,"emulatorConfigChanged",t.za)}function Th(t,e){t.X=e,uu(t.a,Ct.SDK_VERSION?Sr(Ct.SDK_VERSION,t.X):null)}function Ah(t,e){t.aa&&fn(t.aa,"frameworkChanged",t.Aa),(t.aa=e)&&an(e,"frameworkChanged",t.Aa)}function Nh(t){try{return Ct.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Sh(t){t.A||t.u.b||(t.u.start(),fn(t,"tokenChanged",t.$),an(t,"tokenChanged",t.$))}function kh(t){fn(t,"tokenChanged",t.$),t.u.stop()}function Oh(t,e){t.ya=e,$r(t,"_lat",e)}function Dh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Pe(e).then((function(){return t}))}function Ph(t){t.i&&!t.P&&(t.P=!0,Lc(t.i,t))}function Ch(t,e){Jr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new bh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xh(){}function Rh(t){return ke().then((function(){if(t.A)throw new T("app-deleted")}))}function Lh(t){return z(t.providerData,(function(t){return t.providerId}))}function Mh(t,e){e&&(jh(t,e.providerId),t.providerData.push(e))}function jh(t,e){X(t.providerData,(function(t){return t.providerId==e}))}function Vh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&$r(t,e,n)}function Uh(t,e){t!=e&&(Jr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?$r(t,"metadata",function(t){return new bh(t.a,t.b)}(e.metadata)):$r(t,"metadata",new bh),B(e.providerData,(function(e){Mh(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),$r(t,"refreshToken",t.b.a),lh(t.N,e.N.b))}function Fh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return ia(t.a,Lu,{idToken:e}).then(b(t.Jc,t))}(t,e).then((function(){return n||Vh(t,"isAnonymous",!1),e}))}))}function qh(t,e){e[Zs]&&t.ya!=e[Zs]&&(gh(t.b,e),t.dispatchEvent(new hh("tokenChanged")),Oh(t,e[Zs]),Vh(t,"refreshToken",t.b.a))}function Bh(t,e){return Fh(t).then((function(){if(H(Lh(t),e))return Dh(t).then((function(){throw new T("provider-already-linked")}))}))}function Gh(t,e,n){return Qr({user:t,credential:Uo(e),additionalUserInfo:e=$i(e),operationType:n})}function zh(t,e){return qh(t,e),t.reload().then((function(){return t}))}function Kh(t,e,n,r,i){if(!Pr())return Oe(new T("operation-not-supported-in-this-environment"));if(t.f&&!i)return Oe(t.f);var o=Yi(n.providerId),s=Vr(t.uid+":::"),u=null;(!Rr()||br())&&t.o&&n.isOAuthProvider&&(u=ba(t.o,t.l,t.m,e,n,null,s,Ct.SDK_VERSION||null,null,null,t.tenantId));var a=dr(u,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Wh(t),!i)return t.I().then((function(){}))})).then((function(){return Uc(t.i,a,e,n,s,!!u,t.tenantId)})).then((function(){return new Ie((function(n,r){t.ma(e,null,new T("cancelled-popup-request"),t.h||null),t.g=n,t.O=r,t.h=s,t.c=Bc(t.i,t,e,a,s)}))})).then((function(t){return a&&pr(a),t?Qr(t):null})).s((function(t){throw a&&pr(a),t})),Xh(t,r,i)}function Hh(t,e,n,r,i){if(!Pr())return Oe(new T("operation-not-supported-in-this-environment"));if(t.f&&!i)return Oe(t.f);var o=null,s=Vr(t.uid+":::");return r=r().then((function(){if(Wh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Dh(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Jh,t.w(),e.a)),e})).then((function(){return qc(t.i,e,n,s,t.tenantId)})).s((function(e){if(o=e,t.ha)return Qh(t.ha);throw o})).then((function(){if(o)throw o})),Xh(t,r,i)}function Wh(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Xh(t,e,n){var r=function(t,e,n){return t.f&&!n?(e.cancel(),Oe(t.f)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.f||t.dispatchEvent(new hh("userInvalidated")),t.f=e),e}))}(t,e,n);return t.G.push(r),r.na((function(){W(t.G,r)})),r.s((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=sh(e.w(),Nh(t),b(t.ic,t))),n||e}))}function Yh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Zs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new Ih(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&Mh(r,Qr(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function $h(t){this.a=t,this.b=nc()}nh.prototype.Qc=function(t){var e=this;return t.rb(this.a.a,this.c).then((function(t){var n=pt(e.f);return delete n[rh],delete n[ih],vt(n,t),e.g(n)}))},E(oh,T),uh.prototype.rb=function(t,e,n){return e.type==uo?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Mo(t.a)}),ia(e,xu,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(t.a)}),ia(e,Ru,n)}))}(this,t,e)},E(ah,uh),E(ch,ah),E(hh,Ye),(t=fh.prototype).xc=function(t){lh(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=ei(t))&&e.push(t)})),e}(t.gd))},t.Qb=function(){return this.a.I().then((function(t){return new so(t,null)}))},t.ec=function(t,e){var n=this,r=this.a.a;return this.Qb().then((function(n){return t.rb(r,n,e)})).then((function(t){return qh(n.a,t),n.a.reload()}))},t.ad=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return ia(r,ra,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=G(e.b,(function(t){return t.uid!=n}));return lh(e,r),qh(e.a,t),e.a.reload().s((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.w()}))}}},ph.prototype.start=function(){this.a=this.c,dh(this,!0)},ph.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},vh.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:yh(this)}},vh.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Oe(new T("user-token-expired")):t||!this.b||I()>yh(this)-3e4?this.a?mh(this,{grant_type:"refresh_token",refresh_token:this.a}):ke(null):ke({accessToken:this.b.toString(),refreshToken:this.a})},bh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(Ih,wn),Ih.prototype.wa=function(t){this.pa=t,iu(this.a,t)},Ih.prototype.ka=function(){return this.pa},Ih.prototype.Ga=function(){return $(this.X)},Ih.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},$r(Ih.prototype,"providerId","firebase"),(t=Ih.prototype).reload=function(){var t=this;return Xh(this,Rh(this).then((function(){return Fh(t).then((function(){return Dh(t)})).then(xh)})))},t.nc=function(t){return this.I(t).then((function(t){return new eh(t)}))},t.I=function(t){var e=this;return Xh(this,Rh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.ya&&(Oh(e,t.accessToken),e.dispatchEvent(new hh("tokenChanged"))),Vh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Jc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");Ch(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new wh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Mh(this,e[n]);Vh(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new hh("userReloaded",{gd:t}))},t.Kc=function(t){return Xr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(t)},t.sb=function(t){var e=this,n=null;return Xh(this,t.c(this.a,this.uid).then((function(t){return qh(e,t),n=Gh(e,t,"reauthenticate"),e.f=null,e.reload()})).then((function(){return n})),!0)},t.Bc=function(t){return Xr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Xh(this,Bh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Gh(e,t,"link"),zh(e,t)})).then((function(){return n})))},t.Cc=function(t,e){var n=this;return Xh(this,Bh(this,"phone").then((function(){return th(Nh(n),t,e,b(n.pb,n))})))},t.Lc=function(t,e){var n=this;return Xh(this,ke().then((function(){return th(Nh(n),t,e,b(n.sb,n))})),!0)},t.Ab=function(t){var e=this;return Xh(this,this.I().then((function(n){return e.a.Ab(n,t)})).then((function(t){return qh(e,t),e.reload()})))},t.dd=function(t){var e=this;return Xh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return qh(e,t),e.reload()})))},t.Bb=function(t){var e=this;return Xh(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return qh(e,t),e.reload()})))},t.Cb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Rh(this);var e=this;return Xh(this,this.I().then((function(n){return e.a.Cb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return qh(e,t),Vh(e,"displayName",t.displayName||null),Vh(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&($r(t,"displayName",e.displayName),$r(t,"photoURL",e.photoURL))})),Dh(e)})).then(xh))},t.bd=function(t){var e=this;return Xh(this,Fh(this).then((function(n){return H(Lh(e),t)?function(t,e,n){return ia(t,Du,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Lh(e),(function(t){n[t]||jh(e,t)})),n[jo.PROVIDER_ID]||$r(e,"phoneNumber",null),Dh(e)})):Dh(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Xh(this,this.I().then((function(e){return ia(t.a,Ou,{idToken:e})})).then((function(){t.dispatchEvent(new hh("userDeleted"))}))).then((function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");Eh(t,null),_h(t,null),Ah(t,null),t.G=[],t.A=!0,kh(t),$r(t,"refreshToken",null),t.i&&Mc(t.i,t)}))},t.Eb=function(t,e){return!!("linkViaPopup"==t&&(this.h||null)==e&&this.g||"reauthViaPopup"==t&&(this.h||null)==e&&this.g||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.ma=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.h||null)||(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.h||null)?b(this.Jb,this):"reauthViaPopup"==t&&e==(this.h||null)?b(this.Kb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Jb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Kb,this):null},t.Dc=function(t){var e=this;return Kh(this,"linkViaPopup",t,(function(){return Bh(e,t.providerId).then((function(){return Dh(e)}))}),!1)},t.Mc=function(t){return Kh(this,"reauthViaPopup",t,(function(){return ke()}),!0)},t.Ec=function(t){var e=this;return Hh(this,"linkViaRedirect",t,(function(){return Bh(e,t.providerId)}),!1)},t.Nc=function(t){return Hh(this,"reauthViaRedirect",t,(function(){return ke()}),!0)},t.Jb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xh(this,this.I().then((function(n){return Eu(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Gh(i,t,"link"),zh(i,t)})).then((function(){return o})))},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Xh(this,ke().then((function(){return ho(_u(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Gh(i,t,"reauthenticate"),qh(i,t),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(t){var e=this,n=null;return Xh(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:Fi(new Di(t))})).then((function(t){return e.a.tb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Db=function(t,e){var n=this,r=null;return Xh(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:Fi(new Di(e))})).then((function(e){return n.a.Db(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.ic=function(t){var e=null,n=this;return Xh(this,t=ho(ke(t),n.uid).then((function(t){return e=Gh(n,t,"reauthenticate"),qh(n,t),n.f=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.N.w()),t};var Jh={name:"redirectUser",D:"session"};function Qh(t){return oc(t.b,Jh,t.a)}function Zh(t){this.a=t,this.b=nc(),this.c=null,this.f=function(t){var e=nf("local"),n=nf("session"),r=nf("none");return function(t,e,n){var r=ic(e,n),i=rc(t,e.D);return t.get(e,n).then((function(o){var u=null;try{u=jr(s.localStorage.getItem(r))}catch(t){}if(u&&!o)return s.localStorage.removeItem(r),t.set(e,u,n);u&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(ef,t.a).then((function(t){return t?nf(t):e}))}))}))})).then((function(e){return t.c=e,tf(t,e.D)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(nf("local"),this.a,b(this.g,this))}function tf(t,e){var n,r=[];for(n in tc)tc[n]!==e&&r.push(oc(t.b,nf(tc[n]),t.a));return r.push(oc(t.b,ef,t.a)),function(t){return new Ie((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},u=0;u<t.length;u++)De(t[u],w(o,u),s);else e(i)}))}(r)}Zh.prototype.g=function(){var t=this,e=nf("local");uf(this,(function(){return ke().then((function(){return t.c&&"local"!=t.c.D?t.b.get(e,t.a):null})).then((function(n){if(n)return tf(t,"local").then((function(){t.c=e}))}))}))};var ef={name:"persistence",D:"session"};function nf(t){return{name:"authUser",D:t}}function rf(t,e){return uf(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function of(t){return uf(t,(function(){return oc(t.b,t.c,t.a)}))}function sf(t,e,n){return uf(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Yh(t||{})}))}))}function uf(t,e){return t.f=t.f.then(e,e),t.f}function af(t){if(this.m=!1,$r(this,"settings",new Qc),$r(this,"app",t),!gf(this).options||!gf(this).options.apiKey)throw new T("invalid-api-key");t=Ct.SDK_VERSION?Sr(Ct.SDK_VERSION):null,this.a=new Js(gf(this).options&&gf(this).options.apiKey,D(N),t),this.R=[],this.u=[],this.P=[],this.ac=Ct.INTERNAL.createSubscribe(b(this.yc,this)),this.X=void 0,this.bc=Ct.INTERNAL.createSubscribe(b(this.zc,this)),vf(this,null),this.l=new Zh(gf(this).options.apiKey+":"+gf(this).name),this.G=new $h(gf(this).options.apiKey+":"+gf(this).name),this.$=If(this,function(t){var e=gf(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Jh,t.a).then((function(t){return t&&e&&(t.authDomain=e),Yh(t||{})}))}(t.G,gf(t).options.authDomain).then((function(e){return(t.o=e)&&(e.ha=t.G),Qh(t.G)}));return If(t,e)}(t).then((function(){return sf(t.l,e,t.f)})).then((function(e){return e?(e.ha=t.G,t.o&&(t.o.ga||null)==(e.ga||null)?e:e.reload().then((function(){return rf(t.l,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:of(t.l)}))):null})).then((function(e){vf(t,e||null)}));return If(t,n)}(this)),this.i=If(this,function(t){return t.$.then((function(){return pf(t)})).s((function(){})).then((function(){if(!t.m)return t.pa()})).s((function(){})).then((function(){if(!t.m){t.ba=!0;var e=t.l;e.b.addListener(nf("local"),e.a,t.pa)}}))}(this)),this.ba=!1,this.pa=b(this.Yc,this),this.Ba=b(this.da,this),this.ya=b(this.kc,this),this.za=b(this.vc,this),this.Aa=b(this.wc,this),this.b=null,function(t){var e=gf(t).options.authDomain,n=gf(t).options.apiKey;e&&Pr()&&(t.gb=t.$.then((function(){if(!t.m){if(t.b=Kc(e,n,gf(t).name,t.f),Lc(t.b,t),mf(t)&&Ph(mf(t)),t.o){Ph(t.o);var r=t.o;r.wa(t.ka()),Eh(r,t),Th(r=t.o,t.N),Ah(r,t),ou((r=t.o).a,t.f),_h(r,t),t.o=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Fc,this),this.A=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ka()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.xb(t)},enumerable:!1}),t.W=null}(this),this.N=[],this.f=null}function cf(t){Ye.call(this,"languageCodeChanged"),this.h=t}function hf(t){Ye.call(this,"emulatorConfigChanged"),this.c=t}function ff(t){Ye.call(this,"frameworkChanged"),this.f=t}function lf(t){return t.gb||Oe(new T("auth-domain-config-required"))}function pf(t){if(!Pr())return Oe(new T("operation-not-supported-in-this-environment"));var e=lf(t).then((function(){return t.b.qa()})).then((function(t){return t?Qr(t):null}));return If(t,e)}function df(t,e){var n={};return n.apiKey=gf(t).options.apiKey,n.authDomain=gf(t).options.authDomain,n.appName=gf(t).name,t.f&&(n.emulatorConfig=t.f),t.$.then((function(){return function(t,e,n,r){var i=new Ih(t,e);return n&&(i.ha=n),r&&Th(i,r),i.reload().then((function(){return i}))}(n,e,t.G,t.Ga())})).then((function(e){return mf(t)&&e.uid==mf(t).uid?(Uh(mf(t),e),t.da(e)):(vf(t,e),Ph(e),t.da(e))})).then((function(){wf(t)}))}function vf(t,e){mf(t)&&(function(t,e){X(t.R,(function(t){return t==e}))}(mf(t),t.Ba),fn(mf(t),"tokenChanged",t.ya),fn(mf(t),"userDeleted",t.za),fn(mf(t),"userInvalidated",t.Aa),kh(mf(t))),e&&(e.R.push(t.Ba),an(e,"tokenChanged",t.ya),an(e,"userDeleted",t.za),an(e,"userInvalidated",t.Aa),0<t.A&&Sh(e)),$r(t,"currentUser",e),e&&(e.wa(t.ka()),Eh(e,t),Th(e,t.N),Ah(e,t),ou(e.a,t.f),_h(e,t))}function yf(t,e){var n=null,r=null;return If(t,e.then((function(e){return n=Uo(e),r=$i(e),df(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=sh(e.w(),t,b(t.jc,t))),n||e})).then((function(){return Qr({user:mf(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function gf(t){return t.app}function mf(t){return t.currentUser}function bf(t){return mf(t)&&mf(t)._lat||null}function wf(t){if(t.ba){for(var e=0;e<t.u.length;e++)t.u[e]&&t.u[e](bf(t));if(t.X!==t.getUid()&&t.P.length)for(t.X=t.getUid(),e=0;e<t.P.length;e++)t.P[e]&&t.P[e](bf(t))}}function If(t,e){return t.R.push(e),e.na((function(){W(t.R,e)})),e}function Ef(){}function _f(){this.a={},this.b=1e12}Zh.prototype.wb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in tc)if(tc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Ir()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!xa()&&"none"!==t)throw n;break;default:if(!Dr()&&"none"!==t)throw n}}(t),uf(this,(function(){return t!=n.c.D?n.b.get(n.c,n.a).then((function(r){return e=r,tf(n,t)})).then((function(){if(n.c=nf(t),e)return n.b.set(n.c,e,n.a)})):ke()}))},E(af,wn),E(cf,Ye),E(hf,Ye),E(ff,Ye),(t=af.prototype).wb=function(t){return If(this,t=this.l.wb(t))},t.wa=function(t){this.aa===t||this.m||(this.aa=t,iu(this.a,this.aa),this.dispatchEvent(new cf(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.fd=function(t){if(!this.f){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Gr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&gr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)})),this.f={url:t},this.settings.hb=!0,ou(this.a,this.f),this.dispatchEvent(new hf(this.f))}},t.Fc=function(t){this.N.push(t),uu(this.a,Ct.SDK_VERSION?Sr(Ct.SDK_VERSION,this.N):null),this.dispatchEvent(new ff(this.N))},t.Ga=function(){return $(this.N)},t.xb=function(t){this.W===t||this.m||(this.W=t,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:gf(this).options.apiKey,authDomain:gf(this).options.authDomain,appName:gf(this).name,currentUser:mf(this)&&mf(this).w()}},t.Eb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==e&&!!this.g;default:return!1}},t.ma=function(t,e,n,r){"signInViaPopup"==t&&this.h==r&&(n&&this.O?this.O(n):e&&!n&&this.g&&this.g(e),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.h==e&&this.g?b(this.hc,this):null},t.hc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return yf(i,Iu(i.a,o))}))},t.Wc=function(t){if(!Pr())return Oe(new T("operation-not-supported-in-this-environment"));var e=this,n=Yi(t.providerId),r=Vr(),i=null;(!Rr()||br())&&gf(this).options.authDomain&&t.isOAuthProvider&&(i=ba(gf(this).options.authDomain,gf(this).options.apiKey,gf(this).name,"signInViaPopup",t,null,r,Ct.SDK_VERSION||null,null,null,this.S(),this.f));var o=dr(i,n&&n.ua,n&&n.ta);return If(this,n=lf(this).then((function(n){return Uc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new Ie((function(t,n){e.ma("signInViaPopup",null,new T("cancelled-popup-request"),e.h),e.g=t,e.O=n,e.h=r,e.c=Bc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&pr(o),t?Qr(t):null})).s((function(t){throw o&&pr(o),t})))},t.Xc=function(t){if(!Pr())return Oe(new T("operation-not-supported-in-this-environment"));var e=this;return If(this,lf(this).then((function(){return function(t){return uf(t,(function(){return t.b.set(ef,t.c.D,t.a)}))}(e.l)})).then((function(){return qc(e.b,"signInViaRedirect",t,void 0,e.S())})))},t.qa=function(){var t=this;return pf(this).then((function(e){return t.b&&Xc(t.b.b),e})).s((function(e){throw t.b&&Xc(t.b.b),e}))},t.cd=function(t){if(!t)return Oe(new T("null-user"));if(this.W!=t.tenantId)return Oe(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=gf(this).options.apiKey,n.authDomain=gf(this).options.authDomain,n.appName=gf(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Zs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Ih(e||{apiKey:t.l,authDomain:t.o,appName:t.m},o),n&&(e.ha=n),r&&Th(e,r),Uh(e,t),e}(t,n,e.G,e.Ga());return If(this,this.i.then((function(){if(gf(e).options.apiKey!=t.l)return r.reload()})).then((function(){return mf(e)&&t.uid==mf(e).uid?(Uh(mf(e),t),e.da(t)):(vf(e,r),Ph(r),e.da(r))})).then((function(){wf(e)})))},t.zb=function(){var t=this;return If(this,this.i.then((function(){return t.b&&Xc(t.b.b),mf(t)?(vf(t,null),of(t.l).then((function(){wf(t)}))):ke()})))},t.Yc=function(){var t=this;return sf(this.l,gf(this).options.authDomain).then((function(e){if(!t.m){var n;if(n=mf(t)&&e){n=mf(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Uh(mf(t),e),mf(t).I();(mf(t)||e)&&(vf(t,e),e&&(Ph(e),e.ha=t.G),t.b&&Lc(t.b,t),wf(t))}}))},t.da=function(t){return rf(this.l,t)},t.kc=function(){wf(this),this.da(mf(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(t){var e=this;return this.i.then((function(){return yf(e,ke(t))}))},t.yc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(mf(e))}))},t.zc=function(t){var e=this;!function(t,e){t.P.push(e),If(t,t.i.then((function(){!t.m&&H(t.P,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(bf(t)))})))}(this,(function(){t.next(mf(e))}))},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(mf(r)):"function"==typeof t.next&&t.next(mf(r))})),this.ac(t,e,n)},t.Gc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(mf(r)):"function"==typeof t.next&&t.next(mf(r))})),this.bc(t,e,n)},t.mc=function(t){var e=this;return If(this,this.i.then((function(){return mf(e)?mf(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Sc=function(t){var e=this;return this.i.then((function(){return yf(e,ia(e.a,Qu,{token:t}))})).then((function(t){var n=t.user;return Vh(n,"isAnonymous",!1),e.da(n),t}))},t.Tc=function(t,e){var n=this;return this.i.then((function(){return yf(n,ia(n.a,Zu,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.i.then((function(){return yf(n,ia(n.a,Su,{email:t,password:e}))}))},t.Za=function(t){var e=this;return this.i.then((function(){return yf(e,t.ja(e.a))}))},t.Rc=function(t){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(t)},t.yb=function(){var t=this;return this.i.then((function(){var e=mf(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return yf(t,t.a.yb()).then((function(e){var n=e.user;return Vh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return mf(this)&&mf(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.A++,0<this.A&&mf(this)&&Sh(mf(this))},t.Oc=function(t){var e=this;B(this.u,(function(n){n==t&&e.A--})),0>this.A&&(this.A=0),0==this.A&&mf(this)&&kh(mf(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.u.push(t),If(this,this.i.then((function(){e.m||H(e.u,t)&&t(bf(e))})))},t.removeAuthTokenListener=function(t){X(this.u,(function(e){return e==t}))},t.delete=function(){this.m=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.l&&(t=this.l).b.removeListener(nf("local"),t.a,this.pa),this.b&&(Mc(this.b,this),Xc(this.b.b)),Promise.resolve()},t.gc=function(t){return If(this,function(t,e){return ia(t,ku,{identifier:e,continueUri:Cr()?cr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Ac=function(t){return!!xo(t)},t.vb=function(t,e){var n=this;return If(this,ke().then((function(){var t=new Di(e);if(!t.c)throw new T("argument-error",xi+" must be true when sending sign in link to email");return Fi(t)})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.hd=function(t){return this.Qa(t).then((function(t){return t.data.email}))},t.mb=function(t,e){return If(this,this.a.mb(t,e).then((function(){})))},t.Qa=function(t){return If(this,this.a.Qa(t).then((function(t){return new ui(t)})))},t.ib=function(t){return If(this,this.a.ib(t).then((function(){})))},t.ub=function(t,e){var n=this;return If(this,ke().then((function(){return void 0===e||lt(e)?{}:Fi(new Di(e))})).then((function(e){return n.a.ub(t,e)})).then((function(){})))},t.Vc=function(t,e){return If(this,th(this,t,e,b(this.Za,this)))},t.Uc=function(t,e){var n=this;return If(this,ke().then((function(){var r=e||cr(),i=Co(t,r);if(!(r=xo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new T("tenant-id-mismatch");return n.Za(i)})))},Ef.prototype.render=function(){},Ef.prototype.reset=function(){},Ef.prototype.getResponse=function(){},Ef.prototype.execute=function(){};var Tf=null;function Af(t,e){return(e=Nf(e))&&t.a[e]||null}function Nf(t){return(t=void 0===t?1e12:t)?t.toString():null}function Sf(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function kf(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Of(){}function Df(){}_f.prototype.render=function(t,e){return this.a[this.b.toString()]=new Sf(t,e),this.b++},_f.prototype.reset=function(t){var e=Af(this,t);t=Nf(t),e&&t&&(e.delete(),delete this.a[t])},_f.prototype.getResponse=function(t){return(t=Af(this,t))?t.getResponse():null},_f.prototype.execute=function(t){(t=Af(this,t))&&t.execute()},Sf.prototype.getResponse=function(){return kf(this),this.b},Sf.prototype.execute=function(){kf(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Sf.prototype.delete=function(){kf(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},$r(Of,"FACTOR_ID","phone"),Df.prototype.g=function(){return Tf||(Tf=new _f),ke(Tf)},Df.prototype.c=function(){};var Pf=null;function Cf(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xf=new gt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rf=new qr(3e4,6e4);Cf.prototype.g=function(t){var e=this;return new Ie((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Rf.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},ke(zs(At(xf,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Cf.prototype.c=function(){this.b--};var Lf=null;function Mf(t,e,n,r,i,o,u){if($r(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=e,this.g=null,u?(Pf||(Pf=new Df),u=Pf):(Lf||(Lf=new Cf),u=Lf),this.v=u,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Uf])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ff],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.i&&ce(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Js(t,o||null,i||null),this.u=r||function(){return null};var a=this;this.l=[];var c=this.a[jf];this.a[jf]=function(t){if(qf(a,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Or(c,s);"function"==typeof e&&e(t)}};var h=this.a[Vf];this.a[Vf]=function(){if(qf(a,null),"function"==typeof h)h();else if("string"==typeof h){var t=Or(h,s);"function"==typeof t&&t()}}}var jf="callback",Vf="expired-callback",Uf="sitekey",Ff="size";function qf(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Bf(t,e){return t.h.push(e),e.na((function(){W(t.h,e)})),e}function Gf(t){if(t.A)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function zf(t,e,n){var r=!1;try{this.b=n||Ct.app()}catch(t){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Ct.SDK_VERSION?Sr(Ct.SDK_VERSION,o):null,Mf.call(this,n,t,e,(function(){try{var t=i.b.auth().ka()}catch(e){t=null}return t}),o,D(N),r)}function Kf(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Hf.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Hf[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Mf.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Bf(this,ke().then((function(){if(Cr()&&!wr())return gr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.v.g(t.u())})).then((function(e){return t.g=e,ia(t.o,qu,{})})).then((function(e){t.a[Uf]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Gf(this);var t=this;return Bf(this,this.Ia().then((function(){if(null===t.c){var e=t.m;if(!t.i){var n=ce(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Gt(s.name),'"'),s.type){o.push(' type="',Gt(s.type),'"');var u={};vt(u,s),delete u.type,s=u}o.push(">"),o=o.join("")}return o=ve(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):he(o,s)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Gf(this);var t=this;return Bf(this,this.render().then((function(e){return new Ie((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){X(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Gf(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Gf(this),this.A=!0,this.v.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ce(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},E(zf,Mf);var Hf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Wf(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Xf(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Yf(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:d}}function $f(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Jf(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Qf(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ja||!n)}}}function Zf(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function tl(t){return d(t)&&"string"==typeof t.uid}function el(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function nl(t,e){for(var n in e){var r=e[n].name;t[r]=ol(r,t[n],e[n].j)}}function rl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Kf(t,[n],[r],!0),this[e]=r}),r,n,e[n].jb),enumerable:!0})}}function il(t,e,n,r){t[e]=ol(e,n,r)}function ol(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Kf(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}nl(af.prototype,{ib:{name:"applyActionCode",j:[Wf("code")]},Qa:{name:"checkActionCode",j:[Wf("code")]},mb:{name:"confirmPasswordReset",j:[Wf("code"),Wf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Wf("email"),Wf("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Wf("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Wf("emailLink")]},Gc:{name:"onAuthStateChanged",j:[el(Yf(),$f(),"nextOrObserver"),$f("opt_error",!0),$f("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[el(Yf(),$f(),"nextOrObserver"),$f("opt_error",!0),$f("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Wf("email"),el(Yf("opt_actionCodeSettings",!0),Jf(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Wf("email"),Yf("actionCodeSettings")]},wb:{name:"setPersistence",j:[Wf("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Qf()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Qf()]},Sc:{name:"signInWithCustomToken",j:[Wf("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Wf("email"),Wf("password")]},Uc:{name:"signInWithEmailLink",j:[Wf("email"),Wf("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Wf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[el({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof Ih)}},Jf(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Wf(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Wf("url")]},hd:{name:"verifyPasswordResetCode",j:[Wf("code")]}}),rl(af.prototype,{lc:{name:"languageCode",jb:el(Wf(),Jf(),"languageCode")},ti:{name:"tenantId",jb:el(Wf(),Jf(),"tenantId")}}),af.Persistence=tc,af.Persistence.LOCAL="local",af.Persistence.SESSION="session",af.Persistence.NONE="none",nl(Ih.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Xf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Xf("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Qf()]},pb:{name:"linkWithCredential",j:[Qf()]},Cc:{name:"linkWithPhoneNumber",j:[Wf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Qf()]},sb:{name:"reauthenticateWithCredential",j:[Qf()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Wf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[el(Yf("opt_actionCodeSettings",!0),Jf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Wf(null,!0)]},bd:{name:"unlink",j:[Wf("provider")]},Ab:{name:"updateEmail",j:[Wf("email")]},Bb:{name:"updatePassword",j:[Wf("password")]},dd:{name:"updatePhoneNumber",j:[Qf("phone")]},Cb:{name:"updateProfile",j:[Yf("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Wf("email"),el(Yf("opt_actionCodeSettings",!0),Jf(null,!0),"opt_actionCodeSettings",!0)]}}),nl(_f.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),nl(Ef.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),nl(Ie.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),rl(Qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Xf("appVerificationDisabledForTesting")}}),nl(Zc.prototype,{confirm:{name:"confirm",j:[Wf("verificationCode")]}}),il(co,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,Do,Lo,po],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[el(Wf(),Yf(),"json")]),il(Po,"credential",(function(t,e){return new Oo(t,e)}),[Wf("email"),Wf("password")]),nl(Oo.prototype,{w:{name:"toJSON",j:[Wf(null,!0)]}}),nl(Io.prototype,{Ca:{name:"addScope",j:[Wf("scope")]},Ka:{name:"setCustomParameters",j:[Yf("customOAuthParameters")]}}),il(Io,"credential",Eo,[el(Wf(),Yf(),"token")]),il(Po,"credentialWithLink",Co,[Wf("email"),Wf("emailLink")]),nl(_o.prototype,{Ca:{name:"addScope",j:[Wf("scope")]},Ka:{name:"setCustomParameters",j:[Yf("customOAuthParameters")]}}),il(_o,"credential",To,[el(Wf(),Yf(),"token")]),nl(Ao.prototype,{Ca:{name:"addScope",j:[Wf("scope")]},Ka:{name:"setCustomParameters",j:[Yf("customOAuthParameters")]}}),il(Ao,"credential",No,[el(Wf(),el(Yf(),Jf()),"idToken"),el(Wf(),Jf(),"accessToken",!0)]),nl(So.prototype,{Ka:{name:"setCustomParameters",j:[Yf("customOAuthParameters")]}}),il(So,"credential",ko,[el(Wf(),Yf(),"token"),Wf("secret",!0)]),nl(wo.prototype,{Ca:{name:"addScope",j:[Wf("scope")]},credential:{name:"credential",j:[el(Wf(),el(Yf(),Jf()),"optionsOrIdToken"),el(Wf(),Jf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Yf("customOAuthParameters")]}}),nl(vo.prototype,{w:{name:"toJSON",j:[Wf(null,!0)]}}),nl(fo.prototype,{w:{name:"toJSON",j:[Wf(null,!0)]}}),il(jo,"credential",Vo,[Wf("verificationId"),Wf("verificationCode")]),nl(jo.prototype,{eb:{name:"verifyPhoneNumber",j:[el(Wf(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Zf(t.session,uo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Zf(t.session,ao)&&tl(t.multiFactorHint):t.session&&t.multiFactorUid?Zf(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),nl(Ro.prototype,{w:{name:"toJSON",j:[Wf(null,!0)]}}),nl(T.prototype,{toJSON:{name:"toJSON",j:[Wf(null,!0)]}}),nl(Wo.prototype,{toJSON:{name:"toJSON",j:[Wf(null,!0)]}}),nl(Ho.prototype,{toJSON:{name:"toJSON",j:[Wf(null,!0)]}}),nl(oh.prototype,{toJSON:{name:"toJSON",j:[Wf(null,!0)]}}),nl(nh.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}}]}}),nl(fh.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.rb}},Wf("displayName",!0)]},ad:{name:"unenroll",j:[el({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:tl},Wf(),"multiFactorInfoIdentifier")]}}),nl(zf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),il(Ii,"parseLink",Oi,[Wf("link")]),il(Of,"assertion",(function(t){return new ch(t)}),[Qf("phone")]),function(){if(void 0===Ct||!Ct.INTERNAL||!Ct.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:af,AuthCredential:co,Error:T};il(t,"EmailAuthProvider",Po,[]),il(t,"FacebookAuthProvider",Io,[]),il(t,"GithubAuthProvider",_o,[]),il(t,"GoogleAuthProvider",Ao,[]),il(t,"TwitterAuthProvider",So,[]),il(t,"OAuthProvider",wo,[Wf("providerId")]),il(t,"SAMLAuthProvider",bo,[Wf("providerId")]),il(t,"PhoneAuthProvider",jo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof af)}}]),il(t,"RecaptchaVerifier",zf,[el(Wf(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Yf("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Ct.app.App)}}]),il(t,"ActionCodeURL",Ii,[]),il(t,"PhoneMultiFactorGenerator",Of,[]),Ct.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new af(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Ct.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.mc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Oc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ct.registerVersion("@firebase/auth","0.15.2"),Ct.INTERNAL.extendNamespace({User:Ih})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var xt=function(t,e){return(xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Rt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Lt,Mt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},jt=jt||{},Vt=Mt||self;function Ut(){}function Ft(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function qt(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Bt="closure_uid_"+(1e9*Math.random()>>>0),Gt=0;function zt(t,e,n){return t.call.apply(t.bind,arguments)}function Kt(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return(Ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zt:Kt).apply(null,arguments)}function Wt(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Xt(){return Date.now()}function Yt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function $t(){this.j=this.j,this.i=this.i}$t.prototype.j=!1,$t.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,Bt)&&t[Bt]||(t[Bt]=++Gt)})(this)},$t.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Jt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Qt=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Zt(t){return Array.prototype.concat.apply([],arguments)}function te(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ee(t){return/^[\s\xa0]*$/.test(t)}var ne,re=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ie(t,e){return-1!=t.indexOf(e)}function oe(t,e){return t<e?-1:t>e?1:0}t:{var se=Vt.navigator;if(se){var ue=se.userAgent;if(ue){ne=ue;break t}}ne=""}function ae(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ce(t){var e={};for(var n in t)e[n]=t[n];return e}var he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<he.length;o++)n=he[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function le(t){return le[" "](t),t}le[" "]=Ut;var pe,de,ve=ie(ne,"Opera"),ye=ie(ne,"Trident")||ie(ne,"MSIE"),ge=ie(ne,"Edge"),me=ge||ye,be=ie(ne,"Gecko")&&!(ie(ne.toLowerCase(),"webkit")&&!ie(ne,"Edge"))&&!(ie(ne,"Trident")||ie(ne,"MSIE"))&&!ie(ne,"Edge"),we=ie(ne.toLowerCase(),"webkit")&&!ie(ne,"Edge");function Ie(){var t=Vt.document;return t?t.documentMode:void 0}t:{var Ee="",_e=(de=ne,be?/rv:([^\);]+)(\)|;)/.exec(de):ge?/Edge\/([\d\.]+)/.exec(de):ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(de):we?/WebKit\/(\S+)/.exec(de):ve?/(?:Version)[ \/]?(\S+)/.exec(de):void 0);if(_e&&(Ee=_e?_e[1]:""),ye){var Te=Ie();if(null!=Te&&Te>parseFloat(Ee)){pe=String(Te);break t}}pe=Ee}var Ae,Ne={};function Se(t){return function(t,e){var n=Ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=re(String(pe)).split("."),r=re(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=oe(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||oe(0==s[2].length,0==u[2].length)||oe(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e}))}if(Vt.document&&ye){var ke=Ie();Ae=ke||(parseInt(pe,10)||void 0)}else Ae=void 0;var Oe=Ae,De=!ye||9<=Number(Oe),Pe=ye&&!Se("9"),Ce=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Vt.addEventListener("test",Ut,e),Vt.removeEventListener("test",Ut,e)}catch(t){}return t}();function xe(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Re(t,e){if(xe.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(be){t:{try{le(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Le[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}xe.prototype.b=function(){this.defaultPrevented=!0},Yt(Re,xe);var Le={2:"touch",3:"pen",4:"mouse"};Re.prototype.b=function(){Re.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Pe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Me="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ve(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++je,this.Y=this.Z=!1}function Ue(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Fe(t){this.src=t,this.a={},this.b=0}function qe(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Jt(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ue(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Be(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Fe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Be(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Ve(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ge="closure_lm_"+(1e6*Math.random()|0),ze={};function Ke(t,e,n,r,i){if(r&&r.once)return We(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ke(t,e[o],n,r,i);return null}return n=en(n),t&&t[Me]?t.va(e,n,qt(r)?!!r.capture:!!r,i):He(t,e,n,!1,r,i)}function He(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=qt(i)?!!i.capture:!!i;if(s&&!De)return null;var u=Ze(t);if(u||(t[Ge]=u=new Fe(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Qe,e=De?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ce||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($e(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function We(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)We(t,e[o],n,r,i);return null}return n=en(n),t&&t[Me]?t.wa(e,n,qt(r)?!!r.capture:!!r,i):He(t,e,n,!0,r,i)}function Xe(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Xe(t,e[o],n,r,i);else r=qt(r)?!!r.capture:!!r,n=en(n),t&&t[Me]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=Be(o=t.a[e],n,r,i))&&(Ue(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Ze(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Be(e,n,r,i)),(n=-1<t?e[t]:null)&&Ye(n))}function Ye(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Me])qe(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($e(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ze(e))?(qe(n,t),0==n.b&&(n.src=null,e[Ge]=null)):Ue(t)}}}function $e(t){return t in ze?ze[t]:ze[t]="on"+t}function Je(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ye(t),n.call(r,e)}function Qe(t,e){if(t.Y)return!0;if(!De){if(!e)t:{e=["window","event"];for(var n=Vt,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Je(t,e=new Re(e,this))}return Je(t,new Re(e,this))}function Ze(t){return(t=t[Ge])instanceof Fe?t:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function en(t){return"function"==typeof t?t:(t[tn]||(t[tn]=function(e){return t.handleEvent(e)}),t[tn])}function nn(){$t.call(this),this.c=new Fe(this),this.J=this,this.C=null}function rn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new xe(e,t);else if(e instanceof xe)e.target=e.target||t;else{var i=e;fe(e=new xe(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=on(s,r,!0,e)&&i}if(i=on(s=e.a=t,r,!0,e)&&i,i=on(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=on(s=e.a=n[o],r,!1,e)&&i}function on(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&qe(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}Yt(nn,$t),nn.prototype[Me]=!0,(Lt=nn.prototype).addEventListener=function(t,e,n,r){Ke(this,t,e,n,r)},Lt.removeEventListener=function(t,e,n,r){Xe(this,t,e,n,r)},Lt.G=function(){if(nn.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ue(n[r]);delete e.a[t],e.b--}}this.C=null},Lt.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Lt.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var sn=Vt.JSON.stringify;function un(){this.b=this.a=null}var an,cn=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new fn}),(function(t){t.reset()}));function hn(){var t=vn,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function fn(){this.next=this.b=this.a=null}function ln(t){Vt.setTimeout((function(){throw t}),0)}function pn(t,e){an||function(){var t=Vt.Promise.resolve(void 0);an=function(){t.then(yn)}}(),dn||(an(),dn=!0),vn.add(t,e)}un.prototype.add=function(t,e){var n=cn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},fn.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},fn.prototype.reset=function(){this.next=this.b=this.a=null};var dn=!1,vn=new un;function yn(){for(var t;t=hn();){try{t.a.call(t.b)}catch(t){ln(t)}var e=cn;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}dn=!1}function gn(t,e){nn.call(this),this.b=t||1,this.a=e||Vt,this.f=Ht(this.Za,this),this.g=Xt()}function mn(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function bn(t,e,n){if("function"==typeof t)n&&(t=Ht(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ht(t.handleEvent,t)}return 2147483647<Number(e)?-1:Vt.setTimeout(t,e||0)}function wn(t){t.a=bn((function(){t.a=null,t.c&&(t.c=!1,wn(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Yt(gn,nn),(Lt=gn.prototype).aa=!1,Lt.M=null,Lt.Za=function(){if(this.aa){var t=Xt()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),rn(this,"tick"),this.aa&&(mn(this),this.start()))}},Lt.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Xt())},Lt.G=function(){gn.X.G.call(this),mn(this),delete this.a};var In=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}xt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:wn(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Vt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}($t);function En(t){$t.call(this),this.b=t,this.a={}}Yt(En,$t);var _n=[];function Tn(t,e,n,r){Array.isArray(n)||(n&&(_n[0]=n.toString()),n=_n);for(var i=0;i<n.length;i++){var o=Ke(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function An(t){ae(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ye(t)}),t),t.a={}}function Nn(){this.a=!0}function Sn(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return sn(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}En.prototype.G=function(){En.X.G.call(this),An(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nn.prototype.info=function(){};var kn={},On=null;function Dn(){return On=On||new nn}function Pn(t){xe.call(this,kn.Fa,t)}function Cn(t){var e=Dn();rn(e,new Pn(e,t))}function xn(t,e){xe.call(this,kn.STAT_EVENT,t),this.stat=e}function Rn(t){var e=Dn();rn(e,new xn(e,t))}function Ln(t){xe.call(this,kn.Ga,t)}function Mn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Vt.setTimeout((function(){t()}),e)}kn.Fa="serverreachability",Yt(Pn,xe),kn.STAT_EVENT="statevent",Yt(xn,xe),kn.Ga="timingevent",Yt(Ln,xe);var jn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Vn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Un(){}function Fn(t){var e;return(e=t.a)||(e=t.a={}),e}function qn(){}Un.prototype.a=null;var Bn,Gn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function zn(){xe.call(this,"d")}function Kn(){xe.call(this,"c")}function Hn(){}function Wn(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new En(this),this.P=Xn,t=me?125:void 0,this.R=new gn(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Yt(zn,xe),Yt(Kn,xe),Yt(Hn,Un),Bn=new Hn;var Xn=45e3,Yn={},$n={};function Jn(t,e,n){t.H=1,t.i=br(pr(e)),t.j=n,t.I=!0,Qn(t,null)}function Qn(t,e){t.u=Xt(),er(t),t.l=pr(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Cr(n.b,"t",r),t.D=0,t.a=Ni(t.g,t.g.C?e:null),0<t.O&&(t.F=new In(Ht(t.Ca,t,t.a),t.O)),Tn(t.J,t.a,"readystatechange",t.Xa),e=t.B?ce(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Cn(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var h=c[0];c=c[1];var f=h.split("_");s=2<=f.length&&"type"==f[1]?s+(h+"=")+c+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Zn(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=tr(t,n);if(i==$n){4==e&&(t.h=4,Rn(14),r=!1),Sn(t.c,t.f,null,"[Incomplete Response]");break}if(i==Yn){t.h=4,Rn(15),Sn(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Sn(t.c,t.f,i,null),sr(t,i)}4==e&&0==n.length&&(t.h=1,Rn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),mi(e),e.F=!0,Rn(11))):(Sn(t.c,t.f,n,"[Invalid Chunked Response]"),or(t),ir(t))}function tr(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?$n:(n=Number(e.substring(n,r)),isNaN(n)?Yn:(r+=1)+n>e.length?$n:(e=e.substr(r,n),t.D=r+n,e))}function er(t){t.T=Xt()+t.P,nr(t,t.P)}function nr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Mn(Ht(t.Va,t),e)}function rr(t){t.o&&(Vt.clearTimeout(t.o),t.o=null)}function ir(t){0==t.g.v||t.A||Ii(t.g,t)}function or(t){rr(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,mn(t.R),An(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function sr(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ur(n.b,t)))if(n.I=t.N,!t.C&&Ur(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;wi(n),ci(n)}gi(n),Rn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Mn(Ht(n.Sa,n),6e3));if(1>=Vr(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else _i(n,11)}else if((t.C||n.a==t)&&wi(n),!ee(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var h=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var f=a.b;!f.a&&(ie(h,"spdy")||ie(h,"quic")||ie(h,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(Fr(f,f.b),f.b=null))}if(a.A){var l=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(a.na=l,mr(a.B,a.A,l))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Xt()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((a=n).la=Ai(a,a.C?a.ga:null,a.fa),p.C){qr(a.b,p);var d=p,v=a.D;v&&d.setTimeout(v),d.o&&(rr(d),er(d)),a.a=p}else yi(a);0<n.g.length&&li(n)}else"stop"!=i[0]&&"close"!=i[0]||_i(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?_i(n,7):ai(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Cn(4)}catch(t){}}function ur(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ft(t)||"string"==typeof t)Qt(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ft(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ft(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ar(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ar)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function cr(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];hr(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)hr(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function hr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Lt=Wn.prototype).setTimeout=function(t){this.P=t},Lt.Xa=function(t){t=t.target;var e=this.F;e&&3==ii(t)?e.f():this.Ca(t)},Lt.Ca=function(t){try{if(t==this.a)t:{var e=ii(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!me&&!this.a.$())){this.A||4!=e||7==n||Cn(8==n||0>=r?3:2),rr(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Rn(12),or(this),ir(this);break t}Sn(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,sr(this,a)}this.I?(Zn(this,e,o),me&&this.b&&3==e&&(Tn(this.J,this.R,"tick",this.Wa),this.R.start())):(Sn(this.c,this.f,o,null),sr(this,o)),4==e&&or(this),this.b&&!this.A&&(4==e?Ii(this.g,this):(this.b=!1,er(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Rn(12)):(this.h=0,Rn(13)),or(this),ir(this)}}}catch(t){}},Lt.Wa=function(){if(this.a){var t=ii(this.a),e=this.a.$();this.D<e.length&&(rr(this),Zn(this,t,e),this.b&&4!=t&&er(this))}},Lt.cancel=function(){this.A=!0,or(this)},Lt.Va=function(){this.o=null;var t=Xt();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Cn(3),Rn(17)),or(this),this.h=2,ir(this)):nr(this,this.T-t)},(Lt=ar.prototype).K=function(){cr(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Lt.L=function(){return cr(this),this.a.concat()},Lt.get=function(t,e){return hr(this.b,t)?this.b[t]:e},Lt.set=function(t,e){hr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Lt.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var fr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function lr(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof lr){this.a=void 0!==e?e:t.a,dr(this,t.f),this.j=t.j,vr(this,t.c),yr(this,t.h),this.g=t.g,e=t.b;var n=new kr;n.c=e.c,e.a&&(n.a=new ar(e.a),n.b=e.b),gr(this,n),this.i=t.i}else t&&(n=String(t).match(fr))?(this.a=!!e,dr(this,n[1]||"",!0),this.j=wr(n[2]||""),vr(this,n[3]||"",!0),yr(this,n[4]),this.g=wr(n[5]||"",!0),gr(this,n[6]||"",!0),this.i=wr(n[7]||"")):(this.a=!!e,this.b=new kr(null,this.a))}function pr(t){return new lr(t)}function dr(t,e,n){t.f=n?wr(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function vr(t,e,n){t.c=n?wr(e,!0):e}function yr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function gr(t,e,n){e instanceof kr?(t.b=e,function(t,e){e&&!t.f&&(Or(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Dr(this,e),Cr(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ir(e,Nr)),t.b=new kr(e,t.a))}function mr(t,e,n){t.b.set(e,n)}function br(t){return mr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Xt()).toString(36)),t}function wr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ir(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Er),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Er(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}lr.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ir(e,_r,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ir(e,_r,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ir(n,"/"==n.charAt(0)?Ar:Tr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ir(n,Sr)),t.join("")};var _r=/[#\/\?@]/g,Tr=/[#\?:]/g,Ar=/[#\?]/g,Nr=/[#\?@]/g,Sr=/#/g;function kr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Or(t){t.a||(t.a=new ar,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Dr(t,e){Or(t),e=xr(t,e),hr(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,hr((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&cr(t)))}function Pr(t,e){return Or(t),e=xr(t,e),hr(t.a.b,e)}function Cr(t,e,n){Dr(t,e),0<n.length&&(t.c=null,t.a.set(xr(t,e),te(n)),t.b+=n.length)}function xr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Lt=kr.prototype).add=function(t,e){Or(this),this.c=null,t=xr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Lt.forEach=function(t,e){Or(this),this.a.forEach((function(n,r){Qt(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Lt.L=function(){Or(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Lt.K=function(t){Or(this);var e=[];if("string"==typeof t)Pr(this,t)&&(e=Zt(e,this.a.get(xr(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Zt(e,t[n])}return e},Lt.set=function(t,e){return Or(this),this.c=null,Pr(this,t=xr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Lt.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Lt.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Rr=function(t,e){this.b=t,this.a=e};function Lr(t){this.g=t||Mr,Vt.PerformanceNavigationTiming?t=0<(t=Vt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Vt.ia&&Vt.ia.ya&&Vt.ia.ya()&&Vt.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Mr=10;function jr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Vr(t){return t.b?1:t.a?t.a.size:0}function Ur(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Fr(t,e){t.a?t.a.add(e):t.b=e}function qr(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Br(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Rt(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return te(t.c)}function Gr(){}function zr(){this.a=new Gr}function Kr(t,e,n){var r=n||"";try{ur(t,(function(t,n){var i=t;qt(t)&&(i=sn(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Hr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Lr.prototype.cancel=function(){var t,e;if(this.c=Br(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Rt(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Gr.prototype.stringify=function(t){return Vt.JSON.stringify(t,void 0)},Gr.prototype.parse=function(t){return Vt.JSON.parse(t,void 0)};var Wr=Vt.JSON.parse;function Xr(t){nn.call(this),this.headers=new ar,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Yr,this.D=this.F=!1}Yt(Xr,nn);var Yr="",$r=/^https?$/i,Jr=["POST","PUT"];function Qr(t){return"content-type"==t.toLowerCase()}function Zr(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ti(t),ni(t)}function ti(t){t.u||(t.u=!0,rn(t,"complete"),rn(t,"error"))}function ei(t){if(t.b&&void 0!==jt&&(!t.s[1]||4!=ii(t)||2!=t.W()))if(t.l&&4==ii(t))bn(t.za,0,t);else if(rn(t,"readystatechange"),4==ii(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(fr)[1]||null;if(!o&&Vt.self&&Vt.self.location){var s=Vt.self.location.protocol;o=s.substr(0,s.length-1)}i=!$r.test(o?o.toLowerCase():"")}e=i}if(e)rn(t,"complete"),rn(t,"success");else{t.h=6;try{var u=2<ii(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",ti(t)}}finally{ni(t)}}}function ni(t,e){if(t.a){ri(t);var n=t.a,r=t.s[0]?Ut:null;t.a=null,t.s=null,e||rn(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function ri(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Vt.clearTimeout(t.m),t.m=null)}function ii(t){return t.a?t.a.readyState:0}function oi(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ae(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):mr(t,e,n))}function si(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ui(t){this.pa=0,this.g=[],this.c=new Nn,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=si("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=si("baseRetryDelayMs",5e3,t),this.Ra=si("retryDelaySeedMs",1e4,t),this.Ma=si("forwardChannelMaxRetries",2,t),this.ma=si("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Lr(t&&t.concurrentRequestLimit),this.ka=new zr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ai(t){if(hi(t),3==t.v){var e=t.R++,n=pr(t.B);mr(n,"SID",t.J),mr(n,"RID",e),mr(n,"TYPE","terminate"),di(t,n),(e=new Wn(t,t.c,e,void 0)).H=2,e.i=br(pr(n)),n=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(n=Vt.navigator.sendBeacon(e.i.toString(),"")),!n&&Vt.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ni(e.g,null),e.a.ba(e.i)),e.u=Xt(),er(e)}Ti(t)}function ci(t){t.a&&(mi(t),t.a.cancel(),t.a=null)}function hi(t){ci(t),t.j&&(Vt.clearTimeout(t.j),t.j=null),wi(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Vt.clearTimeout(t.h),t.h=null)}function fi(t,e){t.g.push(new Rr(t.Oa++,e)),3==t.v&&li(t)}function li(t){jr(t.b)||t.h||(t.h=!0,pn(t.Ba,t),t.u=0)}function pi(t,e){var n;n=e?e.f:t.R++;var r=pr(t.B);mr(r,"SID",t.J),mr(r,"RID",n),mr(r,"AID",t.P),di(t,r),t.i&&t.l&&oi(r,t.i,t.l),n=new Wn(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=vi(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Fr(t.b,n),Jn(n,r,e)}function di(t,e){t.f&&ur({},(function(t,n){mr(e,n,t)}))}function vi(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ht(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,h=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Kr(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function yi(t){t.a||t.j||(t.T=1,pn(t.Aa,t),t.o=0)}function gi(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Mn(Ht(t.Aa,t),Ei(t,t.o)),t.o++,!0)}function mi(t){null!=t.s&&(Vt.clearTimeout(t.s),t.s=null)}function bi(t){t.a=new Wn(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=pr(t.la);mr(e,"RID","rpc"),mr(e,"SID",t.J),mr(e,"CI",t.H?"0":"1"),mr(e,"AID",t.P),di(t,e),mr(e,"TYPE","xmlhttp"),t.i&&t.l&&oi(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=br(pr(e)),n.j=null,n.I=!0,Qn(n,t)}function wi(t){null!=t.m&&(Vt.clearTimeout(t.m),t.m=null)}function Ii(t,e){var n=null;if(t.a==e){wi(t),mi(t),t.a=null;var r=2}else{if(!Ur(t.b,e))return;n=e.s,qr(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Xt()-e.u;var i=t.u;rn(r=Dn(),new Ln(r,n,e,i)),li(t)}else yi(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Vr(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Mn(Ht(t.Ba,t,e),Ei(t,t.u)),t.u++,0)))}(t,e)||2==r&&gi(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:_i(t,5);break;case 4:_i(t,10);break;case 3:_i(t,6);break;default:_i(t,2)}}function Ei(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function _i(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ht(t.Ya,t);n||(n=new lr("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||dr(n,"https"),br(n)),function(t,e){var n=new Nn;if(Vt.Image){var r=new Image;r.onload=Wt(Hr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wt(Hr,n,r,"TestLoadImage: error",!1,e),r.onabort=Wt(Hr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wt(Hr,n,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Rn(2);t.v=0,t.f&&t.f.ra(e),Ti(t),hi(t)}function Ti(t){t.v=0,t.I=-1,t.f&&(0==Br(t.b).length&&0==t.g.length||(t.b.c.length=0,te(t.g),t.g.length=0),t.f.qa())}function Ai(t,e,n){var r=function(t){return t instanceof lr?pr(t):new lr(t,void 0)}(n);if(""!=r.c)e&&vr(r,e+"."+r.c),yr(r,r.h);else{var i=Vt.location;r=function(t,e,n,r){var i=new lr(null,void 0);return t&&dr(i,t),e&&vr(i,e),n&&yr(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ae(t.V,(function(t,e){mr(r,e,t)})),e=t.A,n=t.na,e&&n&&mr(r,e,n),mr(r,"VER",t.ha),di(t,r),r}function Ni(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xr(t.Na)).F=t.C,e}function Si(){}function ki(){if(ye&&!(10<=Number(Oe)))throw Error("Environmental error: no available transport.")}function Oi(t,e){nn.call(this),this.a=new ui(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ee(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ee(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Ci(this)}function Di(t){zn.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Pi(){Kn.call(this),this.status=1}function Ci(t){this.a=t}(Lt=Xr.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Fn(this.H):Fn(Bn),this.a.onreadystatechange=Ht(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Zr(this,t)}t=n||"";var i=new ar(this.headers);r&&ur(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Qr,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Vt.FormData&&t instanceof Vt.FormData,!(0<=Jt(Jr,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ri(this),0<this.o&&((this.D=function(t){return ye&&Se(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ht(this.xa,this)):this.m=bn(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Zr(this,t)}},Lt.xa=function(){void 0!==jt&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,rn(this,"timeout"),this.abort(8))},Lt.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,rn(this,"complete"),rn(this,"abort"),ni(this))},Lt.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ni(this,!0)),Xr.X.G.call(this)},Lt.za=function(){this.j||(this.A||this.l||this.g?ei(this):this.Ua())},Lt.Ua=function(){ei(this)},Lt.W=function(){try{return 2<ii(this)?this.a.status:-1}catch(t){return-1}},Lt.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Lt.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Wr(e)}},Lt.ua=function(){return this.h},Lt.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Lt=ui.prototype).ha=8,Lt.v=1,Lt.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Wn(this,this.c,t,void 0),r=this.l;if(this.O&&(r?fe(r=ce(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=vi(this,n,e),mr(i=pr(this.B),"RID",t),mr(i,"CVER",22),this.A&&mr(i,"X-HTTP-Session-Id",this.A),di(this,i),this.i&&r&&oi(i,this.i,r),Fr(this.b,n),this.Ia&&mr(i,"TYPE","init"),this.da?(mr(i,"$req",e),mr(i,"SID","null"),n.U=!0,Jn(n,i,null)):Jn(n,i,e),this.v=2}}else 3==this.v&&(t?pi(this,t):0==this.g.length||jr(this.b)||pi(this))},Lt.Aa=function(){if(this.j=null,bi(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Mn(Ht(this.Ta,this),t)}},Lt.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Rn(10),ci(this),bi(this))},Lt.Sa=function(){null!=this.m&&(this.m=null,ci(this),gi(this),Rn(19))},Lt.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Rn(2)):(this.c.info("Failed to ping google.com"),Rn(1))},(Lt=Si.prototype).ta=function(){},Lt.sa=function(){},Lt.ra=function(){},Lt.qa=function(){},Lt.Ja=function(){},ki.prototype.a=function(t,e){return new Oi(t,e)},Yt(Oi,nn),Oi.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Rn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ai(t,null,t.fa),li(t)},Oi.prototype.close=function(){ai(this.a)},Oi.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,fi(this.a,e)}else this.l?((e={}).__data__=sn(t),fi(this.a,e)):fi(this.a,t)},Oi.prototype.G=function(){this.a.f=null,delete this.f,ai(this.a),delete this.a,Oi.X.G.call(this)},Yt(Di,zn),Yt(Pi,Kn),Yt(Ci,Si),Ci.prototype.ta=function(){rn(this.a,"a")},Ci.prototype.sa=function(t){rn(this.a,new Di(t))},Ci.prototype.ra=function(t){rn(this.a,new Pi(t))},Ci.prototype.qa=function(){rn(this.a,"b")},ki.prototype.createWebChannel=ki.prototype.a,Oi.prototype.send=Oi.prototype.h,Oi.prototype.open=Oi.prototype.g,Oi.prototype.close=Oi.prototype.close,jn.NO_ERROR=0,jn.TIMEOUT=8,jn.HTTP_ERROR=6,Vn.COMPLETE="complete",qn.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",nn.prototype.listen=nn.prototype.va,Xr.prototype.listenOnce=Xr.prototype.wa,Xr.prototype.getLastError=Xr.prototype.Qa,Xr.prototype.getLastErrorCode=Xr.prototype.ua,Xr.prototype.getStatus=Xr.prototype.W,Xr.prototype.getResponseJson=Xr.prototype.Pa,Xr.prototype.getResponseText=Xr.prototype.$,Xr.prototype.send=Xr.prototype.ba;var xi=jn,Ri=Vn,Li=kn,Mi=10,ji=11,Vi=qn,Ui=Xr,Fi=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},qi=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Bi=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Bi.UNAUTHENTICATED=new Bi(null),Bi.l=new Bi("google-credentials-uid"),Bi._=new Bi("first-party-uid");
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Gi=new gt("@firebase/firestore");function zi(){return Gi.logLevel}function Ki(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gi.logLevel<=ht.DEBUG){var r=e.map(Xi);Gi.debug.apply(Gi,K(["Firestore (8.1.1): "+t],r))}}function Hi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gi.logLevel<=ht.ERROR){var r=e.map(Xi);Gi.error.apply(Gi,K(["Firestore (8.1.1): "+t],r))}}function Wi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Gi.logLevel<=ht.WARN){var r=e.map(Xi);Gi.warn.apply(Gi,K(["Firestore (8.1.1): "+t],r))}}function Xi(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Yi(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw Hi(e),new Error(e)}function $i(t,e){t||Yi()}function Ji(t,e){return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Qi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zi=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return V(e,t),e}(Error),to=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},eo=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(Bi.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),no=function(){function t(t){var e=this;this.P=null,this.currentUser=Bi.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then((function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.V!==e?(Ki("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?($i("string"==typeof n.accessToken),new to(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return $i(null===t||"string"==typeof t),new Bi(t)},t}(),ro=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=Bi._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),io=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new ro(this.v,this.S))},t.prototype.A=function(t){t(Bi._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function oo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var so=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=oo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function uo(t,e){return t<e?-1:t>e?1:0}function ao(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function co(t){return t+"\0"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ho=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Zi(Qi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Zi(Qi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Zi(Qi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zi(Qi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?uo(this.nanoseconds,t.nanoseconds):uo(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),fo=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new ho(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),lo=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Yi(),void 0===n?n=t.length-e:n>t.length-e&&Yi(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return t=void 0===t?1:t,this.L(this.segments,this.offset+t,this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.X=function(){return new e([])},e}(lo),vo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return vo.test(t)},e.prototype.J=function(){return this.H().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Z(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new Zi(Qi.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Zi(Qi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new Zi(Qi.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(lo),go=function(){function t(t){this.path=t}return t.st=function(e){return new t(po.Y(e))},t.it=function(e){return new t(po.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===po.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return po.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new po(e.slice()))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function mo(t){return null==t}function bo(t){return 0===t&&1/t==-1/0}function wo(t){return"number"==typeof t&&Number.isInteger(t)&&!bo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Io=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ut=null};function Eo(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Io(t,e,n,r,i,o,s)}function _o(t){var e=Ji(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.J()+t.op.toString()+ms(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.J()+t.dir}(t)})).join(","),mo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=wa(e.startAt)),e.endAt&&(n+="|ub:",n+=wa(e.endAt)),e.ut=n}return e.ut}function To(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Aa(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ds(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ea(t.startAt,e.startAt)&&Ea(t.endAt,e.endAt)}function Ao(t){return go.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var No=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.at,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return uo(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();No.lt=new No("");var So,ko,Oo=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=fo.min()),void 0===o&&(o=fo.min()),void 0===s&&(s=No.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Do=function(t){this.count=t};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Po(t){switch(t){case Qi.OK:return Yi();case Qi.CANCELLED:case Qi.UNKNOWN:case Qi.DEADLINE_EXCEEDED:case Qi.RESOURCE_EXHAUSTED:case Qi.INTERNAL:case Qi.UNAVAILABLE:case Qi.UNAUTHENTICATED:return!1;case Qi.INVALID_ARGUMENT:case Qi.NOT_FOUND:case Qi.ALREADY_EXISTS:case Qi.PERMISSION_DENIED:case Qi.FAILED_PRECONDITION:case Qi.ABORTED:case Qi.OUT_OF_RANGE:case Qi.UNIMPLEMENTED:case Qi.DATA_LOSS:return!0;default:return Yi()}}function Co(t){if(void 0===t)return Hi("GRPC error has no .code"),Qi.UNKNOWN;switch(t){case So.OK:return Qi.OK;case So.CANCELLED:return Qi.CANCELLED;case So.UNKNOWN:return Qi.UNKNOWN;case So.DEADLINE_EXCEEDED:return Qi.DEADLINE_EXCEEDED;case So.RESOURCE_EXHAUSTED:return Qi.RESOURCE_EXHAUSTED;case So.INTERNAL:return Qi.INTERNAL;case So.UNAVAILABLE:return Qi.UNAVAILABLE;case So.UNAUTHENTICATED:return Qi.UNAUTHENTICATED;case So.INVALID_ARGUMENT:return Qi.INVALID_ARGUMENT;case So.NOT_FOUND:return Qi.NOT_FOUND;case So.ALREADY_EXISTS:return Qi.ALREADY_EXISTS;case So.PERMISSION_DENIED:return Qi.PERMISSION_DENIED;case So.FAILED_PRECONDITION:return Qi.FAILED_PRECONDITION;case So.ABORTED:return Qi.ABORTED;case So.OUT_OF_RANGE:return Qi.OUT_OF_RANGE;case So.UNIMPLEMENTED:return Qi.UNIMPLEMENTED;case So.DATA_LOSS:return Qi.DATA_LOSS;default:return Yi()}}(ko=So||(So={}))[ko.OK=0]="OK",ko[ko.CANCELLED=1]="CANCELLED",ko[ko.UNKNOWN=2]="UNKNOWN",ko[ko.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ko[ko.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ko[ko.NOT_FOUND=5]="NOT_FOUND",ko[ko.ALREADY_EXISTS=6]="ALREADY_EXISTS",ko[ko.PERMISSION_DENIED=7]="PERMISSION_DENIED",ko[ko.UNAUTHENTICATED=16]="UNAUTHENTICATED",ko[ko.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ko[ko.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ko[ko.ABORTED=10]="ABORTED",ko[ko.OUT_OF_RANGE=11]="OUT_OF_RANGE",ko[ko.UNIMPLEMENTED=12]="UNIMPLEMENTED",ko[ko.INTERNAL=13]="INTERNAL",ko[ko.UNAVAILABLE=14]="UNAVAILABLE",ko[ko.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var xo=function(){function t(t,e){this.$=t,this.root=e||Lo.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,Lo.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,Lo.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Pt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new Ro(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new Ro(this.root,t,this.$,!1)},t.prototype.vt=function(){return new Ro(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new Ro(this.root,t,this.$,!0)},t}(),Ro=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),Lo=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Yi();if(this.right.Mt())throw Yi();var t=this.left.Qt();if(t!==this.right.Qt())throw Yi();return t+(this.Mt()?0:1)},t}();Lo.EMPTY=null,Lo.RED=!0,Lo.It=!1,Lo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Yi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Yi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Yi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Yi()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Yi()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new Lo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Mo=function(){function t(t){this.$=t,this.data=new xo(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt((function(e,n){return t(e),!1}))},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new jo(this.data.yt())},t.prototype.Vt=function(t){return new jo(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),jo=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),Vo=new xo(go.$);function Uo(){return Vo}function Fo(){return Uo()}var qo=new xo(go.$);function Bo(){return qo}var Go=new xo(go.$),zo=new Mo(go.$);function Ko(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=zo,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ho=new Mo(uo);function Wo(){return Ho}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Xo=function(){function t(t){this.$=t?function(e,n){return t(e,n)||go.$(e.key,n.key)}:function(t,e){return go.$(t.key,e.key)},this.Ht=Bo(),this.Jt=new xo(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Yo=function(){function t(){this.Xt=new xo(go.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Yi():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt((function(e,n){t.push(n)})),t},t}(),$o=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=s,this.se=u}return t.ie=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Xo.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&oa(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Jo=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,Qo.he(e,n)),new t(fo.min(),r,Wo(),Uo(),Ko())},t}(),Qo=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(No.lt,n,Ko(),Ko(),Ko())},t}(),Zo=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},ts=function(t,e){this.targetId=t,this.Te=e},es=function(t,e,n,r){void 0===n&&(n=No.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ns=function(){function t(){this.Ie=0,this.me=os(),this.Ae=No.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=Ko(),e=Ko(),n=Ko();return this.me.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Yi()}})),new Qo(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=os()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),rs=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=Uo(),this.Me=is(),this.ke=new Mo(uo)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof Ku?this.Le(r,t.Ee):t.Ee instanceof Hu&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.Be(s,t.key,t.Ee)}},t.prototype.qe=function(t){var e=this;this.Ue(t,(function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Yi()}}))},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach((function(t,r){n.Ke(r)&&e(r)}))},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(Ao(i))if(0===n){var o=new go(i.path);this.Be(e,o,new Hu(o,fo.min()))}else $i(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach((function(r,i){var o=e.Ge(i);if(o){if(r.le&&Ao(o.target)){var s=new go(o.target.path);null!==e.Oe.get(s)||e.Je(i,s)||e.Be(i,s,new Hu(s,t))}r.ye&&(n.set(i,r.pe()),r.ve())}}));var r=Ko();this.Me.forEach((function(t,n){var i=!0;n.Wt((function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Jo(t,n,this.ke,this.Oe,r);return this.Oe=Uo(),this.Me=is(),this.ke=new Mo(uo),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new ns,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new Mo(uo),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||Ki("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new ns),this.xe.Xe(t).forEach((function(n){e.Be(t,n,null)}))},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function is(){return new xo(go.$)}function os(){return new xo(go.$)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ss(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function us(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function as(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function cs(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hs(t){var e=t.mapValue.fields.__previous_value__;return cs(e)?hs(e):e}function fs(t){var e=ws(t.mapValue.fields.__local_write_time__.timestampValue);return new ho(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ls=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cs(t)?4:10:Yi()}function ds(t,e){var n=ps(t);if(n!==ps(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fs(t).isEqual(fs(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ws(t.timestampValue),r=ws(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Es(t.bytesValue).isEqual(Es(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Is(t.geoPointValue.latitude)===Is(e.geoPointValue.latitude)&&Is(t.geoPointValue.longitude)===Is(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Is(t.integerValue)===Is(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Is(t.doubleValue),r=Is(e.doubleValue);return n===r?bo(n)===bo(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ao(t.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ss(n)!==ss(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ds(n[i],r[i])))return!1;return!0}(t,e);default:return Yi()}}function vs(t,e){return void 0!==(t.values||[]).find((function(t){return ds(t,e)}))}function ys(t,e){var n=ps(t),r=ps(e);if(n!==r)return uo(n,r);switch(n){case 0:return 0;case 1:return uo(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Is(t.integerValue||t.doubleValue),r=Is(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return gs(t.timestampValue,e.timestampValue);case 4:return gs(fs(t),fs(e));case 5:return uo(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Es(t),r=Es(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=uo(n[i],r[i]);if(0!==o)return o}return uo(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=uo(Is(t.latitude),Is(e.latitude));return 0!==n?n:uo(Is(t.longitude),Is(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ys(n[i],r[i]);if(o)return o}return uo(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=uo(r[s],o[s]);if(0!==u)return u;var a=ys(n[r[s]],i[o[s]]);if(0!==a)return a}return uo(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Yi()}}function gs(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return uo(t,e);var n=ws(t),r=ws(e),i=uo(n.seconds,r.seconds);return 0!==i?i:uo(n.nanos,r.nanos)}function ms(t){return bs(t)}function bs(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=ws(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Es(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,go.it(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=bs(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+bs(t.fields[o])}return e+"}"}(t.mapValue):Yi();var e,n}function ws(t){if($i(!!t),"string"==typeof t){var e=0,n=ls.exec(t);if($i(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Is(t.seconds),nanos:Is(t.nanos)}}function Is(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Es(t){return"string"==typeof t?No.fromBase64String(t):No.fromUint8Array(t)}function _s(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Ts(t){return!!t&&"integerValue"in t}function As(t){return!!t&&"arrayValue"in t}function Ns(t){return!!t&&"nullValue"in t}function Ss(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ks(t){return!!t&&"mapValue"in t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Os={asc:"ASCENDING",desc:"DESCENDING"},Ds={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ps=function(t,e){this.t=t,this.tn=e};function Cs(t){return{integerValue:""+t}}function xs(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bo(e)?"-0":e}}function Rs(t,e){return wo(e)?Cs(e):xs(t,e)}function Ls(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ms(t,e){return t.tn?e.toBase64():e.toUint8Array()}function js(t,e){return Ls(t,e.M())}function Vs(t){return $i(!!t),fo.N(function(t){var e=ws(t);return new ho(e.seconds,e.nanos)}(t))}function Us(t,e){return function(t){return new po(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function Fs(t){var e=po.Y(t);return $i(cu(e)),e}function qs(t,e){return Us(t.t,e.path)}function Bs(t,e){var n=Fs(e);if(n.get(1)!==t.t.projectId)throw new Zi(Qi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Zi(Qi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new go(Hs(n))}function Gs(t,e){return Us(t.t,e)}function zs(t){var e=Fs(t);return 4===e.length?po.X():Hs(e)}function Ks(t){return new po(["projects",t.t.projectId,"databases",t.t.database]).J()}function Hs(t){return $i(t.length>4&&"documents"===t.get(4)),t.B(5)}function Ws(t,e,n){return{name:qs(t,e),fields:n.proto.mapValue.fields}}function Xs(t,e){var n;if(e instanceof xu)n={update:Ws(t,e.key,e.value)};else if(e instanceof Uu)n={delete:qs(t,e.key)};else if(e instanceof Ru)n={update:Ws(t,e.key,e.data),updateMask:au(e.en)};else if(e instanceof Mu)n={transform:{document:qs(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof du)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof vu)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof gu)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof bu)return{fieldPath:e.field.J(),increment:n.nn};throw Yi()}(0,t)}))}};else{if(!(e instanceof Fu))return Yi();n={verify:qs(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:js(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Yi()}(t,e.rn)),n}function Ys(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Au.updateTime(Vs(t.updateTime)):void 0!==t.exists?Au.exists(t.exists):Au.on()}(e.currentDocument):Au.on();if(e.update){e.update.name;var r=Bs(t,e.update.name),i=new qu({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new Eu(e.map((function(t){return yo.nt(t)})))}(e.updateMask);return new Ru(r,i,o,n)}return new xu(r,i,n)}if(e.delete){var s=Bs(t,e.delete);return new Uu(s,n)}if(e.transform){var u=Bs(t,e.transform.document),a=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)$i("REQUEST_TIME"===e.setToServerValue),n=new du;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new vu(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new gu(i)}else"increment"in e?n=new bu(t,e.increment):Yi();var o=yo.nt(e.fieldPath);return new _u(o,n)}(t,e)}));return $i(!0===n.exists),new Mu(u,a)}if(e.verify){var c=Bs(t,e.verify);return new Fu(c,n)}return Yi()}function $s(t,e){return{documents:[Gs(t,e.path)]}}function Js(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Gs(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gs(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Ss(t.value))return{unaryFilter:{field:iu(t.field),op:"IS_NAN"}};if(Ns(t.value))return{unaryFilter:{field:iu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ss(t.value))return{unaryFilter:{field:iu(t.field),op:"IS_NOT_NAN"}};if(Ns(t.value))return{unaryFilter:{field:iu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iu(t.field),op:ru(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:iu(t.field),direction:nu(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.tn||mo(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=tu(e.startAt)),e.endAt&&(n.structuredQuery.endAt=tu(e.endAt)),n}function Qs(t){var e=zs(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){$i(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Zs(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(t){return function(t){return new _a(ou(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var a=null;n.limit&&(a=function(t){var e;return mo(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=eu(n.startAt));var h=null;return n.endAt&&(h=eu(n.endAt)),Yu(e,i,u,s,a,"F",c,h)}function Zs(t){return t?void 0!==t.unaryFilter?[uu(t)]:void 0!==t.fieldFilter?[su(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Zs(t)})).reduce((function(t,e){return t.concat(e)})):Yi():[]}function tu(t){return{before:t.before,values:t.position}}function eu(t){var e=!!t.before,n=t.values||[];return new ba(n,e)}function nu(t){return Os[t]}function ru(t){return Ds[t]}function iu(t){return{fieldPath:t.J()}}function ou(t){return yo.nt(t.fieldPath)}function su(t){return ha.create(ou(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Yi()}}(t.fieldFilter.op),t.fieldFilter.value)}function uu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ou(t.unaryFilter.field);return ha.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ou(t.unaryFilter.field);return ha.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ou(t.unaryFilter.field);return ha.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ou(t.unaryFilter.field);return ha.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Yi()}}function au(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}}function cu(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hu=function(){this.cn=void 0};function fu(t,e,n){return t instanceof du?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof vu?yu(t,e):t instanceof gu?mu(t,e):function(t,e){var n=pu(t,e),r=wu(n)+wu(t.nn);return Ts(n)&&Ts(t.nn)?Cs(r):xs(t.serializer,r)}(t,e)}function lu(t,e,n){return t instanceof vu?yu(t,e):t instanceof gu?mu(t,e):n}function pu(t,e){return t instanceof bu?Ts(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e}(hu),vu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return V(e,t),e}(hu);function yu(t,e){for(var n=Iu(e),r=function(t){n.some((function(e){return ds(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var gu=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return V(e,t),e}(hu);function mu(t,e){for(var n=Iu(e),r=function(t){n=n.filter((function(e){return!ds(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var bu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return V(e,t),e}(hu);function wu(t){return Is(t.integerValue||t.doubleValue)}function Iu(t){return As(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Eu=function(){function t(t){this.fields=t,t.sort(yo.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return ao(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),_u=function(t,e){this.field=t,this.transform=e},Tu=function(t,e){this.version=t,this.transformResults=e},Au=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Nu(t,e){return void 0!==t.updateTime?e instanceof Ku&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ku}var Su=function(){};function ku(t,e,n){return t instanceof xu?function(t,e,n){return new Ku(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Ru?function(t,e,n){if(!Nu(t.rn,e))return new Wu(t.key,n.version);var r=Lu(t,e);return new Ku(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Mu?function(t,e,n){if($i(null!=n.transformResults),!Nu(t.rn,e))return new Wu(t.key,n.version);var r=ju(t,e),i=function(t,e,n){var r=[];$i(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof Ku&&(u=e.field(o.field)),r.push(lu(s,u,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Vu(t,r.data(),i);return new Ku(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Hu(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ou(t,e,n,r){return t instanceof xu?function(t,e){if(!Nu(t.rn,e))return e;var n=Cu(e);return new Ku(t.key,n,t.value,{an:!0})}(t,e):t instanceof Ru?function(t,e){if(!Nu(t.rn,e))return e;var n=Cu(e),r=Lu(t,e);return new Ku(t.key,n,r,{an:!0})}(t,e):t instanceof Mu?function(t,e,n,r){if(!Nu(t.rn,e))return e;var i=ju(t,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,c=null;n instanceof Ku&&(c=n.field(u.field)),null===c&&r instanceof Ku&&(c=r.field(u.field)),i.push(fu(a,c,e))}return i}(t.fieldTransforms,n,e,r),s=Vu(t,i.data(),o);return new Ku(t.key,i.version,s,{an:!0})}(t,e,r,n):function(t,e){return Nu(t.rn,e)?new Hu(t.key,fo.min()):e}(t,e)}function Du(t,e){return t instanceof Mu?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof Ku?e.field(o.field):void 0,u=pu(o.transform,s||null);null!=u&&(n=null==n?(new Bu).set(o.field,u):n.set(o.field,u))}return n?n.hn():null}(t,e):null}function Pu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||ao(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof vu&&e instanceof vu||t instanceof gu&&e instanceof gu?ao(t.elements,e.elements,ds):t instanceof bu&&e instanceof bu?ds(t.nn,e.nn):t instanceof du&&e instanceof du}(t.transform,e.transform)}(t,e)})))}function Cu(t){return t instanceof Ku?t.version:fo.min()}var xu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return V(e,t),e}(Su),Ru=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return V(e,t),e}(Su);function Lu(t,e){return function(t,e){var n=new Bu(e);return t.en.fields.forEach((function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.hn()}(t,e instanceof Ku?e.data():qu.empty())}var Mu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Au.exists(!0),r}return V(e,t),e}(Su);function ju(t,e){return e}function Vu(t,e,n){for(var r=new Bu(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.hn()}var Uu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return V(e,t),e}(Su),Fu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return V(e,t),e}(Su),qu=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!ks(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return ds(this.proto,t.proto)},t}(),Bu=function(){function t(t){void 0===t&&(t=qu.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ps(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(yo.X(),this._n);return null!=t?new qu(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=ks(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.dn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Gu(t){var e=[];return us(t.fields||{},(function(t,n){var r=new yo([t]);if(ks(n)){var i=Gu(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var u=s[o];e.push(r.child(u))}}else e.push(r)})),new Eu(e)
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var zu=function(t,e){this.key=t,this.version=e},Ku=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return V(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(zu),Hu=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return V(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(zu),Wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(zu),Xu=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.In=null,this.mn=null,this.startAt,this.endAt};function Yu(t,e,n,r,i,o,s,u){return new Xu(t,e,n,r,i,o,s,u)}function $u(t){return new Xu(t)}function Ju(t){return!mo(t.limit)&&"F"===t.limitType}function Qu(t){return!mo(t.limit)&&"L"===t.limitType}function Zu(t){return t.Tn.length>0?t.Tn[0].field:null}function ta(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function ea(t){return null!==t.collectionGroup}function na(t){var e=Ji(t);if(null===e.In){e.In=[];var n=ta(e),r=Zu(e);if(null!==n&&null===r)n.tt()||e.In.push(new _a(n)),e.In.push(new _a(yo.et(),"asc"));else{for(var i=!1,o=0,s=e.Tn;o<s.length;o++){var u=s[o];e.In.push(u),u.field.tt()&&(i=!0)}if(!i){var a=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new _a(yo.et(),a))}}}return e.In}function ra(t){var e=Ji(t);if(!e.mn)if("F"===e.limitType)e.mn=Eo(e.path,e.collectionGroup,na(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=na(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new _a(o.field,s))}var u=e.endAt?new ba(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ba(e.startAt.position,!e.startAt.before):null;e.mn=Eo(e.path,e.collectionGroup,n,e.filters,e.limit,u,a)}return e.mn}function ia(t,e,n){return new Xu(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oa(t,e){return To(ra(t),ra(e))&&t.limitType===e.limitType}function sa(t){return _o(ra(t))+"|lt:"+t.limitType}function ua(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.J()+" "+e.op+" "+ms(e.value);var e})).join(", ")+"]"),mo(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+wa(t.startAt)),t.endAt&&(e+=", endAt: "+wa(t.endAt)),"Target("+e+")"}(ra(t))+"; limitType="+t.limitType+")"}function aa(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):go.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ia(t.startAt,na(t),e)||t.endAt&&Ia(t.endAt,na(t),e))}(t,e)}function ca(t){return function(e,n){for(var r=!1,i=0,o=na(t);i<o.length;i++){var s=o[i],u=Ta(s,e,n);if(0!==u)return u;r=r||s.field.tt()}return 0}}var ha=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return V(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new fa(t,n,r):"array-contains"===n?new va(t,r):"in"===n?new ya(t,r):"not-in"===n?new ga(t,r):"array-contains-any"===n?new ma(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new la(t,n):new pa(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(ys(e,this.value)):null!==e&&ps(this.value)===ps(e)&&this.Pn(ys(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Yi()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),fa=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=go.it(r.referenceValue),i}return V(e,t),e.prototype.matches=function(t){var e=go.$(t.key,this.key);return this.Pn(e)},e}(ha),la=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=da("in",n),r}return V(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ha),pa=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=da("not-in",n),r}return V(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(ha);function da(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return go.it(t.referenceValue)}))}var va=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return V(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return As(e)&&vs(e.arrayValue,this.value)},e}(ha),ya=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return V(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&vs(this.value.arrayValue,e)},e}(ha),ga=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return V(e,t),e.prototype.matches=function(t){if(vs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!vs(this.value.arrayValue,e)},e}(ha),ma=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return V(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!As(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return vs(e.value.arrayValue,t)}))},e}(ha),ba=function(t,e){this.position=t,this.before=e};function wa(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ms(t)})).join(",")}function Ia(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.tt()?go.$(go.it(s.referenceValue),n.key):ys(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ea(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ds(t.position[n],e.position[n]))return!1;return!0}var _a=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ta(t,e,n){var r=t.field.tt()?go.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ys(r,i):Yi()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Yi()}}function Aa(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Na=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=ku(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Ou(i,e,e,this.gn))}for(var o=e,s=0,u=this.mutations;s<u.length;s++){var a=u[s];a.key.isEqual(t)&&(e=Ou(a,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ko())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ao(this.mutations,t.mutations,(function(t,e){return Pu(t,e)}))&&ao(this.baseMutations,t.baseMutations,(function(t,e){return Pu(t,e)}))},t}(),Sa=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){$i(e.mutations.length===r.length);for(var i=Go,o=e.mutations,s=0;s<o.length;s++)i=i.Tt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ka=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],u=o[1];if(this.Cn(s,t))return u}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){us(this.Nn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],u=o[1];t(s,u)}}))},t.prototype.W=function(){return as(this.Nn)},t}(),Oa=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t((function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)}),(function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Yi(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t((function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}}))},t.prototype.Ln=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn((function(){return e(n)})):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.qn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.qn(r)},t}(),Da=function(){function t(){this.Qn=new ka((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:fo.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?Oa.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),Pa=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ca(t){return new Ps(t,!0)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function xa(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ra="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",La=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach((function(t){return t()}))},t}(),Ma=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next((function(r){return n.hs(t,e,r)}))},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t}))},t.prototype.ls=function(t,e,n){var r=Fo();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)})),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next((function(e){return n.fs(t,e)}))},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next((function(r){var i=n.ls(t,e,r),o=Uo();return i.forEach((function(t,e){e||(e=new Hu(t,fo.min())),o=o.Tt(t,e)})),o}))},t.prototype.ws=function(t,e,n){return function(t){return go.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):ea(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new go(e)).next((function(t){var e=Bo();return t instanceof Ku&&(e=e.Tt(t.key,t)),e}))},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=Bo();return this.os.As(t,i).next((function(s){return Oa.forEach(s,(function(s){var u=function(t,e){return new Xu(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Is(t,u,n).next((function(t){t.forEach((function(t,e){o=o.Tt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next((function(n){return r=n,o.rs.Rs(t,e)})).next((function(e){return i=e,o.Ps(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,h=r.get(c),f=Ou(a,h,h,o.gn);r=f instanceof Ku?r.Tt(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){aa(e,n)||(r=r.remove(t))})),r}))},t.prototype.Ps=function(t,e,n){for(var r=Ko(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof Ru&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.ss.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Ku&&(c=c.Tt(t,e))})),c}))},t}(),ja=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=Ko(),i=Ko(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Va=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();Va.Ds=-1;var Ua=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&Ki("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,(function(){return e.$s=Date.now(),t()})),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),Fa=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(X())&&Hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ki("SimpleDb","Removing database:",t),Ha(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=X(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return F(this,void 0,void 0,(function(){var e,n=this;return q(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ki("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ba(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Zi(Qi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Ba(t,n))},i.onupgradeneeded=function(t){Ki("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Ws.createOrUpgrade(e,i.transaction,t.oldVersion,n.version).next((function(){Ki("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}}))}))},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return F(this,void 0,void 0,(function(){var i,o,s,u,a;return q(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,h;return q(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.Xs(t)];case 2:return u.db=f.sent(),e=za.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Oa.reject(t)})).Ln(),a={},s.catch((function(){})),[4,e.ei];case 3:return[2,(a.value=(f.sent(),s),a)];case 4:return c=f.sent(),h="FirebaseError"!==c.name&&o<3,Ki("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),qa=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return Ha(this.ni.delete())},t}(),Ba=function(t){function e(e,n){var r=this;return(r=t.call(this,Qi.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return V(e,t),e}(Zi);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ga(t){return"IndexedDbTransactionError"===t.name}var za=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new Pa,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new Ba(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=Xa(e.target.error);n.ci.reject(new Ba(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ba(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(Ki("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ka(e)},t}(),Ka=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ki("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ki("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ha(n)},t.prototype.add=function(t){return Ki("SimpleDb","ADD",this.store.name,t,t),Ha(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ha(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ki("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ki("SimpleDb","DELETE",this.store.name,t),Ha(this.store.delete(t))},t.prototype.count=function(){return Ki("SimpleDb","COUNT",this.store.name),Ha(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.hi=function(t,e){Ki("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,(function(t,e,n){return n.delete()}))},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new Oa((function(n,r){e.onerror=function(t){var e=Xa(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.ai=function(t,e){var n=[];return new Oa((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new qa(i),s=e(i.primaryKey,i.value,o);if(s instanceof Oa){var u=s.catch((function(t){return o.done(),Oa.reject(t)}));n.push(u)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}})).next((function(){return Oa.qn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ha(t){return new Oa((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Xa(t.target.error);n(e)}}))}var Wa=!1;function Xa(t){var e=Fa.js(X());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Zi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Wa||(Wa=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ya(){return"undefined"!=typeof window?window:null}function $a(){return"undefined"!=typeof document?document:null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ja=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Pa,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch((function(t){}))}return t.Ii=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.mi=setTimeout((function(){return e.Ai()}),t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new Zi(Qi.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri((function(){return null!==t.mi?(t.clearTimeout(),t.op().then((function(e){return t.Ti.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),Qa=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new Ua(this,"async_queue_retry"),this.Di=function(){var e=$a();e&&Ki("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=$a();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=$a();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise((function(t){})):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri((function(){return e.gi.push(t),e.ki()}))},t.prototype.ki=function(){return F(this,void 0,void 0,(function(){var t,e=this;return q(this,(function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!Ga(t=n.sent()))throw t;return Ki("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs((function(){return e.ki()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Fi=function(t){var e=this,n=this.Pi.then((function(){return e.vi=!0,t().catch((function(t){throw e.pi=t,e.vi=!1,Hi("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.vi=!1,t}))}));return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=Ja.Ii(this,t,e,n,(function(t){return r.$i(t)}));return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Yi()},t.prototype.Li=function(){},t.prototype.Bi=function(){return F(this,void 0,void 0,(function(){var t;return q(this,(function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then((function(){e.Vi.sort((function(t,e){return t.wi-e.wi}));for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()}))},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function Za(t,e){if(Hi("AsyncQueue",e+": "+t),Ga(t))return new Zi(Qi.UNAVAILABLE,e+": "+t);throw t}function tc(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=uo(n,i);return 0===s?uo(r,o):s}var ec=function(){function t(t){this.Ki=t,this.buffer=new Mo(tc),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();tc(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),nc={zi:!1,Hi:0,Ji:0,Yi:0},rc=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();rc.nr=10,rc.sr=1e3,rc.ir=new rc(41943040,rc.nr,rc.sr),rc.rr=new rc(-1,0,0);var ic=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;Ki("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,(function(){return F(e,void 0,void 0,(function(){var e;return q(this,(function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return Ga(e=n.sent())?(Ki("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ph(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),oc=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Tr=function(t,e){var n=this;if(0===e)return Oa.resolve(Va.Ds);var r=new ec(e);return this.dr.Ue(t,(function(t){return r.Gi(t.sequenceNumber)})).next((function(){return n.dr.Ir(t,(function(t){return r.Gi(t)}))})).next((function(){return r.maxValue}))},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(Ki("LruGarbageCollector","Garbage collection skipped; disabled"),Oa.resolve(nc)):this.Pr(t).next((function(r){return r<n.params.Xi?(Ki("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),nc):n.gr(t,e)}))},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,o,s,u,a,c=this,h=Date.now();return this.wr(t,this.params.Zi).next((function(e){return e>c.params.tr?(Ki("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,o=Date.now(),c.Tr(t,r)})).next((function(r){return n=r,s=Date.now(),c.mr(t,n,e)})).next((function(e){return i=e,u=Date.now(),c.Ar(t,n)})).next((function(t){return a=Date.now(),zi()<=ht.DEBUG&&Ki("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-h)+"ms"),Oa.resolve({zi:!0,Hi:r,Ji:i,Yi:t})}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ac(e)),e=uc(t.get(n),e);return ac(e)}function uc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function ac(t){return t+""}function cc(t){var e=t.length;if($i(e>=2),2===e)return $i(""===t.charAt(0)&&""===t.charAt(1)),po.X();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Yi(),t.charAt(s+1)){case"":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Yi()}o=s+2}return new po(r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hc=function(t){this.yr=t};function fc(t,e){if(e.document)return function(t,e,n){var r=Bs(t,e.name),i=Vs(e.updateTime),o=new qu({mapValue:{fields:e.fields}});return new Ku(r,i,o,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=go.ct(e.noDocument.path),r=yc(e.noDocument.readTime);return new Hu(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=go.ct(e.unknownDocument.path),o=yc(e.unknownDocument.version);return new Wu(i,o)}return Yi()}function lc(t,e,n){var r=pc(n),i=e.key.path.q().H();if(e instanceof Ku){var o=function(t,e){return{name:qs(t,e.key),fields:e.En().mapValue.fields,updateTime:Ls(t,e.version.M())}}(t.yr,e),s=e.hasCommittedMutations;return new Gc(null,null,o,s,r,i)}if(e instanceof Hu){var u=e.key.path.H(),a=vc(e.version),c=e.hasCommittedMutations;return new Gc(null,new qc(u,a),null,c,r,i)}if(e instanceof Wu){var h=e.key.path.H(),f=vc(e.version);return new Gc(new Bc(h,f),null,null,!0,r,i)}return Yi()}function pc(t){var e=t.M();return[e.seconds,e.nanoseconds]}function dc(t){var e=new ho(t[0],t[1]);return fo.N(e)}function vc(t){var e=t.M();return new Mc(e.seconds,e.nanoseconds)}function yc(t){var e=new ho(t.seconds,t.nanoseconds);return fo.N(e)}function gc(t,e){var n=(e.baseMutations||[]).map((function(e){return Ys(t.yr,e)})),r=e.mutations.map((function(e){return Ys(t.yr,e)})),i=ho.fromMillis(e.localWriteTimeMs);return new Na(e.batchId,i,n,r)}function mc(t){var e,n,r=yc(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?yc(t.lastLimboFreeSnapshotVersion):fo.min();return void 0!==t.query.documents?($i(1===(n=t.query).documents.length),e=ra($u(zs(n.documents[0])))):e=function(t){return ra(Qs(t))}(t.query),new Oo(e,t.targetId,0,t.lastListenSequenceNumber,r,i,No.fromBase64String(t.resumeToken))}function bc(t,e){var n,r=vc(e.ft),i=vc(e.lastLimboFreeSnapshotVersion);n=Ao(e.target)?$s(t.yr,e.target):Js(t.yr,e.target);var o=e.resumeToken.toBase64();return new Kc(e.targetId,_o(e.target),r,o,e.sequenceNumber,i,n)}function wc(t){var e=Qs({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ia(e,e.limit,"L"):e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ic=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return $i(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tc(t)._i({index:Uc.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Sr=function(t,e,n,r){var i=this,o=Ac(t),s=Tc(t);return s.add({}).next((function(u){$i("number"==typeof u);for(var a=new Na(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Xs(t.yr,e)})),i=n.mutations.map((function(e){return Xs(t.yr,e)}));return new Uc(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,a),h=[],f=new Mo((function(t,e){return uo(t.J(),e.J())})),l=0,p=r;l<p.length;l++){var d=p[l],v=Fc.key(i.userId,d.key.path,u);f=f.add(d.key.path.q()),h.push(s.put(c)),h.push(o.put(v,Fc.PLACEHOLDER))}return f.forEach((function(e){h.push(i.os.Dr(t,e))})),t.es((function(){i.pr[u]=a.keys()})),Oa.qn(h).next((function(){return a}))}))},t.prototype.Cr=function(t,e){var n=this;return Tc(t).get(e).next((function(t){return t?($i(t.userId===n.userId),gc(n.serializer,t)):null}))},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?Oa.resolve(this.pr[e]):this.Cr(t,e).next((function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null}))},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Tc(t)._i({index:Uc.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&($i(e.batchId>=r),o=gc(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Tc(t)._i({index:Uc.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tc(t).ui(Uc.userMutationsIndex,n).next((function(t){return t.map((function(t){return gc(e.serializer,t)}))}))},t.prototype.us=function(t,e){var n=this,r=Fc.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ac(t)._i({range:i},(function(r,i,s){var u=r[0],a=r[1],c=r[2],h=cc(a);if(u===n.userId&&e.path.isEqual(h))return Tc(t).get(c).next((function(t){if(!t)throw Yi();$i(t.userId===n.userId),o.push(gc(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.ds=function(t,e){var n=this,r=new Mo(uo),i=[];return e.forEach((function(e){var o=Fc.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Ac(t)._i({range:s},(function(t,i,o){var s=t[0],u=t[1],a=t[2],c=cc(u);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()}));i.push(u)})),Oa.qn(i).next((function(){return n.kr(t,r)}))},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=Fc.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new Mo(uo);return Ac(t)._i({range:s},(function(t,e,o){var s=t[0],a=t[1],c=t[2],h=cc(a);s===n.userId&&r.j(h)?h.length===i&&(u=u.add(c)):o.done()})).next((function(){return n.kr(t,u)}))},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Tc(t).get(e).next((function(t){if(null===t)throw Yi();$i(t.userId===n.userId),r.push(gc(n.serializer,t))})))})),Oa.qn(i).next((function(){return r}))},t.prototype.$r=function(t,e){var n=this;return _c(t.Lr,this.userId,e).next((function(r){return t.es((function(){n.Br(e.batchId)})),Oa.forEach(r,(function(e){return n.Vr.qr(t,e)}))}))},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next((function(n){if(!n)return Oa.resolve();var r=IDBKeyRange.lowerBound(Fc.prefixForUser(e.userId)),i=[];return Ac(t)._i({range:r},(function(t,n,r){if(t[0]===e.userId){var o=cc(t[1]);i.push(o)}else r.done()})).next((function(){$i(0===i.length)}))}))},t.prototype.Qr=function(t,e){return Ec(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return Nc(t).get(this.userId).next((function(t){return t||new Vc(e.userId,-1,"")}))},t}();function Ec(t,e,n){var r=Fc.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ac(t)._i({range:o,li:!0},(function(t,n,r){var o=t[0],u=t[1];t[2],o===e&&u===i&&(s=!0),r.done()})).next((function(){return s}))}function _c(t,e,n){var r=t.store(Uc.store),i=t.store(Fc.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r._i({range:s},(function(t,e,n){return u++,n.delete()}));o.push(a.next((function(){$i(1===u)})));for(var c=[],h=0,f=n.mutations;h<f.length;h++){var l=f[h],p=Fc.key(e,l.key.path,n.batchId);o.push(i.delete(p)),c.push(l.key)}return Oa.qn(o).next((function(){return c}))}function Tc(t){return lh.Ys(t,Uc.store)}function Ac(t){return lh.Ys(t,Fc.store)}function Nc(t){return lh.Ys(t,Vc.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Sc=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return Dc(t).put(Pc(e),n)},t.prototype.Hn=function(t,e){var n=Dc(t),r=Pc(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Wr(t,r)}))},t.prototype.Jn=function(t,e){var n=this;return Dc(t).get(Pc(e)).next((function(t){return n.jr(t)}))},t.prototype.Gr=function(t,e){var n=this;return Dc(t).get(Pc(e)).next((function(t){var e=n.jr(t);return e?{zn:e,size:Cc(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Fo();return this.zr(t,e,(function(t,e){var i=n.jr(e);r=r.Tt(t,i)})).next((function(){return r}))},t.prototype.Hr=function(t,e){var n=this,r=Fo(),i=new xo(go.$);return this.zr(t,e,(function(t,e){var o=n.jr(e);o?(r=r.Tt(t,o),i=i.Tt(t,Cc(e))):(r=r.Tt(t,null),i=i.Tt(t,0))})).next((function(){return{Jr:r,Yr:i}}))},t.prototype.zr=function(t,e,n){if(e.W())return Oa.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return Dc(t)._i({range:r},(function(t,e,r){for(var s=go.ct(t);o&&go.$(o,s)<0;)n(o,null),o=i.Ct();o&&o.isEqual(s)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()})).next((function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null}))},t.prototype.ws=function(t,e,n){var r=this,i=Bo(),o=e.path.length+1,s={};if(n.isEqual(fo.min())){var u=e.path.H();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.H(),c=pc(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Gc.collectionReadTimeIndex}return Dc(t)._i(s,(function(t,n,s){if(t.length===o){var u=fc(r.serializer,n);e.path.j(u.key.path)?u instanceof Ku&&aa(e,u)&&(i=i.Tt(u.key,u)):s.done()}})).next((function(){return i}))},t.prototype.Xr=function(t){return new kc(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Oc(t).get(zc.key).next((function(t){return $i(!!t),t}))},t.prototype.Wr=function(t,e){return Oc(t).put(zc.key,e)},t.prototype.jr=function(t){if(t){var e=fc(this.serializer,t);return e instanceof Hu&&e.version.isEqual(fo.min())?null:e}return null},t}(),kc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new ka((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return V(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new Mo((function(t,e){return uo(t.J(),e.J())}));return this.Qn.forEach((function(o,s){var u=e.so.get(o);if(s.zn){var a=lc(e.no.serializer,s.zn,e.Wn(o));i=i.add(o.path.q());var c=Cc(a);r+=c-u,n.push(e.no.jn(t,o,a))}else if(r-=u,e.Zr){var h=lc(e.no.serializer,new Hu(o,fo.min()),e.Wn(o));n.push(e.no.jn(t,o,h))}else n.push(e.no.Hn(t,o))})),i.forEach((function(r){n.push(e.no.os.Dr(t,r))})),n.push(this.no.updateMetadata(t,r)),Oa.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next((function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)}))},e.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next((function(t){var e=t.Jr;return t.Yr.forEach((function(t,e){n.so.set(t,e)})),e}))},e}(Da);function Oc(t){return lh.Ys(t,zc.store)}function Dc(t){return lh.Ys(t,Gc.store)}function Pc(t){return t.path.H()}function Cc(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Yi();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var xc=function(){function t(){this.io=new Rc}return t.prototype.Dr=function(t,e){return this.io.add(e),Oa.resolve()},t.prototype.As=function(t,e){return Oa.resolve(this.io.getEntries(e))},t}(),Rc=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new Mo(po.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Mo(po.$)).H()},t}(),Lc=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;$i(n<r&&n>=0&&r<=11);var o=new za("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(jc.store)}(t),function(t){t.createObjectStore(Vc.store,{keyPath:Vc.keyPath}),t.createObjectStore(Uc.store,{keyPath:Uc.keyPath,autoIncrement:!0}).createIndex(Uc.userMutationsIndex,Uc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Fc.store)}(t),Yc(t),function(t){t.createObjectStore(Gc.store)}(t));var s=Oa.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Hc.store),t.deleteObjectStore(Kc.store),t.deleteObjectStore(Wc.store)}(t),Yc(t)),s=s.next((function(){return function(t){var e=t.store(Wc.store),n=new Wc(0,0,fo.min().M(),0);return e.put(Wc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Uc.store).ui().next((function(n){t.deleteObjectStore(Uc.store),t.createObjectStore(Uc.store,{keyPath:Uc.keyPath,autoIncrement:!0}).createIndex(Uc.userMutationsIndex,Uc.userMutationsKeyPath,{unique:!0});var r=e.store(Uc.store),i=n.map((function(t){return r.put(t)}));return Oa.qn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore($c.store,{keyPath:$c.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(zc.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Gc.store);e.createIndex(Gc.readTimeIndex,Gc.readTimeIndexPath,{unique:!1}),e.createIndex(Gc.collectionReadTimeIndex,Gc.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Jc.store,{keyPath:Jc.keyPath})}(t),function(t){t.createObjectStore(Qc.store,{keyPath:Qc.keyPath})}(t)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Gc.store)._i((function(t,n){e+=Cc(n)})).next((function(){var n=new zc(e);return t.store(zc.store).put(zc.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Vc.store),r=t.store(Uc.store);return n.ui().next((function(n){return Oa.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(Uc.userMutationsIndex,i).next((function(r){return Oa.forEach(r,(function(r){$i(r.userId===n.userId);var i=gc(e.serializer,r);return _c(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Hc.store),n=t.store(Gc.store);return t.store(Wc.store).get(Wc.key).next((function(t){var r=[];return n._i((function(n,i){var o=new po(n),s=function(t){return[0,sc(t)]}(o);r.push(e.get(s).next((function(n){return n?Oa.resolve():function(n){return e.put(new Hc(0,sc(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Oa.qn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Xc.store,{keyPath:Xc.keyPath});var n=e.store(Xc.store),r=new Rc,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:sc(i)})}};return e.store(Gc.store)._i({li:!0},(function(t,e){var n=new po(t);return i(n.q())})).next((function(){return e.store(Fc.store)._i({li:!0},(function(t,e){t[0];var n=t[1],r=(t[2],cc(n));return i(r.q())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Kc.store);return n._i((function(t,r){var i=mc(r),o=bc(e.serializer,i);return n.put(o)}))},t}(),Mc=function(t,e){this.seconds=t,this.nanoseconds=e},jc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};jc.store="owner",jc.key="owner";var Vc=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Vc.store="mutationQueues",Vc.keyPath="userId";var Uc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Uc.store="mutations",Uc.keyPath="batchId",Uc.userMutationsIndex="userMutationsIndex",Uc.userMutationsKeyPath=["userId","batchId"];var Fc=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,sc(e)]},t.key=function(t,e,n){return[t,sc(e),n]},t}();Fc.store="documentMutations",Fc.PLACEHOLDER=new Fc;var qc=function(t,e){this.path=t,this.readTime=e},Bc=function(t,e){this.path=t,this.version=e},Gc=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Gc.store="remoteDocuments",Gc.readTimeIndex="readTimeIndex",Gc.readTimeIndexPath="readTime",Gc.collectionReadTimeIndex="collectionReadTimeIndex",Gc.collectionReadTimeIndexPath=["parentPath","readTime"];var zc=function(t){this.byteSize=t};zc.store="remoteDocumentGlobal",zc.key="remoteDocumentGlobalKey";var Kc=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Kc.store="targets",Kc.keyPath="targetId",Kc.queryTargetsIndexName="queryTargetsIndex",Kc.queryTargetsKeyPath=["canonicalId","targetId"];var Hc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Hc.store="targetDocuments",Hc.keyPath=["targetId","path"],Hc.documentTargetsIndex="documentTargetsIndex",Hc.documentTargetsKeyPath=["path","targetId"];var Wc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wc.key="targetGlobalKey",Wc.store="targetGlobal";var Xc=function(t,e){this.collectionId=t,this.parent=e};function Yc(t){t.createObjectStore(Hc.store,{keyPath:Hc.keyPath}).createIndex(Hc.documentTargetsIndex,Hc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Kc.store,{keyPath:Kc.keyPath}).createIndex(Kc.queryTargetsIndexName,Kc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Wc.store)}Xc.store="collectionParents",Xc.keyPath=["collectionId","parent"];var $c=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};$c.store="clientMetadata",$c.keyPath="clientId";var Jc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Jc.store="bundles",Jc.keyPath="bundleId";var Qc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Qc.store="namedQueries",Qc.keyPath="name";var Zc=K(K(K(K([Vc.store,Uc.store,Fc.store,Gc.store,Kc.store,jc.store,Wc.store,Hc.store],[$c.store]),[zc.store]),[Xc.store]),[Jc.store,Qc.store]),th=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return eh(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:yc(e.createTime),version:e.version};var e}))},t.prototype.oo=function(t,e){return eh(t).put({bundleId:(n=e).id,createTime:vc(Vs(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return nh(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:wc(e.bundledQuery),readTime:yc(e.readTime)};var e}))},t.prototype.uo=function(t,e){return nh(t).put(function(t){return{name:t.name,readTime:vc(Vs(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function eh(t){return lh.Ys(t,Jc.store)}function nh(t){return lh.Ys(t,Qc.store)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var rh=function(){function t(){this.ao=new Rc}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es((function(){n.ao.add(e)}));var o={collectionId:r,parent:sc(i)};return ih(t).put(o)}return Oa.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[co(e),""],!1,!0);return ih(t).ui(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(cc(o.parent))}return n}))},t}();function ih(t){return lh.Ys(t,Xc.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var oh=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),sh=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next((function(n){var r=new oh(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.To=function(t){return this.wo(t).next((function(t){return fo.N(new ho(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Io=function(t){return this.wo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)}))},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next((function(){return n.wo(t).next((function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)}))}))},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next((function(){return uh(t).delete(e.targetId)})).next((function(){return n.wo(t)})).next((function(e){return $i(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)}))},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return uh(t)._i((function(s,u){var a=mc(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Vo(t,a)))})).next((function(){return Oa.qn(o)})).next((function(){return i}))},t.prototype.Ue=function(t,e){return uh(t)._i((function(t,n){var r=mc(n);e(r)}))},t.prototype.wo=function(t){return ah(t).get(Wc.key).next((function(t){return $i(null!==t),t}))},t.prototype.Eo=function(t,e){return ah(t).put(Wc.key,e)},t.prototype.Ro=function(t,e){return uh(t).put(bc(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next((function(t){return t.targetCount}))},t.prototype.bo=function(t,e){var n=_o(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return uh(t)._i({range:r,index:Kc.queryTargetsIndexName},(function(t,n,r){var o=mc(n);To(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.So=function(t,e,n){var r=this,i=[],o=ch(t);return e.forEach((function(e){var s=sc(e.path);i.push(o.put(new Hc(n,s))),i.push(r.Vr.Do(t,n,e))})),Oa.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=ch(t);return Oa.forEach(e,(function(e){var o=sc(e.path);return Oa.qn([i.delete([n,o]),r.Vr.No(t,n,e)])}))},t.prototype.po=function(t,e){var n=ch(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ch(t),i=Ko();return r._i({range:n,li:!0},(function(t,e,n){var r=cc(t[1]),o=new go(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Qr=function(t,e){var n=sc(e.path),r=IDBKeyRange.bound([n],[co(n)],!1,!0),i=0;return ch(t)._i({index:Hc.documentTargetsIndex,li:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ze=function(t,e){return uh(t).get(e).next((function(t){return t?mc(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function uh(t){return lh.Ys(t,Kc.store)}function ah(t){return lh.Ys(t,Wc.store)}function ch(t){return lh.Ys(t,Hc.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return V(e,t),e}(La),lh=function(){function t(e,n,r,i,o,s,u,a,c,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=s,this.document=u,this.Oo=c,this.Mo=h,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new Zi(Qi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new vh(this,i),this.Ko=n+"main",this.serializer=new hc(a),this.Wo=new Fa(this.Ko,11,new Lc(this.serializer)),this.jo=new sh(this.Vr,this.serializer),this.os=new rh,this.ss=function(t,e){return new Sc(t,e)}(this.serializer,this.os),this.Go=new th(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===h&&Hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof fh)return Fa.Ys(t.Lr,e);throw Yi()},t.prototype.start=function(){var t=this;return this.Ho().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Zi(Qi.FAILED_PRECONDITION,hh);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.jo.Io(e)}))})).then((function(e){t.ko=new Va(e,t.Oo)})).then((function(){t.$o=!0})).catch((function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)}))},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return F(e,void 0,void 0,(function(){return q(this,(function(e){return this.lr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti((function(n){return F(e,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri((function(){return F(e,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return dh(e).put(new $c(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nc(e).next((function(e){e||(t.isPrimary=!1,t.Cs.Mi((function(){return t.Qo(!1)})))}))})).next((function(){return t.sc(e)})).next((function(n){return t.isPrimary&&!n?t.ic(e).next((function(){return!1})):!!n&&t.rc(e).next((function(){return!0}))}))})).catch((function(e){if(Ga(e))return Ki("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ki("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Cs.Mi((function(){return t.Qo(e)})),t.isPrimary=e}))},t.prototype.nc=function(t){var e=this;return ph(t).get(jc.key).next((function(t){return Oa.resolve(e.oc(t))}))},t.prototype.cc=function(t){return dh(t).delete(this.clientId)},t.prototype.uc=function(){return F(this,void 0,void 0,(function(){var e,n,r,i,o=this;return q(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ys(e,$c.store);return n.ui().next((function(t){var e=o.hc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Oa.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.zo)for(n=0,r=e;n<r.length;n++)i=r[n],this.zo.removeItem(this.lc(i.clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,(function(){return t.Ho().then((function(){return t.uc()})).then((function(){return t.Xo()}))}))},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?Oa.resolve(!0):ph(t).get(jc.key).next((function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new Zi(Qi.FAILED_PRECONDITION,hh);return!1}}return!(!e.networkEnabled||!e.inForeground)||dh(t).ui().next((function(t){return void 0===e.hc(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Ki("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.fc=function(){return F(this,void 0,void 0,(function(){var t=this;return q(this,(function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[jc.store,$c.store],(function(e){var n=new fh(e,Va.Ds);return t.ic(n).next((function(){return t.cc(n)}))}))];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}}))}))},t.prototype.hc=function(t,e){var n=this;return t.filter((function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)}))},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return dh(e).ui().next((function(e){return t.hc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Ic.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;Ki("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Wo.runTransaction(t,o,Zc,(function(o){return i=new fh(o,r.ko?r.ko.next():Va.Ds),"readwrite-primary"===e?r.nc(i).next((function(t){return!!t||r.sc(i)})).next((function(e){if(!e)throw Hi("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Cs.Mi((function(){return r.Qo(!1)})),new Zi(Qi.FAILED_PRECONDITION,Ra);return n(i)})).next((function(t){return r.rc(i).next((function(){return t}))})):r.yc(i).next((function(){return n(i)}))})).then((function(t){return i.ns(),t}))},t.prototype.yc=function(t){var e=this;return ph(t).get(jc.key).next((function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Zi(Qi.FAILED_PRECONDITION,hh)}))},t.prototype.rc=function(t){var e=new jc(this.clientId,this.allowTabSynchronization,Date.now());return ph(t).put(jc.key,e)},t.Gs=function(){return Fa.Gs()},t.prototype.ic=function(t){var e=this,n=ph(t);return n.get(jc.key).next((function(t){return e.oc(t)?(Ki("IndexedDbPersistence","Releasing primary lease."),n.delete(jc.key)):Oa.resolve()}))},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Hi("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()}))},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri((function(){return e.fc()}))},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return Ki("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Hi("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){Hi("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ph(t){return lh.Ys(t,jc.store)}function dh(t){return lh.Ys(t,$c.store)}var vh=function(){function t(t,e){this.db=t,this.cr=new oc(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Vc=function(t){var e=0;return this.Ir(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,(function(t,n){return e(n)}))},t.prototype.Do=function(t,e,n){return yh(t,n)},t.prototype.No=function(t,e,n){return yh(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return yh(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return Nc(t).fi((function(r){return Ec(t,r,e).next((function(t){return t&&(n=!0),Oa.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],o=0;return this.vc(t,(function(s,u){if(u<=e){var a=n.bc(t,s).next((function(e){if(!e)return o++,r.Jn(t,s).next((function(){return r.Hn(s),ch(t).delete([0,sc(s.path)])}))}));i.push(a)}})).next((function(){return Oa.qn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return yh(t,e)},t.prototype.vc=function(t,e){var n,r=ch(t),i=Va.Ds;return r._i({index:Hc.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),u=r.sequenceNumber;0===o?(i!==Va.Ds&&e(new go(cc(n)),i),i=u,n=s):i=Va.Ds})).next((function(){i!==Va.Ds&&e(new go(cc(n)),i)}))},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}();function yh(t,e){return ch(t).put(function(t,e){return new Hc(0,sc(t.path),e)}(e,t.Fo))}function gh(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var mh=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new xo(uo),this.Nc=new ka((function(t){return _o(t)}),To),this.xc=fo.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new Ma(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Rr(n,e.Cc)}))},t}();function bh(t,e,n,r){return new mh(t,e,n,r)}function wh(t,e){return F(this,void 0,void 0,(function(){var n,r,i,o;return q(this,(function(s){switch(s.label){case 0:return n=Ji(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.rs.Mr(t).next((function(s){return o=s,r=n.persistence.mc(e),i=new Ma(n.Fc,r,n.persistence.Pc()),r.Mr(t)})).next((function(e){for(var n=[],r=[],s=Ko(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var h=0,f=c.mutations;h<f.length;h++){var l=f[h];s=s.add(l.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];s=s.add(m.key)}}return i._s(t,s).next((function(t){return{kc:t,$c:n,Lc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),o)]}}))}))}function Ih(t,e){var n=Ji(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Oa.resolve();return o.forEach((function(t){s=s.next((function(){return r.Jn(e,t)})).next((function(e){var o=e,s=n.Sn.get(t);$i(null!==s),(!o||o.version.F(s)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)}))})),s.next((function(){return t.rs.$r(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}function Eh(t){var e=Ji(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.jo.To(t)}))}function _h(t,e){var n=Ji(t),r=e.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Fc.Xr({Zr:!0});i=n.Cc;var s=[];e.re.forEach((function(e,o){var u=i.get(o);if(u){s.push(n.jo.Co(t,e.de,o).next((function(){return n.jo.So(t,e._e,o)})));var a=e.resumeToken;if(a.ht()>0){var c=u.wt(a,r).dt(t.Fo);i=i.Tt(o,c),function(t,e,n){return $i(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(u,c,e)&&s.push(n.jo.yo(t,c))}}}));var u=Uo();if(e.ce.forEach((function(r,i){e.ue.has(r)&&s.push(n.persistence.Vr.Sc(t,r))})),s.push(function(t,e,n,r,i){var o=Ko();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var i=Uo();return n.forEach((function(n,o){var s=t.get(n),u=r;o instanceof Hu&&o.version.isEqual(fo.min())?(e.Hn(n,u),i=i.Tt(n,o)):null==s||o.version.F(s.version)>0||0===o.version.F(s.version)&&s.hasPendingWrites?(e.jn(o,u),i=i.Tt(n,o)):Ki("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),i}))}(t,o,e.ce,r).next((function(t){u=t}))),!r.isEqual(fo.min())){var a=n.jo.To(t).next((function(e){return n.jo.mo(t,t.Fo,r)}));s.push(a)}return Oa.qn(s).next((function(){return o.apply(t)})).next((function(){return n.Oc.fs(t,u)}))})).then((function(t){return n.Cc=i,t}))}function Th(t,e){var n=Ji(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)}))}function Ah(t,e){var n=Ji(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.jo.bo(t,e).next((function(i){return i?(r=i,Oa.resolve(r)):n.jo.fo(t).next((function(i){return r=new Oo(e,i,0,t.Fo),n.jo.Ao(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t}))}function Nh(t,e,n){return F(this,void 0,void 0,(function(){var r,i,o,s;return q(this,(function(u){switch(u.label){case 0:r=Ji(t),i=r.Cc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Vr.removeTarget(t,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Ga(s=u.sent()))throw s;return Ki("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Cc=r.Cc.remove(e),r.Nc.delete(i.target),[2]}}))}))}function Sh(t,e,n){var r=Ji(t),i=fo.min(),o=Ko();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Ji(t),i=r.Nc.get(n);return void 0!==i?Oa.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,ra(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Dc.ws(t,e,n?i:fo.min(),n?o:Ko())})).next((function(t){return{documents:t,Bc:o}}))}))}function kh(t,e){var n=Ji(t),r=Ji(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ze(t,e).next((function(t){return t?t.target:null}))}))}function Oh(t){var e=Ji(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Ji(t),i=Uo(),o=pc(n),s=Dc(e),u=IDBKeyRange.lowerBound(o,!0);return s._i({index:Gc.readTimeIndex,range:u},(function(t,e){var n=fc(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime})).next((function(){return{qc:i,readTime:dc(o)}}))}(e.Fc,t,e.xc)})).then((function(t){var n=t.qc,r=t.readTime;return e.xc=r,n}))}function Dh(t){return F(this,void 0,void 0,(function(){var e;return q(this,(function(n){return[2,(e=Ji(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Dc(t),n=fo.min();return e._i({index:Gc.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=dc(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.xc=t}))]}))}))}function Ph(t){return F(this,void 0,void 0,(function(){return q(this,(function(e){if(t.code!==Qi.FAILED_PRECONDITION||t.message!==Ra)throw t;return Ki("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ch=function(){function t(t,e,n,r,i,o){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=o,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new Ua(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return F(this,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,(function(){return t.Xc()})))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return F(this,void 0,void 0,(function(){return q(this,(function(t){return this.zc()?[2,this.close(0)]:[2]}))}))},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return F(this,void 0,void 0,(function(){return q(this,(function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===Qi.RESOURCE_EXHAUSTED?(Hi(e.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===Qi.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then((function(e){t.Wc===n&&t.iu(e)}),(function(n){e((function(){var e=new Zi(Qi.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)}))}))},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu((function(){n((function(){return e.state=2,e.listener.cu()}))})),this.stream.nu((function(t){n((function(){return e.ru(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs((function(){return F(t,void 0,void 0,(function(){return q(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.ru=function(t){return Ki("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri((function(){return e.Wc===t?n():(Ki("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),xh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return V(e,t),e.prototype.ou=function(t){return this.Qc.uu("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Yi()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?($i(void 0===e||"string"==typeof e),No.fromBase64String(e||"")):($i(void 0===e||e instanceof Uint8Array),No.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(t){var e=void 0===t.code?Qi.UNKNOWN:Co(t.code);return new Zi(e,t.message||"")}(s);n=new es(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;var a=e.documentChange;a.document,a.document.name,a.document.updateTime;var c=Bs(t,a.document.name),h=Vs(a.document.updateTime),f=new qu({mapValue:{fields:a.document.fields}}),l=new Ku(c,h,f,{}),p=a.targetIds||[],d=a.removedTargetIds||[];n=new Zo(p,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;var v=e.documentDelete;v.document;var y=Bs(t,v.document),g=v.readTime?Vs(v.readTime):fo.min(),m=new Hu(y,g),b=v.removedTargetIds||[];n=new Zo([],b,m.key,m)}else if("documentRemove"in e){e.documentRemove;var w=e.documentRemove;w.document;var I=Bs(t,w.document),E=w.removedTargetIds||[];n=new Zo([],E,I,null)}else{if(!("filter"in e))return Yi();e.filter;var _=e.filter;_.targetId;var T=_.count||0,A=new Do(T),N=_.targetId;n=new ts(N,A)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return fo.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?fo.min():e.readTime?Vs(e.readTime):fo.min()}(t);return this.listener.au(e,n)},e.prototype.hu=function(t){var e={};e.database=Ks(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Ao(r)?{documents:$s(t,r)}:{query:Js(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=Ms(t,e.resumeToken):e.ft.F(fo.min())>0&&(n.readTime=Ls(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yi()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.Zc(e)},e.prototype.lu=function(t){var e={};e.database=Ks(this.serializer),e.removeTarget=t,this.Zc(e)},e}(Ch),Rh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s._u=!1,s}return V(e,t),Object.defineProperty(e.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.eu=function(){this._u&&this.du([])},e.prototype.ou=function(t){return this.Qc.uu("Write",t)},e.prototype.onMessage=function(t){if($i(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?($i(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Vs(t.updateTime):Vs(e);n.isEqual(fo.min())&&(n=Vs(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Tu(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Vs(t.commitTime);return this.listener.wu(n,e)}return $i(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},e.prototype.Tu=function(){var t={};t.database=Ks(this.serializer),this.Zc(t)},e.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Xs(e.serializer,t)}))};this.Zc(n)},e}(Ch),Lh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return V(e,t),e.prototype.mu=function(){if(this.Iu)throw new Zi(Qi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Au(t,e,n,i)})).catch((function(t){throw t.code===Qi.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then((function(i){return r.Qc.Ru(t,e,n,i)})).catch((function(t){throw t.code===Qi.UNAUTHENTICATED&&r.credentials.m(),t}))},e.prototype.terminate=function(){this.Iu=!1},e}((function(){})),Mh=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,(function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()})))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline")))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(Hi(e),this.Vu=!1):Ki("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),jh=function(t,e,n,r,i){var o=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=i,this.$u.Lu((function(t){n.Ri((function(){return F(o,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return Hh(this)?(Ki("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return F(this,void 0,void 0,(function(){var e;return q(this,(function(n){switch(n.label){case 0:return(e=Ji(t)).Mu.add(4),[4,Uh(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,Vh(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Bu=new Mh(n,r)};function Vh(t){return F(this,void 0,void 0,(function(){var e,n;return q(this,(function(r){switch(r.label){case 0:if(!Hh(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Uh(t){return F(this,void 0,void 0,(function(){var e,n;return q(this,(function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Fh(t,e){var n=Ji(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),Kh(n)?zh(n):af(n).zc()&&Bh(n,e))}function qh(t,e){var n=Ji(t),r=af(n);n.Ou.delete(e),r.zc()&&Gh(n,e),0===n.Ou.size&&(r.zc()?r.Yc():Hh(n)&&n.Bu.set("Unknown"))}function Bh(t,e){t.qu.De(e.targetId),af(t).hu(e)}function Gh(t,e){t.qu.De(e),af(t).lu(e)}function zh(t){t.qu=new rs({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),af(t).start(),t.Bu.pu()}function Kh(t){return Hh(t)&&!af(t).Gc()&&t.Ou.size>0}function Hh(t){return 0===Ji(t).Mu.size}function Wh(t){t.qu=void 0}function Xh(t){return F(this,void 0,void 0,(function(){return q(this,(function(e){return t.Ou.forEach((function(e,n){Bh(t,e)})),[2]}))}))}function Yh(t,e){return F(this,void 0,void 0,(function(){return q(this,(function(n){return Wh(t),Kh(t)?(t.Bu.Su(e),zh(t)):t.Bu.set("Unknown"),[2]}))}))}function $h(t,e,n){return F(this,void 0,void 0,(function(){var r,i,o;return q(this,(function(s){switch(s.label){case 0:if(t.Bu.set("Online"),!(e instanceof es&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return F(this,void 0,void 0,(function(){var n,r,i,o;return q(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.Ou.has(o)?[4,t.xu.Uu(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Ou.delete(o),t.qu.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ki("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Jh(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Zo?t.qu.$e(e):e instanceof ts?t.qu.je(e):t.qu.qe(e),n.isEqual(fo.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Eh(t.Cu)];case 8:return i=s.sent(),n.F(i)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach((function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}})),n.oe.forEach((function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(No.lt,n.ft)),Gh(t,e);var r=new Oo(n.target,e,1,n.sequenceNumber);Bh(t,r)}})),t.xu.Qu(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ki("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Jh(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Jh(t,e,n){return F(this,void 0,void 0,(function(){var r=this;return q(this,(function(i){switch(i.label){case 0:if(!Ga(e))throw e;return t.Mu.add(1),[4,Uh(t)];case 1:return i.sent(),t.Bu.set("Offline"),n||(n=function(){return Eh(t.Cu)}),t.di.Mi((function(){return F(r,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return Ki("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,Vh(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Qh(t,e){return e().catch((function(n){return Jh(t,n,e)}))}function Zh(t){return F(this,void 0,void 0,(function(){var e,n,r,i,o;return q(this,(function(s){switch(s.label){case 0:e=Ji(t),n=cf(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Hh(t)&&t.Fu.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Th(e.Cu,r)];case 3:return null===(i=s.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=cf(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Jh(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return tf(e)&&ef(e),[2]}}))}))}function tf(t){return Hh(t)&&!cf(t).Gc()&&t.Fu.length>0}function ef(t){cf(t).start()}function nf(t){return F(this,void 0,void 0,(function(){return q(this,(function(e){return cf(t).Tu(),[2]}))}))}function rf(t){return F(this,void 0,void 0,(function(){var e,n,r,i;return q(this,(function(o){for(e=cf(t),n=0,r=t.Fu;n<r.length;n++)i=r[n],e.du(i.mutations);return[2]}))}))}function of(t,e,n){return F(this,void 0,void 0,(function(){var r,i;return q(this,(function(o){switch(o.label){case 0:return r=t.Fu.shift(),i=Sa.from(r,e,n),[4,Qh(t,(function(){return t.xu.Ku(i)}))];case 1:return o.sent(),[4,Zh(t)];case 2:return o.sent(),[2]}}))}))}function sf(t,e){return F(this,void 0,void 0,(function(){return q(this,(function(n){switch(n.label){case 0:return e&&cf(t).fu?[4,function(t,e){return F(this,void 0,void 0,(function(){var n,r;return q(this,(function(i){switch(i.label){case 0:return Po(r=e.code)&&r!==Qi.ABORTED?(n=t.Fu.shift(),cf(t).Jc(),[4,Qh(t,(function(){return t.xu.Wu(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Zh(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return tf(t)&&ef(t),[2]}}))}))}function uf(t,e){return F(this,void 0,void 0,(function(){var n;return q(this,(function(r){switch(r.label){case 0:return n=Ji(t),e?(n.Mu.delete(2),[4,Vh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Mu.add(2),[4,Uh(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function af(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=Ji(t);return r.mu(),new xh(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Xh.bind(null,t),nu:Yh.bind(null,t),au:$h.bind(null,t)}),t.ku.push((function(n){return F(e,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return n?(t.ju.Jc(),Kh(t)?zh(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),Wh(t),e.label=3;case 3:return[2]}}))}))}))),t.ju}function cf(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=Ji(t);return r.mu(),new Rh(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:nf.bind(null,t),nu:sf.bind(null,t),Eu:rf.bind(null,t),wu:of.bind(null,t)}),t.ku.push((function(n){return F(e,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,Zh(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(Ki("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}}))}))}))),t.Gu
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var hf=function(){this.zu=void 0,this.listeners=[]},ff=function(){this.queries=new ka((function(t){return sa(t)}),oa),this.onlineState="Unknown",this.Hu=new Set};function lf(t,e){return F(this,void 0,void 0,(function(){var n,r,i,o,s,u,a;return q(this,(function(c){switch(c.label){case 0:if(n=Ji(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new hf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Ju(r)];case 2:return s.zu=c.sent(),[3,4];case 3:return u=c.sent(),a=Za(u,"Initialization of query '"+ua(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Yu(n.onlineState),o.zu&&e.Xu(o.zu)&&yf(n),[2]}}))}))}function pf(t,e){return F(this,void 0,void 0,(function(){var n,r,i,o,s;return q(this,(function(u){return n=Ji(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]}))}))}function df(t,e){for(var n=Ji(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=s.query,a=n.queries.get(u);if(a){for(var c=0,h=a.listeners;c<h.length;c++)h[c].Xu(s)&&(r=!0);a.zu=s}}r&&yf(n)}function vf(t,e,n){var r=Ji(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function yf(t){t.Hu.forEach((function(t){t.next()}))}var gf=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new $o(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ea?this.sa(t)&&(this.ta.next(t),o=!0):this.ia(t,this.onlineState)&&(this.ra(t),o=!0),this.na=t,o},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.oa&&n||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){if(t.docChanges.length>0)return!0;var e=this.na&&this.na.hasPendingWrites!==t.hasPendingWrites;return!(!t.ne&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=$o.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),mf=function(){function t(){this.ca=new Mo(bf.ua),this.aa=new Mo(bf.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new bf(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach((function(t){return n.Do(t,e)}))},t.prototype.No=function(t,e){this._a(new bf(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach((function(t){return n.No(t,e)}))},t.prototype.da=function(t){var e=this,n=new go(new po([])),r=new bf(n,t),i=new bf(n,t+1),o=[];return this.aa.Kt([r,i],(function(t){e._a(t),o.push(t.key)})),o},t.prototype.wa=function(){var t=this;this.ca.forEach((function(e){return t._a(e)}))},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new go(new po([])),n=new bf(e,t),r=new bf(e,t+1),i=Ko();return this.aa.Kt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Qr=function(t){var e=new bf(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),bf=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return go.$(t.key,e.key)||uo(t.Ta,e.Ta)},t.ha=function(t,e){return uo(t.Ta,e.Ta)||go.$(t.key,e.key)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function wf(t,e){return"firestore_clients_"+t+"_"+e}function If(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Ef(t,e){return"firestore_targets_"+t+"_"+e}var _f=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Zi(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Hi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Tf=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Zi(r.error.code,r.error.message)),i?new t(e,r.state,o):(Hi("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Af=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Wo(),s=0;i&&s<r.activeTargetIds.length;++s)i=wo(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Hi("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Nf=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Hi("SharedClientState","Failed to parse online state: "+e),null)},t}(),Sf=function(){function t(){this.activeTargetIds=Wo()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),kf=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new xo(uo),this.lr=!1,this.va=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=wf(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new Sf),this.Da=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return F(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,u,a,c,h,f=this;return q(this,(function(l){switch(l.label){case 0:return[4,this.ga.Ic()];case 1:for(t=l.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(wf(this.persistenceKey,r)))&&(o=Af.Ia(r,i))&&(this.pa=this.pa.Tt(o.clientId,o));for(this.Oa(),(s=this.storage.getItem(this.xa))&&(u=this.Ma(s))&&this.ka(u),a=0,c=this.va;a<c.length;a++)h=c[a],this.Va(h);return this.va=[],this.window.addEventListener("unload",(function(){return f.fc()})),this.lr=!0,[2]}}))}))},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(Ef(this.persistenceKey,t));if(n){var r=Tf.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(Ef(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach((function(t){r.Ka(t)})),this.currentUser=t,n.forEach((function(t){r.qa(t)}))},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ki("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ki("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ki("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ki("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void Hi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi((function(){return F(e,void 0,void 0,(function(){var t,e,r,i,o,s;return q(this,(function(u){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(o=this.Ma(n.newValue)))return[2,this.ka(o)]}else if(n.key===this.Sa)(s=function(t){var e=Va.Ds;if(null!=t)try{var n=JSON.parse(t);$i("number"==typeof n),e=n}catch(t){Hi("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Va.Ds&&this.ps(s);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new _f(this.currentUser,t,e,n),i=If(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=If(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){var e={clientId:this.Pa,onlineState:t};this.storage.setItem(this.xa,JSON.stringify(e))},t.prototype.Ya=function(t,e,n){var r=Ef(this.persistenceKey,t),i=new Tf(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return Af.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return _f.Ia(new Bi(i),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return Tf.Ia(r,e)},t.prototype.Ma=function(t){return Nf.Ia(t)},t.prototype.uh=function(t){return F(this,void 0,void 0,(function(){return q(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(Ki("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),o=this.La(r),s=[],u=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||u.push(t)})),this.ga.dh(s,u).then((function(){n.pa=r}))},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=Wo();return t.forEach((function(t,n){e=e.Gt(n.activeTargetIds)})),e},t}(),Of=function(){function t(){this.wh=new Sf,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new Sf,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),Df=function(t){this.key=t},Pf=function(t){this.key=t},Cf=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=Ko(),this.ee=Ko(),this.Ah=ca(t),this.Rh=new Xo(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new Yo,i=e?e.Rh:this.Rh,o=e?e.ee:this.ee,s=i,u=!1,a=Ju(this.query)&&i.size===this.query.limit?i.last():null,c=Qu(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt((function(t,e){var h=i.get(t),f=e instanceof Ku?e:null;f&&(f=aa(n.query,f)?f:null);var l=!!h&&n.ee.has(h.key),p=!!f&&(f.an||n.ee.has(f.key)&&f.hasCommittedMutations),d=!1;h&&f?h.data().isEqual(f.data())?l!==p&&(r.track({type:3,doc:f}),d=!0):n.Vh(h,f)||(r.track({type:2,doc:f}),d=!0,(a&&n.Ah(f,a)>0||c&&n.Ah(f,c)<0)&&(u=!0)):!h&&f?(r.track({type:0,doc:f}),d=!0):h&&!f&&(r.track({type:1,doc:h}),d=!0,(a||c)&&(u=!0)),d&&(f?(s=s.add(f),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Ju(this.query)||Qu(this.query))for(;s.size>this.query.limit;){var h=Ju(this.query)?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Rh:s,yh:r,ph:u,ee:o}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var o=t.yh.Zt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yi()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)})),this.bh(n);var s=e?this.Sh():[],u=0===this.mh.size&&this.le?1:0,a=u!==this.Ih;return this.Ih=u,0!==o.length||a?{snapshot:new $o(this.query,t.Rh,i,o,t.ee,0===u,a,!1),Dh:s}:{Dh:s}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new Yo,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach((function(t){return e.Th=e.Th.add(t)})),t.fe.forEach((function(t){})),t.de.forEach((function(t){return e.Th=e.Th.delete(t)})),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=Ko(),this.Rh.forEach((function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))}));var n=[];return e.forEach((function(e){t.mh.has(e)||n.push(new Pf(e))})),this.mh.forEach((function(t){e.has(t)||n.push(new Df(t))})),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=Ko();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return $o.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),xf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Rf=function(t){this.key=t,this.Fh=!1},Lf=function(){function t(t,e,n,r,i,o){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=o,this.Lh={},this.Bh=new ka((function(t){return sa(t)}),oa),this.qh=new Map,this.Uh=[],this.Qh=new xo(go.$),this.Kh=new Map,this.Wh=new mf,this.jh={},this.Gh=new Map,this.zh=oh._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function Mf(t,e){return F(this,void 0,void 0,(function(){var n,r,i,o,s,u;return q(this,(function(a){switch(a.label){case 0:return n=fl(t),(o=n.Bh.get(e))?(r=o.targetId,n.kh.Wa(r),i=o.view.xh(),[3,4]):[3,1];case 1:return[4,Ah(n.Cu,ra(e))];case 2:return s=a.sent(),u=n.kh.Wa(s.targetId),r=s.targetId,[4,jf(n,e,r,"current"===u)];case 3:i=a.sent(),n.Jh&&Fh(n.Oh,s),a.label=4;case 4:return[2,i]}}))}))}function jf(t,e,n,r){return F(this,void 0,void 0,(function(){var i,o,s,u,a,c;return q(this,(function(h){switch(h.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return F(this,void 0,void 0,(function(){var i,o,s;return q(this,(function(u){switch(u.label){case 0:return(i=e.view.gh(n)).ph?[4,Sh(t.Cu,e.query,!1).then((function(t){var n=t.documents;return e.view.gh(n,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.re.get(e.targetId),s=e.view.Zn(i,t.Jh,o),[2,($f(t,e.targetId,s.Dh),s.snapshot)]}}))}))}(t,e,n,r)},[4,Sh(t.Cu,e,!0)];case 1:return i=h.sent(),o=new Cf(e,i.Bc),s=o.gh(i.documents),u=Qo.he(n,r&&"Offline"!==t.onlineState),a=o.Zn(s,t.Jh,u),$f(t,n,a.Dh),c=new xf(e,n,o),[2,(t.Bh.set(e,c),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),a.snapshot)]}}))}))}function Vf(t,e){return F(this,void 0,void 0,(function(){var n,r,i;return q(this,(function(o){switch(o.label){case 0:return n=Ji(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter((function(t){return!oa(t,e)}))),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,Nh(n.Cu,r.targetId,!1).then((function(){n.kh.Ha(r.targetId),qh(n.Oh,r.targetId),Xf(n,r.targetId)})).catch(Ph)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Xf(n,r.targetId),[4,Nh(n.Cu,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Uf(t,e,n){return F(this,void 0,void 0,(function(){var r,i,o,s;return q(this,(function(u){switch(u.label){case 0:r=ll(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ji(t),i=ho.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Ko());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Oc._s(t,o).next((function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],h=Du(c,n.get(c.key));null!=h&&s.push(new Ru(c.key,h,Gu(h.proto.mapValue),Au.exists(!0)))}return r.rs.Sr(t,i,s,e)}))})).then((function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}}))}(r.Cu,e)];case 2:return i=u.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new xo(uo)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,Zf(r,i.Qn)];case 3:return u.sent(),[4,Zh(r.Oh)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=Za(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Ff(t,e){return F(this,void 0,void 0,(function(){var n,r;return q(this,(function(i){switch(i.label){case 0:n=Ji(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,_h(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach((function(t,e){var r=n.Kh.get(e);r&&($i(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?$i(r.Fh):t.de.size>0&&($i(r.Fh),r.Fh=!1))})),[4,Zf(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ph(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function qf(t,e,n){var r=Ji(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach((function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Ji(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Yu(e)&&(r=!0)})),r&&yf(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function Bf(t,e,n){return F(this,void 0,void 0,(function(){var r,i,o,s,u,a;return q(this,(function(c){switch(c.label){case 0:return(r=Ji(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(o=i&&i.key)?(s=(s=new xo(go.$)).Tt(o,new Hu(o,fo.min())),u=Ko().add(o),a=new Jo(fo.min(),new Map,new Mo(uo),s,u),[4,Ff(r,a)]):[3,2];case 1:return c.sent(),r.Qh=r.Qh.remove(o),r.Kh.delete(e),Qf(r),[3,4];case 2:return[4,Nh(r.Cu,e,!1).then((function(){return Xf(r,e,n)})).catch(Ph)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Gf(t,e){return F(this,void 0,void 0,(function(){var n,r,i;return q(this,(function(o){switch(o.label){case 0:n=Ji(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ih(n.Cu,e)];case 2:return i=o.sent(),Wf(n,r,null),Hf(n,r),n.kh.Qa(r,"acknowledged"),[4,Zf(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ph(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function zf(t,e,n){return F(this,void 0,void 0,(function(){var r,i;return q(this,(function(o){switch(o.label){case 0:r=Ji(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Ji(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.rs.Cr(t,e).next((function(e){return $i(null!==e),r=e.keys(),n.rs.$r(t,e)})).next((function(){return n.rs.Ur(t)})).next((function(){return n.Oc._s(t,r)}))}))}(r.Cu,e)];case 2:return i=o.sent(),Wf(r,e,n),Hf(r,e),r.kh.Qa(e,"rejected",n),[4,Zf(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Ph(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Kf(t,e){return F(this,void 0,void 0,(function(){var n,r,i,o,s;return q(this,(function(u){switch(u.label){case 0:Hh((n=Ji(t)).Oh)||Ki("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=Ji(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.rs.Or(t)}))}(n.Cu)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return o=u.sent(),s=Za(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Hf(t,e){(t.Gh.get(e)||[]).forEach((function(t){t.resolve()})),t.Gh.delete(e)}function Wf(t,e,n){var r=Ji(t),i=r.jh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function Xf(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var o=i[r];t.Bh.delete(o),n&&t.Lh.Xh(o,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach((function(e){t.Wh.Qr(e)||Yf(t,e)}))}function Yf(t,e){var n=t.Qh.get(e);null!==n&&(qh(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),Qf(t))}function $f(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Df?(t.Wh.Do(o.key,e),Jf(t,o)):o instanceof Pf?(Ki("SyncEngine","Document no longer in limbo: "+o.key),t.Wh.No(o.key,e),t.Wh.Qr(o.key)||Yf(t,o.key)):Yi()}}function Jf(t,e){var n=e.key;t.Qh.get(n)||(Ki("SyncEngine","New document in limbo: "+n),t.Uh.push(n),Qf(t))}function Qf(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Rf(e)),t.Qh=t.Qh.Tt(e,n),Fh(t.Oh,new Oo(ra($u(e.path)),n,2,Va.Ds))}}function Zf(t,e,n){return F(this,void 0,void 0,(function(){var r,i,o,s;return q(this,(function(u){switch(u.label){case 0:return r=Ji(t),i=[],o=[],s=[],r.Bh.W()?[3,3]:(r.Bh.forEach((function(t,u){s.push(r.Yh(u,e,n).then((function(t){if(t){r.Jh&&r.kh.Ja(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=ja.Vs(u.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.Lh.au(i),[4,function(t,e){return F(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c,h;return q(this,(function(f){switch(f.label){case 0:n=Ji(t),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Oa.forEach(e,(function(e){return Oa.forEach(e.gs,(function(r){return n.persistence.Vr.Do(t,e.targetId,r)})).next((function(){return Oa.forEach(e.ys,(function(r){return n.persistence.Vr.No(t,e.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Ga(r=f.sent()))throw r;return Ki("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],u=s.targetId,s.fromCache||(a=n.Cc.get(u),c=a.ft,h=a.Et(c),n.Cc=n.Cc.Tt(u,h));return[2]}}))}))}(r.Cu,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function tl(t,e){return F(this,void 0,void 0,(function(){var n,r;return q(this,(function(i){switch(i.label){case 0:return(n=Ji(t)).currentUser.isEqual(e)?[3,3]:(Ki("SyncEngine","User change. New user:",e.h()),[4,wh(n.Cu,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach((function(t){t.forEach((function(t){t.reject(new Zi(Qi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Gh.clear()}(n),n.kh.Xa(e,r.$c,r.Lc),[4,Zf(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function el(t,e){var n=Ji(t),r=n.Kh.get(e);if(r&&r.Fh)return Ko().add(r.key);var i=Ko(),o=n.qh.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=u[s],c=n.Bh.get(a);i=i.Gt(c.view.Ph)}return i}function nl(t,e){return F(this,void 0,void 0,(function(){var n,r,i;return q(this,(function(o){switch(o.label){case 0:return[4,Sh((n=Ji(t)).Cu,e.query,!0)];case 1:return r=o.sent(),i=e.view.Nh(r),[2,(n.Jh&&$f(n,e.targetId,i.Dh),i)]}}))}))}function rl(t){return F(this,void 0,void 0,(function(){var e;return q(this,(function(n){return[2,Oh((e=Ji(t)).Cu).then((function(t){return Zf(e,t)}))]}))}))}function il(t,e,n,r){return F(this,void 0,void 0,(function(){var i,o;return q(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Ji(t),r=Ji(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Nr(t,e).next((function(e){return e?n.Oc._s(t,e):Oa.resolve(null)}))}))}((i=Ji(t)).Cu,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Zh(i.Oh)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Wf(i,e,r||null),Hf(i,e),function(t,e){Ji(Ji(t).rs).Br(e)}(i.Cu,e)):Yi(),s.label=4;case 4:return[4,Zf(i,o)];case 5:return s.sent(),[3,7];case 6:Ki("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function ol(t,e){return F(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c;return q(this,(function(h){switch(h.label){case 0:return fl(n=Ji(t)),ll(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,sl(n,r.H())]);case 1:return i=h.sent(),n.Hh=!0,[4,uf(n.Oh,!0)];case 2:for(h.sent(),o=0,s=i;o<s.length;o++)u=s[o],Fh(n.Oh,u);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(a=[],c=Promise.resolve(),n.qh.forEach((function(t,e){n.kh.za(e)?a.push(e):c=c.then((function(){return Xf(n,e),Nh(n.Cu,e,!0)})),qh(n.Oh,e)})),[4,c]);case 4:return h.sent(),[4,sl(n,a)];case 5:return h.sent(),function(t){var e=Ji(t);e.Kh.forEach((function(t,n){qh(e.Oh,n)})),e.Wh.wa(),e.Kh=new Map,e.Qh=new xo(go.$)}(n),n.Hh=!1,[4,uf(n.Oh,!1)];case 6:h.sent(),h.label=7;case 7:return[2]}}))}))}function sl(t,e,n){return F(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c,h,f,l,p,d,v;return q(this,(function(y){switch(y.label){case 0:n=Ji(t),r=[],i=[],o=0,s=e,y.label=1;case 1:return o<s.length?(u=s[o],a=void 0,(c=n.qh.get(u))&&0!==c.length?[4,Ah(n.Cu,ra(c[0]))]:[3,7]):[3,13];case 2:a=y.sent(),h=0,f=c,y.label=3;case 3:return h<f.length?(l=f[h],p=n.Bh.get(l),[4,nl(n,p)]):[3,6];case 4:(d=y.sent()).snapshot&&i.push(d.snapshot),y.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,kh(n.Cu,u)];case 8:return v=y.sent(),[4,Ah(n.Cu,v)];case 9:return a=y.sent(),[4,jf(n,ul(v),u,!1)];case 10:y.sent(),y.label=11;case 11:r.push(a),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}}))}))}function ul(t){return Yu(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function al(t){var e=Ji(t);return Ji(Ji(e.Cu).persistence).Ic()}function cl(t,e,n,r){return F(this,void 0,void 0,(function(){var i,o,s;return q(this,(function(u){switch(u.label){case 0:return(i=Ji(t)).Hh?(Ki("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Oh(i.Cu)];case 3:return o=u.sent(),s=Jo.ae(e,"current"===n),[4,Zf(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Nh(i.Cu,e,!0)];case 6:return u.sent(),Xf(i,e,r),[3,8];case 7:Yi(),u.label=8;case 8:return[2]}}))}))}function hl(t,e,n){return F(this,void 0,void 0,(function(){var r,i,o,s,u,a,c,h,f,l;return q(this,(function(p){switch(p.label){case 0:if(!(r=fl(t)).Hh)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.qh.has(s)?(Ki("SyncEngine","Adding an already active target "+s),[3,5]):[4,kh(r.Cu,s)]):[3,6];case 2:return u=p.sent(),[4,Ah(r.Cu,u)];case 3:return a=p.sent(),[4,jf(r,ul(u),a.targetId,!1)];case 4:p.sent(),Fh(r.Oh,a),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return q(this,(function(e){switch(e.label){case 0:return r.qh.has(t)?[4,Nh(r.Cu,t,!1).then((function(){qh(r.Oh,t),Xf(r,t)})).catch(Ph)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,p.label=7;case 7:return h<f.length?(l=f[h],[5,c(l)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function fl(t){var e=Ji(t);return e.Oh.xu.Qu=Ff.bind(null,e),e.Oh.xu.Xe=el.bind(null,e),e.Oh.xu.Uu=Bf.bind(null,e),e.Lh.au=df.bind(null,e.Mh),e.Lh.Xh=vf.bind(null,e.Mh),e}function ll(t){var e=Ji(t);return e.Oh.xu.Ku=Gf.bind(null,e),e.Oh.xu.Wu=zf.bind(null,e),e}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var pl=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(fo.min())?this.tl(t,e):this.Zh._s(t,r).next((function(o){var s=i.el(e,o);return(Ju(e)||Qu(e))&&i.ph(e.limitType,s,r,n)?i.tl(t,e):(zi()<=ht.DEBUG&&Ki("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ua(e)),i.Zh.ws(t,e,n).next((function(t){return s.forEach((function(e){t=t.Tt(e.key,e)})),t})))}))},t.prototype.el=function(t,e){var n=new Mo(ca(t));return e.forEach((function(e,r){r instanceof Ku&&aa(t,r)&&(n=n.add(r))})),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,e){return zi()<=ht.DEBUG&&Ki("IndexFreeQueryEngine","Using full collection scan to execute query:",ua(e)),this.Zh.ws(t,e,fo.min())},t}(),dl=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new Mo(bf.ua)}return t.prototype.br=function(t){return Oa.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++,this.rs.length>0&&this.rs[this.rs.length-1];var o=new Na(i,e,n,r);this.rs.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.sl=this.sl.add(new bf(a.key,i)),this.os.Dr(t,a.key.path.q())}return Oa.resolve(o)},t.prototype.Cr=function(t,e){return Oa.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=e+1,r=this.rl(n),i=r<0?0:r;return Oa.resolve(this.rs.length>i?this.rs[i]:null)},t.prototype.Or=function(){return Oa.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return Oa.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new bf(e,0),i=new bf(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],(function(t){var e=n.il(t.Ta);o.push(e)})),Oa.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new Mo(uo);return e.forEach((function(t){var e=new bf(t,0),i=new bf(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],(function(t){r=r.add(t.Ta)}))})),Oa.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;go.ot(i)||(i=i.child(""));var o=new bf(new go(i),0),s=new Mo(uo);return this.sl.Wt((function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(s=s.add(t.Ta)),!0)}),o),Oa.resolve(this.ol(s))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.il(t);null!==r&&n.push(r)})),n},t.prototype.$r=function(t,e){var n=this;$i(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return Oa.forEach(e.mutations,(function(i){var o=new bf(i.key,e.batchId);return r=r.delete(o),n.Vr.qr(t,i.key)})).next((function(){n.sl=r}))},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new bf(e,0),r=this.sl.jt(n);return Oa.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return this.rs.length,Oa.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),vl=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new xo(go.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:s,readTime:n}),this.size+=s-o,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return Oa.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=Fo();return e.forEach((function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)})),Oa.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=Bo(),i=new go(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var s=o.Ct(),u=s.key,a=s.value,c=a.zn,h=a.readTime;if(!e.path.j(u.path))break;h.F(n)<=0||c instanceof Ku&&aa(e,c)&&(r=r.Tt(c.key,c))}return Oa.resolve(r)},t.prototype.al=function(t,e){return Oa.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Xr=function(t){return new yl(this)},t.prototype.eo=function(t){return Oa.resolve(this.size)},t}(),yl=function(t){function e(e){var n=this;return(n=t.call(this)||this).no=e,n}return V(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach((function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)})),Oa.qn(n)},e.prototype.Yn=function(t,e){return this.no.Jn(t,e)},e.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},e}(Da),gl=function(){function t(t){this.persistence=t,this.hl=new ka((function(t){return _o(t)}),To),this.lastRemoteSnapshotVersion=fo.min(),this.highestTargetId=0,this.ll=0,this._l=new mf,this.targetCount=0,this.fl=oh.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach((function(t,n){return e(n)})),Oa.resolve()},t.prototype.To=function(t){return Oa.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return Oa.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),Oa.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Oa.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new oh(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,Oa.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),Oa.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,Oa.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach((function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.hl.delete(s),o.push(r.po(t,u.targetId)),i++)})),Oa.qn(o).next((function(){return i}))},t.prototype.vo=function(t){return Oa.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return Oa.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),Oa.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach((function(e){i.push(r.qr(t,e))})),Oa.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),Oa.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return Oa.resolve(n)},t.prototype.Qr=function(t,e){return Oa.resolve(this._l.Qr(e))},t}(),ml=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return Oa.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Vs(n.createTime)}),Oa.resolve()},t.prototype.co=function(t,e){return Oa.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:wc(n.bundledQuery),readTime:Vs(n.readTime)}),Oa.resolve()},t}(),bl=function(){function t(t,e){var n=this;this.El={},this.ko=new Va(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new gl(this),this.os=new xc,this.ss=function(t,e){return new vl(t,(function(t){return n.Vr.Tl(t)}))}(this.os),this.serializer=new hc(e),this.Go=new ml(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new dl(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;Ki("MemoryPersistence","Starting transaction:",t);var i=new wl(this.ko.next());return this.Vr.Il(),n(i).next((function(t){return r.Vr.ml(i).next((function(){return t}))})).Ln().then((function(t){return i.ns(),t}))},t.prototype.Al=function(t,e){return Oa.Un(Object.values(this.El).map((function(n){return function(){return n.Qr(t,e)}})))},t}(),wl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return V(e,t),e}(La),Il=function(){function t(t){this.persistence=t,this.Rl=new mf,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Yi()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),Oa.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),Oa.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),Oa.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach((function(t){return n.yl.add(t.toString())}));var r=this.persistence.Ac();return r.xo(t,e.targetId).next((function(t){t.forEach((function(t){return n.yl.add(t.toString())}))})).next((function(){return r.Vo(t,e)}))},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return Oa.forEach(this.yl,(function(r){var i=go.st(r);return e.Vl(t,i).next((function(t){t||n.Hn(i)}))})).next((function(){return e.Pl=null,n.apply(t)}))},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next((function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())}))},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return Oa.Un([function(){return Oa.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),El=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),_l={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return V(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise((function(i,o){var s=new Ui;s.listenOnce(Ri.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case xi.NO_ERROR:var e=s.getResponseJson();Ki("Connection","XHR received:",JSON.stringify(e)),i(e);break;case xi.TIMEOUT:Ki("Connection",'RPC "'+t+'" timed out'),o(new Zi(Qi.DEADLINE_EXCEEDED,"Request time out"));break;case xi.HTTP_ERROR:var n=s.getStatus();if(Ki("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(Qi).indexOf(e)>=0?e:Qi.UNKNOWN}(r.status);o(new Zi(u,r.message))}else o(new Zi(Qi.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Zi(Qi.UNAVAILABLE,"Connection failed."));break;default:Yi()}}finally{Ki("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.uu=function(t,e){var n,r=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new ki,o=Dn(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(X())||"object"==typeof navigator&&"ReactNative"===navigator.product||X().indexOf("Electron/")>=0||function(){var t=X();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||X().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Ki("Connection","Creating WebChannel: "+u,s);var a=i.createWebChannel(u,s),c=!1,h=!1,f=new El({pl:function(t){h?Ki("Connection","Not sending because WebChannel is closed:",t):(c||(Ki("Connection","Opening WebChannel transport."),a.open(),c=!0),Ki("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),l=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return l(a,Vi.EventType.OPEN,(function(){h||Ki("Connection","WebChannel transport opened.")})),l(a,Vi.EventType.CLOSE,(function(){h||(h=!0,Ki("Connection","WebChannel transport closed"),f.Nl())})),l(a,Vi.EventType.ERROR,(function(t){h||(h=!0,Wi("Connection","WebChannel transport errored:",t),f.Nl(new Zi(Qi.UNAVAILABLE,"The operation could not be completed")))})),l(a,Vi.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];$i(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Ki("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=So[t];if(void 0!==e)return Co(e)}(o),u=i.message;void 0===s&&(s=Qi.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),h=!0,f.Nl(new Zi(s,u)),a.close()}else Ki("Connection","WebChannel received:",n),f.xl(n)}})),l(o,Li.STAT_EVENT,(function(t){t.stat===Mi?Ki("Connection","Detected buffering proxy"):t.stat===ji&&Ki("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Cl()}),0),f},e}(function(){function t(t){this.Fl=t,this.t=t.t;var e=t.ssl?"https":"http";this.Ol=e+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,r){var i=this.kl(t,e);Ki("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then((function(t){return Ki("RestConnection","Received: ",t),t}),(function(e){throw Wi("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){var n=_l[t];return this.Ol+"/v1/"+e+":"+n},t}()),Al=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){Ki("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){Ki("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Nl=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),Sl=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return F(this,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return this.serializer=Ca(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return bh(this.persistence,new pl,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new bl(Il.gl,this.serializer)},t.prototype.jl=function(t){return new Of},t.prototype.terminate=function(){return F(this,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}}))}))},t}(),kl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return V(e,t),e.prototype.initialize=function(e){return F(this,void 0,void 0,(function(){return q(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Dh(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,ll(this.Xl.ga)];case 4:return n.sent(),[4,Zh(this.Xl.Oh)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return bh(this.persistence,new pl,t.Yl,this.serializer)},e.prototype.Hl=function(t){var e=this.persistence.Vr.cr;return new ic(e,t.di)},e.prototype.Gl=function(t){var e=gh(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?rc.er(this.cacheSizeBytes):rc.ir;return new lh(this.synchronizeTabs,e,t.clientId,n,t.di,Ya(),$a(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Of},e}(Sl),Ol=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return V(e,t),e.prototype.initialize=function(e){return F(this,void 0,void 0,(function(){var n,r=this;return q(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof kf?(this.kh.ga={_h:il.bind(null,n),fh:cl.bind(null,n),dh:hl.bind(null,n),Ic:al.bind(null,n),lh:rl.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo((function(t){return F(r,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,ol(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=Ya();if(!kf.Gs(e))throw new Zi(Qi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gh(t.Fl.t,t.Fl.persistenceKey);return new kf(e,t.di,n,t.clientId,t.Yl)},e}(kl),Dl=function(){function t(){}return t.prototype.initialize=function(t,e){return F(this,void 0,void 0,(function(){var n=this;return q(this,(function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return qf(n.ga,t,1)},this.Oh.xu.s_=tl.bind(null,this.ga),[4,uf(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new ff},t.prototype.Zl=function(t){var e,n=Ca(t.Fl.t),r=(e=t.Fl,new Tl(e));return function(t,e,n){return new Lh(t,e,n)}(t.credentials,r,n)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return qf(s.ga,t,0)},o=Al.Gs()?new Al:new Nl,new jh(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var u=new Lf(t,e,n,r,i,o);return s&&(u.Hh=!0),u}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return F(this,void 0,void 0,(function(){var e;return q(this,(function(n){switch(n.label){case 0:return e=Ji(t),Ki("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,Uh(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}}))}))}(this.Oh)},t}(),Pl=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Cl=function(t){this.o_=t};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function xl(t,e,n){if(!n)throw new Zi(Qi.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Rl(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ll(t,e,n,r){if(!0===e&&!0===r)throw new Zi(Qi.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ml(t){if(!go.ot(t))throw new Zi(Qi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function jl(t){if(go.ot(t))throw new Zi(Qi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Vl(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Yi()}function Ul(t,e){if(t instanceof Cl&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Zi(Qi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Vl(t);throw new Zi(Qi.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Fl(t,e){if(e<=0)throw new Zi(Qi.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ql=function(t){this.c_=t},Bl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.u_=function(t){if(2!==t.a_)throw 1===t.a_?t.h_(this.c_+"() can only appear at the top level of your update data"):t.h_(this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ql);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gl(t,e,n){return new Hp({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.u_=function(t){return new _u(t.path,new du)},e.prototype.isEqual=function(t){return t instanceof e},e}(ql),Kl=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return V(e,t),e.prototype.u_=function(t){var e=Gl(this,t,!0),n=this.f_.map((function(t){return Qp(t,e)})),r=new vu(n);return new _u(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ql),Hl=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return V(e,t),e.prototype.u_=function(t){var e=Gl(this,t,!0),n=this.f_.map((function(t){return Qp(t,e)})),r=new gu(n);return new _u(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ql),Wl=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return V(e,t),e.prototype.u_=function(t){var e=new bu(t.serializer,Rs(t.serializer,this.d_));return new _u(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ql),Xl=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Zi(Qi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Zi(Qi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return uo(this.w_,t.w_)||uo(this.E_,t.E_)},t}(),Yl=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(No.fromBase64String(e))}catch(e){throw new Zi(Qi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(No.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),$l=new Map,Jl=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Zi(Qi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Zi(Qi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ll("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ql=function(){function t(t,e){this.I_="(lite)",this.m_=new Jl({}),this.A_=!1,t instanceof qi?(this.R_=t,this.P_=new eo):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Zi(Qi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qi(t.options.projectId)}(t),this.P_=new no(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new Zi(Qi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new Zi(Qi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new Jl(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new eo;switch(t.type){case"gapi":var e=t.client;return $i(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new io(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Zi(Qi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=$l.get(t);e&&(Ki("ComponentProvider","Removing Datastore"),$l.delete(t),e.terminate())}(this),Promise.resolve()},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Zl(){if("undefined"==typeof Uint8Array)throw new Zi(Qi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tp(){if("undefined"==typeof atob)throw new Zi(Qi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ep=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.fromBase64String=function(t){return tp(),new e(Yl.fromBase64String(t))},e.fromUint8Array=function(t){return Zl(),new e(Yl.fromUint8Array(t))},e.prototype.toBase64=function(){return tp(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return Zl(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Cl),np=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),ps(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Is(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(Es(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw Yi()}},t.prototype.L_=function(t,e){var n=this,r={};return us(t.fields||{},(function(t,i){r[t]=n.C_(i,e)})),r},t.prototype.M_=function(t){return new Xl(Is(t.latitude),Is(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.C_(t,e)}))},t.prototype.x_=function(t,e){switch(e){case"previous":var n=hs(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(fs(t));default:return null}},t.prototype.N_=function(t){var e=ws(t);return new ho(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=po.Y(t);$i(cu(n));var r=new qi(n.get(1),n.get(3)),i=new go(n.B(5));return r.isEqual(e)||Hi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),rp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return V(e,t),e.prototype.F_=function(t){return new ep(new Yl(t))},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return Dd.q_(e,this.firestore,null)},e}(np),ip=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ip(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new op(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(sp("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),op=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ip);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function sp(t,e){return"string"==typeof e?id(t,e):e instanceof Cl?e.o_.G_:e.G_}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var up=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new yo(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),ap=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new Qa,r.I_="name"in e?e.name:"[DEFAULT]",r}return V(e,t),e.prototype.D_=function(){return this.H_||Sd(this),this.H_.terminate()},e}(Ql);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function cp(t,e,n){var r=this,i=new Pa;return t.di.enqueue((function(){return F(r,void 0,void 0,(function(){var r;return q(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,hd(t,n)];case 1:return o.sent(),[4,fd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Qi.FAILED_PRECONDITION||t.code===Qi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function hp(t){if(t.y_||t.V_)throw new Zi(Qi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var fp=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).U_=e,u.J_=e,u.metadata=o,u}return V(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new lp(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(sp("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},e}(ip),lp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(fp),pp=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new Rd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach((function(r){t.call(e,new lp(n.U_,n.Q_,r.key,r,new Rd(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new Zi(Qi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map((function(e){var r=new lp(t.U_,t.Q_,e.doc.key,e.doc,new Rd(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t.Y_.te;return t.Y_.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new lp(t.U_,t.Q_,e.doc.key,e.doc,new Rd(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:dp(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.Z_=e),this.X_},t}();function dp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yi()}}function vp(t,e){return t instanceof fp&&e instanceof fp?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof pp&&e instanceof pp&&t.U_===e.U_&&Fp(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var yp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return V(e,t),e.prototype.F_=function(t){return new Yl(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new Ip(this.firestore,null,e)},e}(np);function gp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Ul(t.firestore,ap),s=qp(o);return e instanceof Cl&&(e=e.o_),bp(o,("string"==typeof e||e instanceof up?$p(s,"updateDoc",t.K_,e,n,r):Yp(s,"updateDoc",t.K_,e)).ef(t.K_,Au.exists(!0)))}function mp(t){for(var e,n,r,i=this,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var u={includeMetadataChanges:!1},a=0;"object"!=typeof o[a]||xa(o[a])||(u=o[a],a++);var c,h,f,l={includeMetadataChanges:u.includeMetadataChanges};if(xa(o[a])){var p=o[a];o[a]=null===(e=p.next)||void 0===e?void 0:e.bind(p),o[a+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),o[a+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(t instanceof Ip)h=Ul(t.firestore,ap),f=$u(t.K_.path),c={next:function(e){o[a]&&o[a](wp(h,t,e))},error:o[a+1],complete:o[a+2]};else{h=Ul(t.firestore,ap),f=t.tf;var d=new yp(h);c={next:function(e){o[a]&&o[a](new pp(h,d,t,e))},error:o[a+1],complete:o[a+2]},Rp(t.tf)}var v=Nd(h),y=new Pl(c),g=new gf(f,y,l);return h.z_.Ri((function(){return F(i,void 0,void 0,(function(){var t;return q(this,(function(e){switch(e.label){case 0:return t=lf,[4,md(v)];case 1:return[2,t.apply(void 0,[e.sent(),g])]}}))}))})),function(){y.r_(),h.z_.Ri((function(){return F(i,void 0,void 0,(function(){var t;return q(this,(function(e){switch(e.label){case 0:return t=pf,[4,md(v)];case 1:return[2,t.apply(void 0,[e.sent(),g])]}}))}))}))}}function bp(t,e){return function(t,e){var n=this,r=new Pa;return t.di.Ri((function(){return F(n,void 0,void 0,(function(){var n;return q(this,(function(i){switch(i.label){case 0:return n=Uf,[4,gd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Nd(t),e)}function wp(t,e,n){var r=n.docs.get(e.K_),i=new yp(t);return new fp(t,i,e.K_,r,new Rd(n.hasPendingWrites,n.fromCache),e.j_)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ip=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Lp(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),Ep=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),_p=function(){};function Tp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.sf(t)}return t}var Ap=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return V(e,t),e.prototype.sf=function(t){var e=qp(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Cp(s,o);for(var a=[],c=0,h=s;c<h.length;c++){var f=h[c];a.push(Pp(r,t,f))}u={arrayValue:{values:a}}}else u=Pp(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Cp(s,o),u=Jp(n,"where",s,"in"===o||"not-in"===o);var l=ha.create(i,o,u);return function(t,e){if(e.An()){var n=ta(t);if(null!==n&&!n.isEqual(e.field))throw new Zi(Qi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Zu(t);null!==r&&xp(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Zi(Qi.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Zi(Qi.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,l),l}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new Ep(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new Xu(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},e}(_p),Np=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return V(e,t),e.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _a(e,n);return function(t,e){if(null===Zu(t)){var n=ta(t);null!==n&&xp(t,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new Ep(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new Xu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},e}(_p),Sp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return V(e,t),e.prototype.sf=function(t){return new Ep(t.firestore,t.j_,ia(t.tf,this.hf,this.lf))},e}(_p),kp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return V(e,t),e.prototype.sf=function(t){var e=Dp(t,this.type,this._f,this.ff);return new Ep(t.firestore,t.j_,function(t,e){return new Xu(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},e}(_p),Op=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return V(e,t),e.prototype.sf=function(t){var e=Dp(t,this.type,this._f,this.ff);return new Ep(t.firestore,t.j_,function(t,e){return new Xu(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},e}(_p);function Dp(t,e,n,r){if(n[0]instanceof Cl&&(n[0]=n[0].o_),n[0]instanceof ip)return function(t,e,n,r,i){if(!r)throw new Zi(Qi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=na(t);s<u.length;s++){var a=u[s];if(a.field.tt())o.push(_s(e,r.key));else{var c=r.field(a.field);if(cs(c))throw new Zi(Qi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=a.field.J();throw new Zi(Qi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ba(o,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=qp(t.firestore);return function(t,e,n,r,i,o){var s=t.Tn;if(i.length>s.length)throw new Zi(Qi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.tt()){if("string"!=typeof c)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ea(t)&&-1!==c.indexOf("/"))throw new Zi(Qi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(po.Y(c));if(!go.ot(h))throw new Zi(Qi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var f=new go(h);u.push(_s(e,f))}else{var l=Jp(n,r,c);u.push(l)}}return new ba(u,o)}(t.tf,t.firestore.R_,i,e,n,r)}function Pp(t,e,n){if(n instanceof Cl&&(n=n.o_),"string"==typeof n){if(""===n)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ea(e)&&-1!==n.indexOf("/"))throw new Zi(Qi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(po.Y(n));if(!go.ot(r))throw new Zi(Qi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return _s(t,new go(r))}if(n instanceof Ip)return _s(t,n.K_);throw new Zi(Qi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Vl(n)+".")}function Cp(t,e){if(!Array.isArray(t)||0===t.length)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function xp(t,e,n){if(!n.isEqual(e))throw new Zi(Qi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Rp(t){if(Qu(t)&&0===t.Tn.length)throw new Zi(Qi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Lp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,$u(r))||this).firestore=e,i.nf=r,i.type="collection",i}return V(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new Ip(this.firestore,null,new go(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.nf)},e}(Ep);function Mp(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(xl("collection","path",e),t instanceof Ql){var i=po.Y.apply(po,K([e],n));return jl(i),new Lp(t,null,i)}if(!(t instanceof Ip||t instanceof Lp))throw new Zi(Qi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=po.Y.apply(po,K([t.path],n)).child(po.Y(e));return jl(o),new Lp(t.firestore,null,o)}function jp(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=so.D()),xl("doc","path",e),t instanceof Ql){var i=po.Y.apply(po,K([e],n));return Ml(i),new Ip(t,null,new go(i))}if(!(t instanceof Ip||t instanceof Lp))throw new Zi(Qi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.nf.child(po.Y.apply(po,K([e],n)));return Ml(o),new Ip(t.firestore,t instanceof Lp?t.j_:null,new go(o))}var Vp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return V(e,t),e.prototype.F_=function(t){return new Yl(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new Ip(this.firestore,null,e)},e}(np);function Up(t,e){return(t instanceof Ip||t instanceof Lp)&&(e instanceof Ip||e instanceof Lp)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function Fp(t,e){return t instanceof Ep&&e instanceof Ep&&t.firestore===e.firestore&&oa(t.tf,e.tf)&&t.j_===e.j_}function qp(t){var e=t.S_(),n=Ca(t.R_);return new Wp(t.R_,!!e.ignoreUndefinedProperties,n)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Bp=/^__.*__$/,Gp=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return null!==this.en?n.push(new Ru(t,this.data,this.en,e)):n.push(new xu(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Mu(t,this.fieldTransforms)),n},t}(),zp=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new Ru(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new Mu(t,this.fieldTransforms)),n},t}();function Kp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yi()}}var Hp=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return od(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.j(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.j(e.field)}))},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(Kp(this.a_)&&Bp.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),Wp=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Ca(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new Hp({a_:t,methodName:e,l_:n,path:yo.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function Xp(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Rf(o.merge||o.mergeFields?2:0,e,n,i);ed("Data must be an object, but it was:",s,r);var u,a,c=Zp(r,s);if(o.merge)u=new Eu(s.en),a=s.fieldTransforms;else if(o.mergeFields){for(var h=[],f=0,l=o.mergeFields;f<l.length;f++){var p=nd(e,l[f],n);if(!s.contains(p))throw new Zi(Qi.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");sd(h,p)||h.push(p)}u=new Eu(h),a=s.fieldTransforms.filter((function(t){return u.un(t.field)}))}else u=null,a=s.fieldTransforms;return new Gp(new qu(c),u,a)}function Yp(t,e,n,r){var i=t.Rf(1,e,n);ed("Data must be an object, but it was:",i,r);var o=[],s=new Bu;us(r,(function(t,r){var u=id(e,t,n);r instanceof Cl&&(r=r.o_);var a=i.If(u);if(r instanceof Bl)o.push(u);else{var c=Qp(r,a);null!=c&&(o.push(u),s.set(u,c))}}));var u=new Eu(o);return new zp(s.hn(),u,i.fieldTransforms)}function $p(t,e,n,r,i,o){var s=t.Rf(1,e,n),u=[nd(e,r,n)],a=[i];if(o.length%2!=0)throw new Zi(Qi.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(nd(e,o[c])),a.push(o[c+1]);for(var h=[],f=new Bu,l=u.length-1;l>=0;--l)if(!sd(h,u[l])){var p=u[l],d=a[l];d instanceof Cl&&(d=d.o_);var v=s.If(p);if(d instanceof Bl)h.push(p);else{var y=Qp(d,v);null!=y&&(h.push(p),f.set(p,y))}}var g=new Eu(h);return new zp(f.hn(),g,s.fieldTransforms)}function Jp(t,e,n,r){return void 0===r&&(r=!1),Qp(n,t.Rf(r?4:3,e))}function Qp(t,e){if(t instanceof Cl&&(t=t.o_),td(t))return ed("Unsupported field value:",e,t),Zp(t,e);if(t instanceof ql)return function(t,e){if(!Kp(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Qp(o[i],e.mf(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Cl&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Rs(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ho.fromDate(t);return{timestampValue:Ls(e.serializer,n)}}if(t instanceof ho){var r=new ho(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ls(e.serializer,r)}}if(t instanceof Xl)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yl)return{bytesValue:Ms(e.serializer,t.T_)};if(t instanceof Ip){var i=e.t,o=t.firestore.R_;if(!o.isEqual(i))throw e.h_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Us(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+Vl(t))}(t,e)}function Zp(t,e){var n={};return as(t)?e.path&&e.path.length>0&&e.en.push(e.path):us(t,(function(t,r){var i=Qp(r,e.Ef(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function td(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ho||t instanceof Xl||t instanceof Yl||t instanceof Ip||t instanceof ql)}function ed(t,e,n){if(!td(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Vl(n);throw"an object"===r?e.h_(t+" a custom object"):e.h_(t+" "+r)}}function nd(t,e,n){if(e instanceof Cl&&(e=e.o_),e instanceof up)return e.G_;if("string"==typeof e)return id(t,e);throw od("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var rd=new RegExp("[~\\*/\\[\\]]");function id(t,e,n){if(e.search(rd)>=0)throw od("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(up.bind.apply(up,K([void 0],e.split("."))))).G_}catch(r){throw od("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function od(t,e,n,r,i){var o=r&&!r.W(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new Zi(Qi.INVALID_ARGUMENT,(u+=". ")+t+a)}function sd(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ud=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return F(this,void 0,void 0,(function(){var e,n=this;return q(this,(function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new Zi(Qi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return F(this,void 0,void 0,(function(){var n,r,i,o,s,u;return q(this,(function(a){switch(a.label){case 0:return n=Ji(t),r=Ks(n.serializer)+"/documents",i={documents:e.map((function(t){return qs(n.serializer,t)}))},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){$i(!!e.found),e.found.name,e.found.updateTime;var n=Bs(t,e.found.name),r=Vs(e.found.updateTime),i=new qu({mapValue:{fields:e.found.fields}});return new Ku(n,r,i,{})}(t,e):"missing"in e?function(t,e){$i(!!e.missing),$i(!!e.readTime);var n=Bs(t,e.missing),r=Vs(e.readTime);return new Hu(n,r)}(t,e):Yi()}(n.serializer,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());$i(!!e),u.push(e)})),u)]}}))}))}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Hu||t instanceof Ku?n.bf(t):Yi()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new Uu(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return F(this,void 0,void 0,(function(){var t,e=this;return q(this,(function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=go.st(n);e.mutations.push(new Fu(r,e.rn(r)))})),[4,function(t,e){return F(this,void 0,void 0,(function(){var n,r,i;return q(this,(function(o){switch(o.label){case 0:return n=Ji(t),r=Ks(n.serializer)+"/documents",i={writes:e.map((function(t){return Xs(n.serializer,t)}))},[4,n.Au("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}}))}))},t.prototype.bf=function(t){var e;if(t instanceof Ku)e=t.version;else{if(!(t instanceof Hu))throw Yi();e=fo.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Zi(Qi.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?Au.updateTime(e):Au.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(fo.min()))throw new Zi(Qi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Au.updateTime(e)}return Au.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),ad=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new Ua(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs((function(){return F(t,void 0,void 0,(function(){var t,e,n=this;return q(this,(function(r){return t=new ud(this.Nu),(e=this.Nf(t))&&e.then((function(e){n.di.Ri((function(){return t.commit().then((function(){n.Ti.resolve(e)})).catch((function(t){n.xf(t)}))}))})).catch((function(t){n.xf(t)})),[2]}))}))}))},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!mo(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri((function(){return e.Cf(),Promise.resolve()}))):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Po(e)}return!1},t}(),cd=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=Bi.UNAUTHENTICATED,this.clientId=so.D(),this.Of=function(){},this.g=new Pa,this.credentials.A((function(t){Ki("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Of(t)),r.g.resolve()}))}return t.prototype.getConfiguration=function(){return F(this,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}}))}))},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then((function(){return e.Of(e.user)}))},t.prototype.kf=function(){if(this.di.Ci)throw new Zi(Qi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new Pa;return this.di.Ni((function(){return F(t,void 0,void 0,(function(){var t,n;return q(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Za(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function hd(t,e){return F(this,void 0,void 0,(function(){var n,r=this;return q(this,(function(i){switch(i.label){case 0:return t.di.Li(),Ki("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Mf((function(n){return t.di.Mi((function(){return F(r,void 0,void 0,(function(){return q(this,(function(t){switch(t.label){case 0:return[4,wh(e.Cu,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.tc((function(){return t.terminate()})),t.Lf=e,[2]}}))}))}function fd(t,e){return F(this,void 0,void 0,(function(){var n,r;return q(this,(function(i){switch(i.label){case 0:return t.di.Li(),[4,ld(t)];case 1:return n=i.sent(),Ki("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Mf((function(n){return t.di.Mi((function(){return function(t,e){return F(this,void 0,void 0,(function(){var n,r;return q(this,(function(i){switch(i.label){case 0:return(n=Ji(t)).di.Li(),Ki("RemoteStore","RemoteStore received new credentials"),r=Hh(n),n.Mu.add(3),[4,Uh(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return i.sent(),n.Mu.delete(3),[4,Vh(n)];case 3:return i.sent(),[2]}}))}))}(e.Oh,n)}))})),t.$f=e,[2]}}))}))}function ld(t){return F(this,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return t.Lf?[3,2]:(Ki("FirestoreClient","Using default OfflineComponentProvider"),[4,hd(t,new Sl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}}))}))}function pd(t){return F(this,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return t.$f?[3,2]:(Ki("FirestoreClient","Using default OnlineComponentProvider"),[4,fd(t,new Dl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}}))}))}function dd(t){return ld(t).then((function(t){return t.persistence}))}function vd(t){return ld(t).then((function(t){return t.Cu}))}function yd(t){return pd(t).then((function(t){return t.Oh}))}function gd(t){return pd(t).then((function(t){return t.ga}))}function md(t){return F(this,void 0,void 0,(function(){var e,n;return q(this,(function(r){switch(r.label){case 0:return[4,pd(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=Mf.bind(null,e.ga),n.Zu=Vf.bind(null,e.ga),n)]}}))}))}function bd(t,e,n,r,i){var o=new Pl({next:function(o){e.Ri((function(){return pf(t,s)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Zi(Qi.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Zi(Qi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new gf($u(n.path),o,{includeMetadataChanges:!0,oa:!0});return lf(t,s)}function wd(t,e,n,r,i){var o=new Pl({next:function(n){e.Ri((function(){return pf(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Zi(Qi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new gf(n,o,{includeMetadataChanges:!0,oa:!0});return lf(t,s)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Id=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=qp(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=Ed(t,this.U_),i=Bd(r.j_,e,n),o=Xp(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(o.ef(r.K_,Au.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var o,s=Ed(t,this.U_);return e instanceof Cl&&(e=e.o_),o="string"==typeof e||e instanceof up?$p(this.Qf,"WriteBatch.update",s.K_,e,n,r):Yp(this.Qf,"WriteBatch.update",s.K_,e),this.qf=this.qf.concat(o.ef(s.K_,Au.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=Ed(t,this.U_);return this.qf=this.qf.concat(new Uu(e.K_,Au.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new Zi(Qi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Ed(t,e){if(t instanceof Cl&&(t=t.o_),t.firestore!==e)throw new Zi(Qi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var _d=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return V(e,t),e.prototype.get=function(e){var n=this,r=Ed(e,this.U_),i=new yp(this.U_);return t.prototype.get.call(this,e).then((function(t){return new fp(n.U_,i,r.K_,t.W_,new Rd(!1,!1),r.j_)}))},e}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=qp(t)}return t.prototype.get=function(t){var e=this,n=Ed(t,this.U_),r=new Vp(this.U_);return this.Wf.pf([n.K_]).then((function(t){if(!t||1!==t.length)return Yi();var i=t[0];if(i instanceof Hu)return new ip(e.U_,r,n.K_,null,n.j_);if(i instanceof Ku)return new ip(e.U_,r,i.key,i,n.j_);throw Yi()}))},t.prototype.set=function(t,e,n){var r=Ed(t,this.U_),i=Bd(r.j_,e,n),o=Xp(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Ed(t,this.U_);return e instanceof Cl&&(e=e.o_),o="string"==typeof e||e instanceof up?$p(this.Qf,"Transaction.update",s.K_,e,n,r):Yp(this.Qf,"Transaction.update",s.K_,e),this.Wf.update(s.K_,o),this},t.prototype.delete=function(t){var e=Ed(t,this.U_);return this.Wf.delete(e.K_),this},t}()),Td=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){hp(t);var n=Nd(t),r=t.S_(),i=new Dl;return cp(n,i,new kl(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){hp(t);var e=Nd(t),n=t.S_(),r=new Dl;return cp(e,r,new Ol(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new Zi(Qi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Pa;return t.z_.Ni((function(){return F(e,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return F(this,void 0,void 0,(function(){var e;return q(this,(function(n){switch(n.label){case 0:return Fa.Gs()?(e=t+"main",[4,Fa.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(gh(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.o_)},t}(),Ad=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof qi||(i.Gf=e),i}return V(e,t),Object.defineProperty(e.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&Wi("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){return function(t){var e=this;return t.di.enqueue((function(){return F(e,void 0,void 0,(function(){var e,n;return q(this,(function(r){switch(r.label){case 0:return[4,dd(t)];case 1:return e=r.sent(),[4,yd(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=Ji(t);return e.Mu.delete(0),Vh(e)}(n))]}}))}))}))}(Nd(t))}(this.o_)},e.prototype.disableNetwork=function(){return function(t){return function(t){var e=this;return t.di.enqueue((function(){return F(e,void 0,void 0,(function(){var e,n;return q(this,(function(r){switch(r.label){case 0:return[4,dd(t)];case 1:return e=r.sent(),[4,yd(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return F(this,void 0,void 0,(function(){var e;return q(this,(function(n){switch(n.label){case 0:return(e=Ji(t)).Mu.add(0),[4,Uh(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Nd(t))}(this.o_)},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ll("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){return function(t){var e=this,n=new Pa;return t.di.Ri((function(){return F(e,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return e=Kf,[4,gd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Nd(t))}(this.o_)},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=Nd(t),i=xa(e)?e:{next:e},o=new Pl(i);return t.z_.Ri((function(){return F(n,void 0,void 0,(function(){var t;return q(this,(function(e){switch(e.label){case 0:return t=function(t,e){Ji(t).Hu.add(e),e.next()},[4,md(r)];case 1:return t.apply(void 0,[e.sent(),o]),[2]}}))}))})),function(){o.r_(),t.z_.Ri((function(){return F(n,void 0,void 0,(function(){var t;return q(this,(function(e){switch(e.label){case 0:return t=function(t,e){Ji(t).Hu.delete(e)},[4,md(r)];case 1:return t.apply(void 0,[e.sent(),o]),[2]}}))}))}))}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Gf)throw new Zi(Qi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Fd(this,Mp(this.o_,t))}catch(t){throw Pd(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Dd(this,jp(this.o_,t))}catch(t){throw Pd(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new jd(this,function(t,e){if(xl("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ep(t,null,function(t){return new Xu(po.X(),t)}(e))}(this.o_,t))}catch(t){throw Pd(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Pa;return t.di.Ri((function(){return F(n,void 0,void 0,(function(){var n;return q(this,(function(i){switch(i.label){case 0:return[4,function(t){return pd(t).then((function(t){return t.Nu}))}(t)];case 1:return n=i.sent(),new ad(t.di,n,e,r).run(),[2]}}))}))})),r.promise}(Nd(t),(function(n){return e(new _d(t,n))}))}(this.o_,(function(n){return t(new kd(e,n))}))},e.prototype.batch=function(){var t=this;return Nd(this.o_),new Od(new Id(this.o_,(function(e){return bp(t.o_,e)})))},e}(Cl);function Nd(t){return t.H_||Sd(t),t.H_.kf(),t.H_}function Sd(t){var e=t.S_(),n=function(t,e,n){return new Fi(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new cd(t.P_,t.z_,n)}var kd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return V(e,t),e.prototype.get=function(t){var e=this,n=qd(t);return this.o_.get(n).then((function(t){return new Ld(e.U_,t)}))},e.prototype.set=function(t,e,n){var r=qd(t);return n?(Rl("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=qd(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,K([s,e,n],i)),this},e.prototype.delete=function(t){var e=qd(t);return this.o_.delete(e),this},e}(Cl),Od=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.set=function(t,e,n){var r=qd(t);return n?(Rl("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=qd(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,K([s,e,n],i)),this},e.prototype.delete=function(t){var e=qd(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(Cl),Dd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new rp(e),r}return V(e,t),e.zf=function(t,n,r){if(t.length%2!=0)throw new Zi(Qi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new Ip(n.o_,r,new go(t)))},e.q_=function(t,n,r){return new e(n,new Ip(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Fd(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Fd(this.firestore,Mp(this.o_,t))}catch(t){throw Pd(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Cl&&(t=t.o_),t instanceof Ip&&Up(this.o_,t)},e.prototype.set=function(t,e){e=Rl("DocumentReference.set",e);try{return function(t,e,n){var r=Ul(t.firestore,ap),i=Bd(t.j_,e,n);return bp(r,Xp(qp(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,Au.on()))}(this.o_,t,e)}catch(t){throw Pd(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?gp(this.o_,t):gp.apply(void 0,K([this.o_,t,e],n))}catch(t){throw Pd(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return bp(Ul((t=this.o_).firestore,ap),[new Uu(t.K_,Au.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Cd(e),i=xd(e,(function(e){return new Ld(t.firestore,new fp(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))}));return mp(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=Ul(t.firestore,ap),r=Nd(n),i=new yp(n),o=new Pa;return n.z_.Ri((function(){return F(e,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,vd(r)];case 1:return[4,function(t,e,n){return F(this,void 0,void 0,(function(){var r,i,o;return q(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Ji(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Oc.cs(t,e)}))}(t,e)];case 1:return(r=s.sent())instanceof Ku?n.resolve(r):r instanceof Hu?n.resolve(null):n.reject(new Zi(Qi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=Za(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))}(e.sent(),t.K_,o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new fp(n,i,t.K_,e,new Rd(e instanceof Ku&&e.an,!0),t.j_)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=Ul(t.firestore,ap),r=Nd(n),i=new Pa;return n.z_.Ri((function(){return F(e,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,md(r)];case 1:return[4,bd(e.sent(),n.z_,t.K_,{source:"server"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return wp(n,t,e)}))}(this.o_):function(t){var e=this,n=Ul(t.firestore,ap),r=Nd(n),i=new Pa;return n.z_.Ri((function(){return F(e,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,md(r)];case 1:return[4,bd(e.sent(),n.z_,t.K_,{source:"default"},i)];case 2:return e.sent(),[2]}}))}))})),i.promise.then((function(e){return wp(n,t,e)}))}(this.o_)).then((function(t){return new Ld(e.firestore,new fp(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Cl);function Pd(t,e,n){return t.message=t.message.replace(e,n),t}function Cd(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!xa(r))return r}return{}}function xd(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=xa(t[0])?t[0]:xa(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Rd=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ld=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return V(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Dd(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return vp(this.o_,t.o_)},e}(Cl),Md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(Ld),jd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return V(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Tp(this.o_,function(t,e,n){var r=e,i=sp("where",t);return new Ap(i,r,n)}(t,n,r)))}catch(t){throw Pd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Tp(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=sp("orderBy",t);return new Np(r,n)}(t,n)))}catch(t){throw Pd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Tp(this.o_,function(t){return Fl("limit",t),new Sp("limit",t,"F")}(t)))}catch(t){throw Pd(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Tp(this.o_,function(t){return Fl("limitToLast",t),new Sp("limitToLast",t,"L")}(t)))}catch(t){throw Pd(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Tp(this.o_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kp("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Pd(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Tp(this.o_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new kp("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Pd(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Tp(this.o_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Op("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Pd(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Tp(this.o_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Op("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Pd(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Fp(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=Ul(t.firestore,ap),r=Nd(n),i=new yp(n),o=new Pa;return n.z_.Ri((function(){return F(e,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,vd(r)];case 1:return[4,function(t,e,n){return F(this,void 0,void 0,(function(){var r,i,o,s,u,a;return q(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Sh(t,e,!0)];case 1:return r=c.sent(),i=new Cf(e,r.Bc),o=i.gh(r.documents),s=i.Zn(o,!1),n.resolve(s.snapshot),[3,3];case 2:return u=c.sent(),a=Za(u,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))}(e.sent(),t.tf,o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new pp(n,i,t,e)}))}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=Ul(t.firestore,ap),r=Nd(n),i=new yp(n),o=new Pa;return n.z_.Ri((function(){return F(e,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,md(r)];case 1:return[4,wd(e.sent(),n.z_,t.tf,{source:"server"},o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new pp(n,i,t,e)}))}(this.o_):function(t){var e=this,n=Ul(t.firestore,ap),r=Nd(n),i=new yp(n);Rp(t.tf);var o=new Pa;return n.z_.Ri((function(){return F(e,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,md(r)];case 1:return[4,wd(e.sent(),n.z_,t.tf,{source:"default"},o)];case 2:return e.sent(),[2]}}))}))})),o.promise.then((function(e){return new pp(n,i,t,e)}))}(this.o_)).then((function(t){return new Ud(e.firestore,t)}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Cd(e),i=xd(e,(function(e){return new Ud(t.firestore,e)}));return mp(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Cl),Vd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return V(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Md(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(Cl),Ud=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return V(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new jd(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map((function(e){return new Md(t.U_,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map((function(t){return new Vd(e.U_,t)}))},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach((function(r){t.call(e,new Md(n.U_,r))}))},e.prototype.isEqual=function(t){return vp(this.o_,t.o_)},e}(Cl),Fd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return V(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new Dd(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Dd(this.firestore,void 0===t?jp(this.o_):jp(this.o_,t))}catch(t){throw Pd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ul(t.firestore,ap),r=jp(t),i=Bd(t.j_,e);return bp(n,Xp(qp(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,Au.exists(!1))).then((function(){return r}))}(this.o_,t).then((function(t){return new Dd(e.firestore,t)}))},e.prototype.isEqual=function(t){return Up(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(jd);function qd(t){return t instanceof Cl&&(t=t.o_),Ul(t,Ip)}function Bd(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gd=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(up.bind.apply(up,K([void 0],e))))||this}return V(e,t),e.documentId=function(){return new e(yo.et().J())},e.prototype.isEqual=function(t){return t instanceof Cl&&(t=t.o_),t instanceof up&&this.o_.G_.isEqual(t.G_)},e}(Cl),zd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.serverTimestamp=function(){var t=new zl("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Bl("deleteField");return t.c_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kl("arrayUnion",t)}.apply(void 0,t);return r.c_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hl("arrayRemove",t)}.apply(void 0,t);return r.c_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Wl("increment",t)}(t);return n.c_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(Cl),Kd={Firestore:Ad,GeoPoint:Xl,Timestamp:ho,Blob:ep,Transaction:kd,WriteBatch:Od,DocumentReference:Dd,DocumentSnapshot:Ld,Query:jd,QueryDocumentSnapshot:Md,QuerySnapshot:Ud,CollectionReference:Fd,FieldPath:Gd,FieldValue:zd,setLogLevel:function(t){var e;e=t,Gi.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(t){!function(t,e){t.INTERNAL.registerComponent(new it("firestore",(function(t){return function(t,e){return new Ad(t,new ap(t,e),new Td)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Kd)))}(t),t.registerVersion("@firebase/firestore","2.0.4")}(Ct);Ct.initializeApp({apiKey:"AIzaSyBrXN5-hrOLGFlZjFnZ1iC8dBfYcP4mpF8",authDomain:"gaitpedia.firebaseapp.com",databaseURL:"https://gaitpedia.firebaseio.com",projectId:"gaitpedia",storageBucket:"gaitpedia.appspot.com",messagingSenderId:"1058140372059",appId:"1:1058140372059:web:1e9984c0e669a4d966937e",measurementId:"G-994L0ZW2L4"});Ct.auth(),new Ct.auth.GoogleAuthProvider;const Hd=Ct.firestore();function Wd(t){return"function"==typeof t}var Xd=!1,Yd={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;Xd=t},get useDeprecatedSynchronousErrorHandling(){return Xd}};function $d(t){setTimeout((function(){throw t}),0)}var Jd={closed:!0,next:function(t){},error:function(t){if(Yd.useDeprecatedSynchronousErrorHandling)throw t;$d(t)},complete:function(){}},Qd=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function Zd(t){return null!==t&&"object"==typeof t}var tv=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),ev=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,o=n._unsubscribe,s=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var u=0;u<r.length;++u){r[u].remove(this)}if(Wd(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(t){e=t instanceof tv?nv(t.errors):[t]}}if(Qd(s)){u=-1;for(var a=s.length;++u<a;){var c=s[u];if(Zd(c))try{c.unsubscribe()}catch(t){e=e||[],t instanceof tv?e=e.concat(nv(t.errors)):e.push(t)}}}if(e)throw new tv(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function nv(t){return t.reduce((function(t,e){return t.concat(e instanceof tv?e.errors:e)}),[])}var rv=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),iv=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=Jd;break;case 1:if(!n){o.destination=Jd;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new ov(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new ov(o,n,r,i)}return o}return V(e,t),e.prototype[rv]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(ev),ov=function(t){function e(e,n,r,i){var o,s=t.call(this)||this;s._parentSubscriber=e;var u=s;return Wd(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==Jd&&(Wd((u=Object.create(n)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=o,s._error=r,s._complete=i,s}return V(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;Yd.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=Yd.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):$d(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;$d(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};Yd.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),Yd.useDeprecatedSynchronousErrorHandling)throw t;$d(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!Yd.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return Yd.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):($d(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(iv);var sv=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function uv(t){return t}function av(t){return 0===t.length?uv:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var cv=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof iv)return t;if(t[rv])return t[rv]()}return t||e||n?new iv(t,e,n):new iv(Jd)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||Yd.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Yd.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){Yd.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof iv?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=hv(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[sv]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:av(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=hv(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function hv(t){if(t||(t=Promise),!t)throw new Error("no Promise impl found");return t}function fv(t){return t&&"function"==typeof t.schedule}var lv=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function pv(t,e){return new cv((function(n){var r=new ev,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function dv(t,e){return e?pv(t,e):new cv(lv(t))}function vv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return fv(n)?(t.pop(),pv(t,n)):dv(t)}function yv(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new gv(t,e))}}var gv=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new mv(t,this.project,this.thisArg))},t}(),mv=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return V(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(iv);function bv(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var wv=bv(),Iv=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Ev(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var _v=function(t){if(t&&"function"==typeof t[sv])return r=t,function(t){var e=r[sv]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Iv(t))return lv(t);if(Ev(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,$d),t};if(t&&"function"==typeof t[wv])return e=t,function(t){for(var n=e[wv]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=Zd(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Tv(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[sv]}(t))return function(t,e){return new cv((function(n){var r=new ev;return r.add(e.schedule((function(){var i=t[sv]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Ev(t))return function(t,e){return new cv((function(n){var r=new ev;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Iv(t))return pv(t,e);if(function(t){return t&&"function"==typeof t[wv]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new cv((function(n){var r,i=new ev;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[wv](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}var Av=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return V(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(iv),Nv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(iv);function Sv(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(Sv((function(n,r){return(i=t(n,r),o?Tv(i,o):i instanceof cv?i:new cv(_v(i))).pipe(yv((function(t,i){return e(n,t,r,i)})));var i,o}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new kv(t,n))})}var kv=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Ov(t,this.project,this.concurrent))},t}(),Ov=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return V(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new Av(this),n=this.destination;n.add(e);var r=function(t,e){if(!e.closed)return t instanceof cv?t.subscribe(e):_v(t)(e)}(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Nv);function Dv(){return void 0===(t=1)&&(t=Number.POSITIVE_INFINITY),Sv(uv,t);var t}function Pv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Dv()(vv.apply(void 0,t))}function Cv(t,e){
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
return function(t,e){return new cv((function(n){return{unsubscribe:t.onSnapshot(e||{},n)}}))}(t,e)}function xv(t){return(e=t,Cv(e,n)).pipe(yv((function(t){return t.docs})));var e,n}function Rv(t,e){return xv(t).pipe(yv((function(t){return t.map((function(t){return function(t,e){var n;return U(U({},t.data()),e?((n={})[e]=t.id,n):null)}(t,e)}))})))}function Lv(t){return!t||/^\s*$/.test(t)}function Mv(t){let e,n;return{c(){var r,i,o;e=h("p"),n=f(t[0]),r="color",i="red",e.style.setProperty(r,i,o?"important":"")},m(t,r){a(t,e,r),u(e,n)},p(t,e){1&e&&v(n,t[0])},d(t){t&&c(e)}}}function jv(e){let n,i,o,s,f,v,g,m,b,w,I,E=e[0]&&Mv(e);return{c(){n=h("div"),i=h("h2"),i.textContent="Nieuwe betekenis",o=l(),E&&E.c(),s=l(),f=h("input"),v=l(),g=h("input"),m=l(),b=h("button"),b.textContent="Aanmaken",f.required=!0,d(f,"placeholder","Orgineel"),g.required=!0,d(g,"placeholder","Betekenis")},m(t,r){a(t,n,r),u(n,i),u(n,o),E&&E.m(n,null),u(n,s),u(n,f),y(f,e[1]),u(n,v),u(n,g),y(g,e[2]),u(n,m),u(n,b),w||(I=[p(f,"input",e[4]),p(g,"input",e[5]),p(b,"click",e[3])],w=!0)},p(t,[e]){t[0]?E?E.p(t,e):(E=Mv(t),E.c(),E.m(n,s)):E&&(E.d(1),E=null),2&e&&f.value!==t[1]&&y(f,t[1]),4&e&&g.value!==t[2]&&y(g,t[2])},i:t,o:t,d(t){t&&c(n),E&&E.d(),w=!1,r(I)}}}function Vv(t,e,n){const r=Hd.collection("wikientries");let i="",o="",s="";return[i,o,s,function(){Lv(o)||Lv(s)?n(0,i="Niet ingevuld"):(!async function(t,e){(await r.where("original","==",t).get()).empty?await r.add({original:t,definition:e}):n(0,i="Betekenis bestaat al.")}(o,s),n(0,i=""),n(1,o=""),n(2,s=""))},function(){o=this.value,n(1,o)},function(){s=this.value,n(2,s)}]}class Uv extends M{constructor(t){super(),L(this,t,Vv,jv,o,{})}}function Fv(t,e,n){const r=t.slice();return r[6]=e[n],r}function qv(t){let e,n,r,i,o,s,l=t[6].original+"",d=t[6].definition+"";function y(){return t[3](t[6])}return{c(){e=h("p"),n=f(l),r=f(" = "),i=f(d)},m(t,c){a(t,e,c),u(e,n),u(e,r),u(e,i),o||(s=p(e,"click",y),o=!0)},p(e,r){t=e,1&r&&l!==(l=t[6].original+"")&&v(n,l),1&r&&d!==(d=t[6].definition+"")&&v(i,d)},d(t){t&&c(e),o=!1,s()}}}function Bv(t){let e;return{c(){e=h("p"),e.textContent="Nog geen betekenissen gemaakt."},m(t,n){a(t,e,n)},d(t){t&&c(e)}}}function Gv(t){let e,n,r,i,o,s,f,p=t[0],d=[];for(let e=0;e<p.length;e+=1)d[e]=qv(Fv(t,p,e));let v=0===t[0].length&&Bv();return s=new Uv({}),{c(){e=h("main"),n=h("h2"),n.textContent="Gaitpedia",r=l();for(let t=0;t<d.length;t+=1)d[t].c();var t;i=l(),v&&v.c(),o=l(),(t=s.$$.fragment)&&t.c()},m(t,c){a(t,e,c),u(e,n),u(e,r);for(let t=0;t<d.length;t+=1)d[t].m(e,null);u(e,i),v&&v.m(e,null),u(e,o),C(s,e,null),f=!0},p(t,[n]){if(5&n){let r;for(p=t[0],r=0;r<p.length;r+=1){const o=Fv(t,p,r);d[r]?d[r].p(o,n):(d[r]=qv(o),d[r].c(),d[r].m(e,i))}for(;r<d.length;r+=1)d[r].d(1);d.length=p.length}0===t[0].length?v||(v=Bv(),v.c(),v.m(e,o)):v&&(v.d(1),v=null)},i(t){f||(P(s.$$.fragment,t),f=!0)},o(t){!function(t,e,n,r){if(t&&t.o){if(D.has(t))return;D.add(t),(void 0).c.push((()=>{D.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}(s.$$.fragment,t),f=!1},d(t){t&&c(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(d,t),v&&v.d(),x(s)}}}function zv(t,e,n){let r;const i=Hd.collection("wikientries"),o=Rv(i,"id").pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return fv(n)?(t.pop(),function(e){return Pv(t,e,n)}):function(e){return Pv(t,e)}}([]));function u(t){confirm(`Weet je zeker dat je ${t.original} wilt verwijderen?`)&&async function(t){await i.doc(t).delete()}(t.id)}s(t,o,(t=>n(0,r=t)));return[r,o,u,t=>u(t)]}return new class extends M{constructor(t){super(),L(this,t,zv,Gv,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
